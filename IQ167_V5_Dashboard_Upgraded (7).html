<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ-167 V5.0 SECURE | Maxam Capital Dashboard</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <style>
        /* Reset and Base */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --navy-900: #0F172A;
            --navy-800: #1E293B;
            --navy-700: #334155;
            --navy-600: #475569;
            --maxam-blue: #1E40AF;
            --maxam-gold: #D97706;
            --maxam-green: #059669;
            --green-400: #4ADE80;
            --green-500: #22C55E;
            --red-400: #F87171;
            --red-500: #EF4444;
            --yellow-400: #FACC15;
            --purple-400: #C084FC;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--navy-900);
            color: white;
            min-height: 100vh;
        }
        
        /* Layout */
        .app-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 256px;
            background-color: var(--navy-800);
            border-right: 1px solid var(--navy-700);
            padding: 1rem;
            position: fixed;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--maxam-blue), var(--maxam-gold));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 0.875rem;
        }
        
        .logo-subtitle {
            font-size: 0.7rem;
            color: var(--maxam-gold);
        }
        
        /* Navigation */
        .nav-list {
            list-style: none;
            flex: 1;
        }
        
        .nav-section {
            margin-bottom: 1rem;
        }
        
        .nav-section-title {
            font-size: 0.7rem;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.5rem 1rem;
            margin-top: 0.5rem;
        }
        
        .nav-item {
            margin-bottom: 0.25rem;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            color: var(--gray-400);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: none;
            width: 100%;
            font-size: 0.9rem;
        }
        
        .nav-link:hover {
            background-color: var(--navy-700);
            color: white;
        }
        
        .nav-link.active {
            background-color: var(--maxam-blue);
            color: white;
        }
        
        .nav-icon {
            font-size: 1.1rem;
        }
        
        /* System Status */
        .system-status {
            border-top: 1px solid var(--navy-700);
            padding-top: 1rem;
            margin-top: 1rem;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background-color: var(--green-400);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .status-text {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        .latency-text {
            font-size: 0.75rem;
            color: var(--gray-500);
            padding-left: 1rem;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 256px;
            padding: 1.5rem;
        }
        
        /* Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .page-subtitle {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .live-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            background-color: var(--navy-800);
            border-radius: 8px;
        }
        
        .live-dot {
            width: 8px;
            height: 8px;
            background-color: var(--green-400);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .datetime {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        /* Grid Layouts */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .stats-grid-6 {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .agents-trades-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .agents-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
        }
        
        .two-col-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .three-col-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        /* Cards */
        .card {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-700);
            border-radius: 12px;
            padding: 1.25rem;
            transition: border-color 0.2s;
        }
        
        .card:hover {
            border-color: rgba(30, 64, 175, 0.5);
        }
        
        .card-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .card-subtitle {
            font-size: 0.8rem;
            color: var(--gray-500);
            margin-bottom: 0.75rem;
        }
        
        /* Stat Cards */
        .stat-card {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-700);
            border-radius: 12px;
            padding: 1.25rem;
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        .stat-icon {
            font-size: 1.5rem;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        
        .stat-value.small {
            font-size: 1.25rem;
        }
        
        .stat-change {
            font-size: 0.875rem;
        }
        
        .stat-change.positive { color: var(--green-400); }
        .stat-change.negative { color: var(--red-400); }
        .stat-change.neutral { color: var(--gray-400); }
        
        /* Agent Cards */
        .agent-card {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-700);
            border-radius: 8px;
            padding: 1rem;
            transition: border-color 0.2s;
        }
        
        .agent-card:hover {
            border-color: rgba(30, 64, 175, 0.5);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .agent-icon {
            font-size: 1.5rem;
        }
        
        .agent-info {
            flex: 1;
            min-width: 0;
        }
        
        .agent-name {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .agent-category {
            font-size: 0.7rem;
            color: var(--gray-500);
        }
        
        .agent-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--green-400);
            animation: pulse 2s infinite;
        }
        
        .confidence-bar {
            height: 6px;
            background-color: var(--navy-700);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s;
        }
        
        .signal-bullish { color: var(--green-400); }
        .signal-neutral { color: var(--yellow-400); }
        .signal-bearish { color: var(--red-400); }
        
        /* Chart Container */
        .chart-container {
            position: relative;
            height: 250px;
        }
        
        .chart-container.tall {
            height: 350px;
        }
        
        /* Trade List */
        .trade-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .trade-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            transition: background-color 0.2s;
        }
        
        .trade-item:hover {
            background-color: rgba(51, 65, 85, 0.5);
        }
        
        .trade-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .trade-indicator {
            width: 4px;
            height: 32px;
            border-radius: 2px;
        }
        
        .trade-indicator.buy { background-color: var(--green-400); }
        .trade-indicator.sell { background-color: var(--red-400); }
        
        .trade-symbol {
            font-weight: 500;
        }
        
        .trade-time {
            font-size: 0.75rem;
            color: var(--gray-500);
        }
        
        .trade-right {
            text-align: right;
        }
        
        .trade-value {
            font-family: monospace;
        }
        
        .trade-pnl {
            font-size: 0.75rem;
            font-family: monospace;
        }
        
        .trade-pnl.positive { color: var(--green-400); }
        .trade-pnl.negative { color: var(--red-400); }
        
        /* Consensus Section */
        .consensus-section {
            display: flex;
            justify-content: space-between;
            padding-top: 1rem;
            margin-top: 1rem;
            border-top: 1px solid var(--navy-700);
        }
        
        .consensus-item {
            text-align: center;
        }
        
        .consensus-label {
            font-size: 0.875rem;
            color: var(--gray-400);
            margin-bottom: 0.25rem;
        }
        
        .consensus-value {
            font-size: 1.25rem;
            font-weight: 700;
        }
        
        .consensus-value.bullish { color: var(--green-400); }
        .consensus-value.phase { color: var(--purple-400); }
        
        /* Allocation Legend */
        .allocation-legend {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }
        
        .legend-label {
            color: var(--gray-400);
        }
        
        .legend-value {
            margin-left: auto;
        }
        
        /* Assets Table */
        .assets-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .assets-table th {
            text-align: left;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            color: var(--gray-400);
            font-weight: 500;
            border-bottom: 1px solid var(--navy-700);
        }
        
        .assets-table th:nth-child(2),
        .assets-table th:nth-child(3),
        .assets-table th:nth-child(4) {
            text-align: right;
        }
        
        .assets-table td {
            padding: 0.6rem 1rem;
            border-bottom: 1px solid var(--navy-700);
            font-size: 0.9rem;
        }
        
        .assets-table tr:hover {
            background-color: rgba(51, 65, 85, 0.5);
        }
        
        .asset-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .asset-icon {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.75rem;
        }
        
        .asset-name {
            font-weight: 500;
        }
        
        .asset-fullname {
            font-size: 0.7rem;
            color: var(--gray-500);
        }
        
        .price-cell {
            text-align: right;
            font-family: monospace;
        }
        
        .change-cell {
            text-align: right;
            font-family: monospace;
        }
        
        .change-cell.positive { color: var(--green-400); }
        .change-cell.negative { color: var(--red-400); }
        
        .class-cell {
            text-align: right;
        }
        
        .class-badge {
            display: inline-block;
            padding: 0.2rem 0.4rem;
            background-color: var(--navy-700);
            border-radius: 4px;
            font-size: 0.7rem;
            color: var(--gray-400);
        }
        
        .allocation-cell {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .allocation-bar {
            flex: 1;
            height: 8px;
            background-color: var(--navy-700);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .allocation-fill {
            height: 100%;
            background-color: var(--maxam-blue);
            border-radius: 4px;
        }
        
        .allocation-value {
            font-size: 0.875rem;
            color: var(--gray-400);
            width: 40px;
            text-align: right;
        }
        
        /* Controls */
        .control-group {
            margin-bottom: 1.5rem;
        }
        
        .control-label {
            font-size: 0.875rem;
            color: var(--gray-400);
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .control-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--navy-700);
            border: 1px solid var(--navy-600);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
        }
        
        .control-input:focus {
            outline: none;
            border-color: var(--maxam-blue);
        }
        
        .control-select {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--navy-700);
            border: 1px solid var(--navy-600);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            cursor: pointer;
        }
        
        .control-btn {
            padding: 0.75rem 1.5rem;
            background-color: var(--maxam-blue);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .control-btn:hover {
            background-color: #1E3A8A;
        }
        
        .control-btn.secondary {
            background-color: var(--navy-700);
        }
        
        .control-btn.secondary:hover {
            background-color: var(--navy-600);
        }
        
        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--navy-700);
        }
        
        .comparison-table th {
            font-size: 0.875rem;
            color: var(--gray-400);
            font-weight: 500;
        }
        
        .comparison-table td:not(:first-child) {
            text-align: right;
            font-family: monospace;
        }
        
        .comparison-table tr:hover {
            background-color: rgba(51, 65, 85, 0.5);
        }
        
        .highlight-row {
            background-color: rgba(30, 64, 175, 0.2);
        }
        
        .highlight-row td {
            font-weight: 600;
        }
        
        /* P&L Table */
        .pnl-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--navy-700);
        }
        
        .pnl-item:last-child {
            border-bottom: none;
        }
        
        .pnl-label {
            color: var(--gray-400);
        }
        
        .pnl-value {
            font-weight: 600;
            font-family: monospace;
        }
        
        .pnl-value.positive { color: var(--green-400); }
        .pnl-value.negative { color: var(--red-400); }
        
        /* Quarterly Reports */
        .report-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: var(--navy-700);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }
        
        .report-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .report-icon {
            font-size: 1.25rem;
        }
        
        .report-name {
            font-weight: 500;
        }
        
        .report-date {
            font-size: 0.75rem;
            color: var(--gray-500);
        }
        
        .report-btn {
            padding: 0.4rem 0.75rem;
            background-color: var(--maxam-blue);
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 0.75rem;
            cursor: pointer;
        }
        
        /* Responsive */
        @media (max-width: 1400px) {
            .stats-grid-6 { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .agents-grid { grid-template-columns: repeat(2, 1fr); }
            .stats-grid-6 { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; }
            .stats-grid { grid-template-columns: 1fr; }
            .charts-grid { grid-template-columns: 1fr; }
            .agents-trades-grid { grid-template-columns: 1fr; }
            .agents-grid { grid-template-columns: 1fr; }
            .two-col-grid { grid-template-columns: 1fr; }
            .three-col-grid { grid-template-columns: 1fr; }
        }
        
        /* Hidden */
        .hidden { display: none !important; }
        
        /* Page transitions */
        .page { display: none; }
        .page.active { display: block; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--navy-800); }
        ::-webkit-scrollbar-thumb { background: var(--navy-600); border-radius: 3px; }
        
        /* Gradient Cards */
        .gradient-card {
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(217, 119, 6, 0.2));
            border-color: rgba(30, 64, 175, 0.3);
        }
        
        .gradient-card-green {
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.2), rgba(34, 197, 94, 0.1));
            border-color: rgba(34, 197, 94, 0.3);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo-container">
                <div class="logo-icon">M</div>
                <div>
                    <div class="logo-text">MAXAM CAPITAL</div>
                    <div class="logo-subtitle">IQ-167 V5.0 SECURE</div>
                </div>
            </div>
            
            <ul class="nav-list">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <li class="nav-item">
                        <button class="nav-link active" data-page="dashboard">
                            <span class="nav-icon">üìä</span>
                            <span>Dashboard</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="agents">
                            <span class="nav-icon">ü§ñ</span>
                            <span>Agents</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="trading">
                            <span class="nav-icon">üíπ</span>
                            <span>Trading</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="risk">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            <span>Risk</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="analytics">
                            <span class="nav-icon">üìà</span>
                            <span>Analytics</span>
                        </button>
                    </li>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Management</div>
                    <li class="nav-item">
                        <button class="nav-link" data-page="portfolio">
                            <span class="nav-icon">üíº</span>
                            <span>Portfolio Management</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="investor">
                            <span class="nav-icon">üè¶</span>
                            <span>Investor Portal</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="research">
                            <span class="nav-icon">üî¨</span>
                            <span>Research</span>
                        </button>
                    </li>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Compliance & Security</div>
                    <li class="nav-item">
                        <button class="nav-link" data-page="auditing">
                            <span class="nav-icon">üìã</span>
                            <span>Auditing</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="security">
                            <span class="nav-icon">üîê</span>
                            <span>Security</span>
                        </button>
                    </li>
                </div>
            </ul>
            
            <div class="system-status">
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text">System Online</span>
                </div>
                <div class="latency-text">Latency: 8.2ms</div>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="page-header">
                <div>
                    <h1 class="page-title" id="page-title">Dashboard</h1>
                    <p class="page-subtitle">IQ-167 V5.0 SECURE ‚Ä¢ Multi-Asset Trading Platform</p>
                </div>
                <div class="header-right">
                    <div class="live-badge">
                        <div class="live-dot"></div>
                        <span class="status-text">Live</span>
                    </div>
                    <div class="datetime" id="datetime"></div>
                </div>
            </header>
            
            <!-- Dashboard Page -->
            <div class="page active" id="page-dashboard">
                <!-- Stats Row -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total AUM</span>
                            <span class="stat-icon">üí∞</span>
                        </div>
                        <div class="stat-value" id="stat-aum">$9.11B</div>
                        <div class="stat-change positive" id="stat-ytd">+82.15% YTD</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Daily P&L</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value" id="stat-pnl">$42.85M</div>
                        <div class="stat-change positive" id="stat-pnl-pct">+0.47%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Win Rate</span>
                            <span class="stat-icon">üéØ</span>
                        </div>
                        <div class="stat-value">77.8%</div>
                        <div class="stat-change neutral">Last 30 days</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Sharpe Ratio</span>
                            <span class="stat-icon">‚ö°</span>
                        </div>
                        <div class="stat-value">2.87</div>
                        <div class="stat-change neutral">Risk-adjusted</div>
                    </div>
                </div>
                
                <!-- Charts Row -->
                <div class="charts-grid">
                    <div class="card">
                        <h3 class="card-title">Portfolio Performance (30D)</h3>
                        <div class="chart-container">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Asset Allocation</h3>
                        <div class="chart-container">
                            <canvas id="allocationChart"></canvas>
                        </div>
                        <div class="allocation-legend" id="allocation-legend"></div>
                    </div>
                </div>
                
                <!-- Agents & Trades Row -->
                <div class="agents-trades-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">19-Agent Status</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">All Active</span>
                            </div>
                        </div>
                        <div class="agents-grid" id="agents-grid"></div>
                        <div class="consensus-section">
                            <div class="consensus-item">
                                <div class="consensus-label">Consensus Signal</div>
                                <div class="consensus-value bullish">BULLISH (76)</div>
                            </div>
                            <div class="consensus-item">
                                <div class="consensus-label">Avg Confidence</div>
                                <div class="consensus-value">87.4%</div>
                            </div>
                            <div class="consensus-item">
                                <div class="consensus-label">Market Phase</div>
                                <div class="consensus-value phase">MID-CYCLE</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Recent Trades</h3>
                        <div class="trade-list" id="trade-list"></div>
                    </div>
                </div>
                
                <!-- Assets Table - Expanded to 16+ assets -->
                <div class="card">
                    <h3 class="card-title">Asset Universe (16+ Assets)</h3>
                    <div style="max-height: 500px; overflow-y: auto;">
                        <table class="assets-table">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Price</th>
                                    <th>24h Change</th>
                                    <th>Class</th>
                                    <th>Allocation</th>
                                </tr>
                            </thead>
                            <tbody id="assets-tbody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Fee Summary -->
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Fee Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">8.0%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Management Fee</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">50.0%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Performance Fee</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">$728.8M</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Mgmt Fees YTD</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">$1.92B</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Perf Fees YTD</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Agents Page -->
            <div class="page" id="page-agents">
                <div id="agents-full-list"></div>
            </div>
            
            <!-- Trading Page - Updated with more venues -->
            <div class="page" id="page-trading">
                <h3 style="margin-bottom: 1rem; color: var(--gray-400);">Cryptocurrency Exchanges</h3>
                <div class="stats-grid-6" id="crypto-venues-grid"></div>
                
                <h3 style="margin-bottom: 1rem; color: var(--gray-400);">Traditional & Index Markets</h3>
                <div class="stats-grid-6" id="tradfi-venues-grid"></div>
                
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Live Trade Stream</h3>
                    <div class="trade-list" id="trading-trade-list" style="max-height: 500px;"></div>
                </div>
            </div>
            
            <!-- Risk Page -->
            <div class="page" id="page-risk">
                <!-- Primary Risk Metrics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Portfolio VaR (95%)</span>
                            <span class="stat-icon">üìâ</span>
                        </div>
                        <div class="stat-value">0.9%</div>
                        <div class="stat-change positive">Target &lt;2% ‚úì</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">CVaR (95%)</span>
                            <span class="stat-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="stat-value">1.3%</div>
                        <div class="stat-change positive">Target &lt;3% ‚úì</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Max Drawdown</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">-5.7%</div>
                        <div class="stat-change positive">Limit: -15%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Sharpe Ratio</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value">2.84</div>
                        <div class="stat-change positive">Excellent</div>
                    </div>
                </div>
                
                <!-- Secondary Risk Metrics -->
                <div class="stats-grid" style="margin-top: 1rem;">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Gross Leverage</span>
                            <span class="stat-icon">‚ö°</span>
                        </div>
                        <div class="stat-value">1.8x</div>
                        <div class="stat-change positive">Max: 3.0x</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Net Leverage</span>
                            <span class="stat-icon">‚öñÔ∏è</span>
                        </div>
                        <div class="stat-value">1.4x</div>
                        <div class="stat-change positive">Max: 2.0x</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Beta to BTC</span>
                            <span class="stat-icon">‚Çø</span>
                        </div>
                        <div class="stat-value">0.72</div>
                        <div class="stat-change neutral">Moderate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Beta to SPY</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">0.45</div>
                        <div class="stat-change positive">Low correlation</div>
                    </div>
                </div>
                
                <!-- On-Demand Risk Assessment -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">On-Demand Risk Assessment</h3>
                            <p class="card-subtitle" style="margin-bottom: 0;">Generate comprehensive risk analysis for any asset</p>
                        </div>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <select class="control-select" id="risk-asset-class" onchange="filterRiskAssets()">
                                <option value="all">All Asset Classes</option>
                                <option value="crypto">Cryptocurrencies</option>
                                <option value="stablecoin">Stablecoins</option>
                                <option value="equity">Equities</option>
                                <option value="fixed-income">Fixed Income</option>
                                <option value="commodity">Commodities</option>
                                <option value="reit">REITs</option>
                                <option value="derivative">Derivatives</option>
                            </select>
                            <select class="control-select" id="risk-asset-select" style="width: 180px;">
                                <option value="SOL">SOL - Solana</option>
                                <option value="BTC">BTC - Bitcoin</option>
                                <option value="ETH">ETH - Ethereum</option>
                                <option value="XRP">XRP - Ripple</option>
                                <option value="BNB">BNB - Binance Coin</option>
                                <option value="ADA">ADA - Cardano</option>
                                <option value="XLM">XLM - Stellar</option>
                                <option value="USDT">USDT - Tether</option>
                                <option value="USDC">USDC - USD Coin</option>
                                <option value="SPY">SPY - S&P 500 ETF</option>
                                <option value="QQQ">QQQ - Nasdaq 100</option>
                                <option value="TLT">TLT - Treasury Bonds</option>
                                <option value="GLD">GLD - Gold ETF</option>
                                <option value="SLV">SLV - Silver ETF</option>
                                <option value="USO">USO - Oil ETF</option>
                                <option value="VNQ">VNQ - Real Estate</option>
                                <option value="VIX">VIX - Volatility Index</option>
                            </select>
                            <select class="control-select" id="risk-timeframe">
                                <option value="1d">1 Day</option>
                                <option value="7d" selected>7 Days</option>
                                <option value="30d">30 Days</option>
                                <option value="90d">90 Days</option>
                                <option value="1y">1 Year</option>
                            </select>
                            <button class="control-btn" onclick="generateRiskAssessment()">üéØ Run Risk Assessment</button>
                        </div>
                    </div>
                </div>
                
                <!-- Risk Assessment Results -->
                <div class="card" style="margin-top: 1.5rem;" id="risk-assessment-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Risk Assessment Report</h3>
                        <span style="font-size: 0.875rem; color: var(--gray-400);" id="risk-assessment-timestamp">--</span>
                    </div>
                    <div id="risk-assessment-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üéØ</div>
                            <p>Select an asset and click "Run Risk Assessment" to generate a comprehensive risk report</p>
                        </div>
                    </div>
                </div>
                
                <!-- Real-Time Asset Risk Scores -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üî¥ Real-Time Asset Risk Scores</h3>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">Live Updates</span>
                            </div>
                            <button class="control-btn secondary" onclick="refreshRiskScores()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="risk-scores-table">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Class</th>
                                    <th>Risk Score</th>
                                    <th>VaR (95%)</th>
                                    <th>Volatility (30d)</th>
                                    <th>Liquidity Score</th>
                                    <th>Smart Contract</th>
                                    <th>Correlation</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="risk-scores-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Risk Limits & Exposure Analysis -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">‚ö†Ô∏è Risk Limits Status</h3>
                        <div id="risk-limits"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Exposure by Asset Class</h3>
                        <div id="exposure-analysis"></div>
                    </div>
                </div>
                
                <!-- Correlation Matrix & Stress Testing -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîó Top Correlations</h3>
                        <div id="correlation-matrix"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üí• Stress Test Scenarios</h3>
                        <div id="stress-tests"></div>
                    </div>
                </div>
                
                <!-- Risk Alerts -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üö® Active Risk Alerts</h3>
                        <span style="padding: 0.25rem 0.75rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.875rem;">3 Active</span>
                    </div>
                    <div id="risk-alerts"></div>
                </div>
            </div>
            
            <!-- Analytics Page - Updated with ROI comparison -->
            <div class="page" id="page-analytics">
                <div class="two-col-grid">
                    <div class="card">
                        <h3 class="card-title">10-Year Performance Projections</h3>
                        <div class="chart-container tall">
                            <canvas id="projectionsChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Average Annualized ROI Comparison</h3>
                        <div class="chart-container tall">
                            <canvas id="roiComparisonChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="stats-grid" style="margin-top: 1.5rem;" id="phase-stats"></div>
                
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Performance vs Major Benchmarks</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Investment Vehicle</th>
                                <th>1Y Return</th>
                                <th>3Y CAGR</th>
                                <th>5Y CAGR</th>
                                <th>10Y CAGR</th>
                                <th>Sharpe</th>
                                <th>Max DD</th>
                            </tr>
                        </thead>
                        <tbody id="benchmark-comparison"></tbody>
                    </table>
                </div>
                
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">10-Year Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--maxam-gold);">$42.18B</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Final AUM</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">13.6x</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Multiple</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">162.8%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">CAGR</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">76.2%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Win Rate</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">2.87</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Sharpe Ratio</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">-5.7%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Max Drawdown</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Portfolio Management Page - NEW -->
            <div class="page" id="page-portfolio">
                <!-- Portfolio Summary Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Portfolio Value</span>
                            <span class="stat-icon">üí∞</span>
                        </div>
                        <div class="stat-value" id="total-portfolio-value">$9.11B</div>
                        <div class="stat-change positive" id="portfolio-daily-change">+$38.4M (+0.42%) today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Positions</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">17</div>
                        <div class="stat-change neutral">Active assets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Unrealized P&L</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value positive" id="total-unrealized-pnl">+$6.63B</div>
                        <div class="stat-change positive">+267.3% total return</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Realized P&L (YTD)</span>
                            <span class="stat-icon">‚úÖ</span>
                        </div>
                        <div class="stat-value positive">+$1.24B</div>
                        <div class="stat-change positive">Closed positions</div>
                    </div>
                </div>
                
                <!-- Portfolio Allocation Charts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìä Portfolio Allocation</h3>
                        <div class="chart-container">
                            <canvas id="portfolioAllocationChart"></canvas>
                        </div>
                        <div id="portfolio-allocation-details" style="margin-top: 1rem;"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìà Asset Class Breakdown</h3>
                        <div id="asset-class-breakdown"></div>
                    </div>
                </div>
                
                <!-- Real-Time Position Updates Indicator -->
                <div class="card" style="margin-top: 1.5rem; padding: 0.75rem 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-weight: 600;">Live Position Updates</span>
                            </div>
                            <span style="color: var(--gray-400); font-size: 0.875rem;" id="position-last-update">Last update: Just now</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <select class="control-select" id="position-view-filter" onchange="filterPositions()" style="width: 150px;">
                                <option value="all">All Positions</option>
                                <option value="crypto">Crypto Only</option>
                                <option value="tradfi">TradFi Only</option>
                                <option value="profitable">Profitable</option>
                                <option value="losing">Losing</option>
                            </select>
                            <select class="control-select" id="position-sort" onchange="sortPositions()" style="width: 150px;">
                                <option value="value-desc">Value (High to Low)</option>
                                <option value="value-asc">Value (Low to High)</option>
                                <option value="pnl-desc">P&L (High to Low)</option>
                                <option value="pnl-asc">P&L (Low to High)</option>
                                <option value="weight-desc">Weight (High to Low)</option>
                                <option value="change-desc">24h Change (Best)</option>
                            </select>
                            <button class="control-btn" onclick="refreshPositions()">üîÑ Refresh</button>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Positions Table -->
                <div class="card" style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã All Positions - Detailed View</h3>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <button class="control-btn secondary" onclick="exportPositions()">üì• Export CSV</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="positions-table">
                            <thead>
                                <tr>
                                    <th style="min-width: 120px;">Asset</th>
                                    <th>Class</th>
                                    <th style="min-width: 100px;">Current Price</th>
                                    <th style="min-width: 100px;">Avg Entry</th>
                                    <th style="min-width: 100px;">Quantity</th>
                                    <th style="min-width: 120px;">Position Value</th>
                                    <th style="min-width: 80px;">Weight</th>
                                    <th style="min-width: 100px;">Cost Basis</th>
                                    <th style="min-width: 120px;">Unrealized P&L</th>
                                    <th style="min-width: 80px;">P&L %</th>
                                    <th style="min-width: 100px;">24h Change</th>
                                    <th style="min-width: 100px;">7d Change</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="positions-table-body"></tbody>
                            <tfoot id="positions-table-footer"></tfoot>
                        </table>
                    </div>
                </div>
                
                <!-- Position Performance Cards -->
                <div class="stats-grid" style="margin-top: 1.5rem; grid-template-columns: repeat(4, 1fr);">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);">
                        <div class="stat-header">
                            <span class="stat-label">Best Performer (24h)</span>
                            <span class="stat-icon">üèÜ</span>
                        </div>
                        <div class="stat-value small" id="best-performer-24h">SOL</div>
                        <div class="stat-change positive" id="best-performer-24h-change">+4.82%</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--red-400);">
                        <div class="stat-header">
                            <span class="stat-label">Worst Performer (24h)</span>
                            <span class="stat-icon">üìâ</span>
                        </div>
                        <div class="stat-value small" id="worst-performer-24h">USO</div>
                        <div class="stat-change negative" id="worst-performer-24h-change">-2.15%</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-gold);">
                        <div class="stat-header">
                            <span class="stat-label">Largest Position</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value small" id="largest-position">SOL</div>
                        <div class="stat-change neutral" id="largest-position-weight">36.8% of portfolio</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-blue);">
                        <div class="stat-header">
                            <span class="stat-label">Most Profitable</span>
                            <span class="stat-icon">üíé</span>
                        </div>
                        <div class="stat-value small" id="most-profitable">SOL</div>
                        <div class="stat-change positive" id="most-profitable-pnl">+$2.48B total</div>
                    </div>
                </div>
                
                <!-- Portfolio Allocation & Rebalancing -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üéØ Target vs Actual Allocation</h3>
                        <div id="allocation-comparison"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">‚öñÔ∏è Rebalancing Recommendations</h3>
                        <div id="rebalancing-recommendations"></div>
                    </div>
                </div>
                
                <!-- P&L by Asset Class & Time Period -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìä P&L by Asset Class</h3>
                        <div id="pnl-by-class"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìà Performance Attribution</h3>
                        <div id="performance-attribution"></div>
                    </div>
                </div>
                
                <!-- Agent Parameter Controls -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">‚öôÔ∏è Portfolio Management Controls</h3>
                    <div class="three-col-grid" style="margin-bottom: 0;">
                        <div>
                            <div class="control-group">
                                <label class="control-label">Maximum Value Per Trade</label>
                                <input type="text" class="control-input" id="max-trade-value" value="$5,000,000">
                            </div>
                            <div class="control-group">
                                <label class="control-label">Maximum Single Position (%)</label>
                                <input type="text" class="control-input" id="max-position" value="15%">
                            </div>
                        </div>
                        <div>
                            <div class="control-group">
                                <label class="control-label">Daily Loss Limit</label>
                                <input type="text" class="control-input" id="daily-loss-limit" value="$25,000,000">
                            </div>
                            <div class="control-group">
                                <label class="control-label">Stop Loss Threshold (%)</label>
                                <input type="text" class="control-input" id="stop-loss-threshold" value="8%">
                            </div>
                        </div>
                        <div>
                            <div class="control-group">
                                <label class="control-label">Rebalancing Threshold (%)</label>
                                <input type="text" class="control-input" id="rebalance-threshold" value="3%">
                            </div>
                            <div class="control-group">
                                <label class="control-label">Auto-Rebalancing</label>
                                <select class="control-select" id="auto-rebalance">
                                    <option value="enabled">Enabled</option>
                                    <option value="disabled">Disabled</option>
                                    <option value="manual-approval">Manual Approval Required</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                        <button class="control-btn">üíæ Save Parameters</button>
                        <button class="control-btn secondary">‚Ü©Ô∏è Reset to Default</button>
                        <button class="control-btn secondary">üìä View Audit Log</button>
                    </div>
                </div>
                
                <!-- Recent Trades & Position Alerts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üîÑ Recent Position Changes</h3>
                            <button class="control-btn secondary" style="padding: 0.25rem 0.75rem; font-size: 0.75rem;">View All</button>
                        </div>
                        <div id="recent-position-changes" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üö® Position Alerts</h3>
                            <span style="padding: 0.25rem 0.5rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;" id="position-alert-count">4 Active</span>
                        </div>
                        <div id="position-alerts" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                </div>
                
                <!-- Portfolio P&L Summary -->
                <div class="three-col-grid" style="margin-top: 1.5rem;">
                    <div class="card gradient-card-green">
                        <h3 class="card-title">üìà Agent Portfolio P&L</h3>
                        <div class="pnl-item">
                            <span class="pnl-label">Today</span>
                            <span class="pnl-value positive">+$38,425,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Week</span>
                            <span class="pnl-value positive">+$142,850,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Month</span>
                            <span class="pnl-value positive">+$485,200,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">YTD</span>
                            <span class="pnl-value positive">+$3,842,500,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">All Time</span>
                            <span class="pnl-value positive">+$7,485,000,000</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìä Human Portfolio P&L</h3>
                        <div class="pnl-item">
                            <span class="pnl-label">Today</span>
                            <span class="pnl-value positive">+$4,425,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Week</span>
                            <span class="pnl-value negative">-$2,150,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Month</span>
                            <span class="pnl-value positive">+$18,420,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">YTD</span>
                            <span class="pnl-value positive">+$245,800,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">All Time</span>
                            <span class="pnl-value positive">+$485,200,000</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üë§ Individual Trader P&L</h3>
                        <div id="trader-pnl-list"></div>
                    </div>
                </div>
            </div>
            
            <!-- Investor Portal Page - NEW -->
            <div class="page" id="page-investor">
                <!-- Key Metrics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Capital Injected</span>
                            <span class="stat-icon">üíµ</span>
                        </div>
                        <div class="stat-value">$3.11B</div>
                        <div class="stat-change neutral">Seed + Series A/B/C</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Current NAV</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">$9.11B</div>
                        <div class="stat-change positive">+192.9% Total Return</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Cost Basis</span>
                            <span class="stat-icon">üìã</span>
                        </div>
                        <div class="stat-value">$2.48B</div>
                        <div class="stat-change neutral">Weighted Average</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Unrealized Gain</span>
                            <span class="stat-icon">üíé</span>
                        </div>
                        <div class="stat-value positive">$6.63B</div>
                        <div class="stat-change positive">+267.3%</div>
                    </div>
                </div>
                
                <!-- Capital Injection History -->
                <div class="two-col-grid">
                    <div class="card">
                        <h3 class="card-title">Capital Injection History</h3>
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Round</th>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Price/Unit</th>
                                    <th>Current Value</th>
                                    <th>Return</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Seed</td>
                                    <td>Jan 2026</td>
                                    <td>$10M</td>
                                    <td>$1.00</td>
                                    <td>$218.5M</td>
                                    <td style="color: var(--green-400);">+2,085%</td>
                                </tr>
                                <tr>
                                    <td>Series A</td>
                                    <td>Dec 2026</td>
                                    <td>$100M</td>
                                    <td>$8.26</td>
                                    <td>$692.4M</td>
                                    <td style="color: var(--green-400);">+592%</td>
                                </tr>
                                <tr>
                                    <td>Series B</td>
                                    <td>Dec 2028</td>
                                    <td>$1.0B</td>
                                    <td>$12.85</td>
                                    <td>$5.54B</td>
                                    <td style="color: var(--green-400);">+454%</td>
                                </tr>
                                <tr>
                                    <td>Series C</td>
                                    <td>Dec 2029</td>
                                    <td>$2.0B</td>
                                    <td>$18.42</td>
                                    <td>$2.65B</td>
                                    <td style="color: var(--green-400);">+32.5%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">Quarterly Reports</h3>
                        <div id="quarterly-reports"></div>
                    </div>
                </div>
                
                <!-- Performance Comparison -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Performance vs Alternative Investments</h3>
                    <div class="chart-container tall">
                        <canvas id="investorComparisonChart"></canvas>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Detailed Comparison Table</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Investment</th>
                                <th>YTD</th>
                                <th>1Y Return</th>
                                <th>3Y CAGR</th>
                                <th>Volatility</th>
                                <th>Sharpe</th>
                                <th>Max DD</th>
                            </tr>
                        </thead>
                        <tbody id="investor-comparison-table"></tbody>
                    </table>
                </div>
                
            </div>
            
            <!-- Research Page - NEW -->
            <div class="page" id="page-research">
                <!-- Manual Asset Research Section -->
                <div class="card">
                    <h3 class="card-title">üî¨ AI-Powered Asset Research</h3>
                    <p class="card-subtitle">Select any asset to receive a comprehensive AI agent analysis report with trade recommendations</p>
                    
                    <div class="two-col-grid" style="margin-top: 1rem; margin-bottom: 0;">
                        <div>
                            <div class="control-group">
                                <label class="control-label">Select Asset</label>
                                <select class="control-select" id="research-asset-select">
                                    <optgroup label="Cryptocurrencies">
                                        <option value="SOL">SOL - Solana</option>
                                        <option value="BTC">BTC - Bitcoin</option>
                                        <option value="ETH">ETH - Ethereum</option>
                                        <option value="XRP">XRP - XRP Ledger</option>
                                        <option value="BNB">BNB - BNB Chain</option>
                                        <option value="ADA">ADA - Cardano</option>
                                        <option value="XLM">XLM - Stellar</option>
                                    </optgroup>
                                    <optgroup label="Stablecoins">
                                        <option value="USDT">USDT - Tether</option>
                                        <option value="USDC">USDC - USD Coin</option>
                                    </optgroup>
                                    <optgroup label="Equities">
                                        <option value="SPY">SPY - S&P 500 ETF</option>
                                        <option value="QQQ">QQQ - Nasdaq 100 ETF</option>
                                    </optgroup>
                                    <optgroup label="Fixed Income">
                                        <option value="TLT">TLT - Treasury Bonds</option>
                                    </optgroup>
                                    <optgroup label="Commodities">
                                        <option value="GLD">GLD - Gold ETF</option>
                                        <option value="SLV">SLV - Silver ETF</option>
                                        <option value="USO">USO - Oil ETF</option>
                                    </optgroup>
                                    <optgroup label="REITs">
                                        <option value="VNQ">VNQ - Real Estate ETF</option>
                                    </optgroup>
                                    <optgroup label="Derivatives">
                                        <option value="VIX">VIX - Volatility Index</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Report Type</label>
                                <select class="control-select" id="research-report-type">
                                    <option value="full">Full Analysis Report</option>
                                    <option value="technical">Technical Analysis Only</option>
                                    <option value="fundamental">Fundamental Analysis Only</option>
                                    <option value="sentiment">Sentiment Analysis Only</option>
                                    <option value="trade">Trade Recommendations Only</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <div class="control-group">
                                <label class="control-label">Timeframe</label>
                                <select class="control-select" id="research-timeframe">
                                    <option value="1h">1 Hour</option>
                                    <option value="4h">4 Hours</option>
                                    <option value="1d" selected>1 Day</option>
                                    <option value="1w">1 Week</option>
                                    <option value="1m">1 Month</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Agent Consensus Required</label>
                                <select class="control-select" id="research-consensus">
                                    <option value="all">All 19 Agents</option>
                                    <option value="relevant" selected>Relevant Agents Only</option>
                                    <option value="top5">Top 5 Confidence Agents</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem;">
                        <button class="control-btn" onclick="generateAssetReport()">üîç Generate Asset Report</button>
                    </div>
                </div>
                
                <!-- Generated Report Display -->
                <div class="card" style="margin-top: 1.5rem;" id="asset-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Asset Analysis Report</h3>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div class="status-dot"></div>
                            <span style="font-size: 0.875rem; color: var(--gray-400);" id="report-timestamp">Last updated: --</span>
                        </div>
                    </div>
                    <div id="asset-report-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üî¨</div>
                            <p>Select an asset and click "Generate Asset Report" to view AI-powered analysis</p>
                        </div>
                    </div>
                </div>
                
                <!-- Automated Reports Section -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">ü§ñ Automated AI Agent Reports</h3>
                            <p class="card-subtitle" style="margin-bottom: 0;">Comprehensive market analysis delivered 3x daily at 08:00, 14:00, and 20:00 UTC</p>
                        </div>
                        <button class="control-btn" onclick="generateFullMarketReport()">‚ö° Generate Real-Time Market Report</button>
                    </div>
                    
                    <!-- Report Schedule -->
                    <div class="three-col-grid" style="margin-bottom: 1.5rem;">
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Morning Report</span>
                                <span class="stat-icon">üåÖ</span>
                            </div>
                            <div class="stat-value small">08:00 UTC</div>
                            <div class="stat-change positive">‚úì Delivered</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Midday Report</span>
                                <span class="stat-icon">‚òÄÔ∏è</span>
                            </div>
                            <div class="stat-value small">14:00 UTC</div>
                            <div class="stat-change positive">‚úì Delivered</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Evening Report</span>
                                <span class="stat-icon">üåô</span>
                            </div>
                            <div class="stat-value small">20:00 UTC</div>
                            <div class="stat-change neutral">Pending</div>
                        </div>
                    </div>
                    
                    <!-- Recent Automated Reports -->
                    <h4 style="margin-bottom: 1rem; color: var(--gray-400);">Recent Automated Reports</h4>
                    <div id="automated-reports-list"></div>
                </div>
                
                <!-- Real-Time Market Report Display -->
                <div class="card gradient-card" style="margin-top: 1.5rem;" id="market-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üåê Real-Time Total Market Analysis</h3>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">19 Agents Active</span>
                            </div>
                            <span style="font-size: 0.875rem; color: var(--gray-400);" id="market-report-timestamp">--</span>
                        </div>
                    </div>
                    <div id="market-report-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üåê</div>
                            <p>Click "Generate Real-Time Market Report" for comprehensive analysis across all assets and markets</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Auditing Page - NEW -->
            <div class="page" id="page-auditing">
                <!-- Audit Overview Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Last Daily Audit</span>
                            <span class="stat-icon">üìÖ</span>
                        </div>
                        <div class="stat-value small">Today 06:00</div>
                        <div class="stat-change positive">‚úì Passed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Last Monthly Audit</span>
                            <span class="stat-icon">üìÜ</span>
                        </div>
                        <div class="stat-value small">Nov 1, 2024</div>
                        <div class="stat-change positive">‚úì Passed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Last Quarterly Audit</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value small">Oct 1, 2024</div>
                        <div class="stat-change positive">‚úì Passed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Compliance Score</span>
                            <span class="stat-icon">‚úÖ</span>
                        </div>
                        <div class="stat-value small">98.7%</div>
                        <div class="stat-change positive">SOC 2 Type II</div>
                    </div>
                </div>
                
                <!-- Generate Audit Button -->
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">On-Demand Audit Generation</h3>
                            <p class="card-subtitle" style="margin-bottom: 0;">Generate comprehensive portfolio audits in real-time</p>
                        </div>
                        <div style="display: flex; gap: 1rem;">
                            <select class="control-select" id="audit-type-select" style="width: 200px;">
                                <option value="full">Full Portfolio Audit</option>
                                <option value="reconciliation">Reconciliation Audit</option>
                                <option value="compliance">Compliance Audit</option>
                                <option value="performance">Performance Audit</option>
                                <option value="risk">Risk Assessment Audit</option>
                                <option value="tax">Tax Lot Audit</option>
                            </select>
                            <button class="control-btn" onclick="generateAudit()">üìã Generate Audit</button>
                        </div>
                    </div>
                </div>
                
                <!-- Audit Schedule -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìÖ Automated Audit Schedule</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600;">Daily Audit</span>
                                    <span style="padding: 0.25rem 0.5rem; background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Runs every day at 06:00 UTC</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400); margin-top: 0.25rem;">‚Ä¢ Position reconciliation ‚Ä¢ NAV calculation ‚Ä¢ Trade verification ‚Ä¢ Cash balance check</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600;">Monthly Audit</span>
                                    <span style="padding: 0.25rem 0.5rem; background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Runs 1st of each month at 00:00 UTC</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400); margin-top: 0.25rem;">‚Ä¢ Full reconciliation ‚Ä¢ Fee calculation ‚Ä¢ Performance attribution ‚Ä¢ Investor statements</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600;">Quarterly Audit</span>
                                    <span style="padding: 0.25rem 0.5rem; background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Runs 1st of Jan, Apr, Jul, Oct at 00:00 UTC</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400); margin-top: 0.25rem;">‚Ä¢ Regulatory compliance ‚Ä¢ External audit prep ‚Ä¢ Risk framework review ‚Ä¢ SOC 2 controls</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìú Recent Audit Reports</h3>
                        <div id="audit-reports-list"></div>
                    </div>
                </div>
                
                <!-- Audit Metrics -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìä Audit Metrics & Reconciliation</h3>
                    <div class="three-col-grid" style="margin-bottom: 0;">
                        <div>
                            <h4 style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 1rem;">Position Reconciliation</h4>
                            <div id="position-reconciliation"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 1rem;">Cash & Custody Verification</h4>
                            <div id="cash-verification"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 1rem;">Compliance Checks</h4>
                            <div id="compliance-checks"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Generated Audit Display -->
                <div class="card" style="margin-top: 1.5rem;" id="audit-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã Generated Audit Report</h3>
                        <span style="font-size: 0.875rem; color: var(--gray-400);" id="audit-timestamp">--</span>
                    </div>
                    <div id="audit-report-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üìã</div>
                            <p>Select an audit type and click "Generate Audit" to create a comprehensive report</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Security Page - NEW -->
            <div class="page" id="page-security">
                <!-- Security Status Overview -->
                <div class="stats-grid">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);">
                        <div class="stat-header">
                            <span class="stat-label">System Status</span>
                            <span class="stat-icon">üõ°Ô∏è</span>
                        </div>
                        <div class="stat-value small" style="color: var(--green-400);">SECURE</div>
                        <div class="stat-change positive">All systems nominal</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Threats Blocked (24h)</span>
                            <span class="stat-icon">üö´</span>
                        </div>
                        <div class="stat-value small">1,247</div>
                        <div class="stat-change neutral">+12% vs avg</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Active Alerts</span>
                            <span class="stat-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="stat-value small" id="active-alerts-count">3</div>
                        <div class="stat-change neutral">2 Low, 1 Medium</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Uptime</span>
                            <span class="stat-icon">‚è±Ô∏è</span>
                        </div>
                        <div class="stat-value small">99.99%</div>
                        <div class="stat-change positive">Last 30 days</div>
                    </div>
                </div>
                
                <!-- Real-Time Threat Detection -->
                <div class="two-col-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üî¥ Real-Time Threat Detection</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">Monitoring Active</span>
                            </div>
                        </div>
                        <div id="threat-feed" style="max-height: 350px; overflow-y: auto;"></div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üîç Anomaly Detection</h3>
                        <div id="anomaly-detection"></div>
                    </div>
                </div>
                
                <!-- DDoS & Front Running -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üåê DDoS Protection Status</h3>
                        <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr); margin-bottom: 1rem;">
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">Active</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">CloudFlare Shield</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700;">2.4 Tbps</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Mitigation Capacity</div>
                            </div>
                        </div>
                        <div id="ddos-metrics"></div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">‚ö° Front-Running Detection</h3>
                        <div id="frontrun-alerts"></div>
                    </div>
                </div>
                
                <!-- Wallet Tracking -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üëõ Company Wallet Tracking</h3>
                        <button class="control-btn secondary" onclick="refreshWallets()">üîÑ Refresh</button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="wallet-tracking-table">
                            <thead>
                                <tr>
                                    <th>Wallet Name</th>
                                    <th>Address</th>
                                    <th>Network</th>
                                    <th>Balance</th>
                                    <th>Last Activity</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="wallet-tracking-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Security Notifications & Alerts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîî Security Notifications</h3>
                        <div id="security-notifications" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìä Security Metrics (24h)</h3>
                        <div id="security-metrics"></div>
                    </div>
                </div>
                
                <!-- Access Control & Audit Log -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üîë Access Control & Authentication Log</h3>
                    <div id="access-log" style="max-height: 250px; overflow-y: auto;"></div>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        // ============================================
        // DATA
        // ============================================
        const agents = [
            { id: 'sentiment', name: 'Sentiment', category: 'Market Analysis', icon: 'üí≠', color: '#8B5CF6', confidence: 87, signal: 72 },
            { id: 'fundamental', name: 'Fundamental', category: 'Market Analysis', icon: 'üìä', color: '#06B6D4', confidence: 82, signal: 65 },
            { id: 'technical', name: 'Technical', category: 'Market Analysis', icon: 'üìà', color: '#10B981', confidence: 91, signal: 85 },
            { id: 'liquidity', name: 'Liquidity', category: 'Market Analysis', icon: 'üíß', color: '#3B82F6', confidence: 88, signal: 78 },
            { id: 'macro', name: 'Macro', category: 'Market Analysis', icon: 'üåç', color: '#F59E0B', confidence: 84, signal: 68 },
            { id: 'regime', name: 'Regime', category: 'Market Analysis', icon: 'üîÑ', color: '#EC4899', confidence: 86, signal: 74 },
            { id: 'correlation', name: 'Correlation', category: 'Market Analysis', icon: 'üîó', color: '#14B8A6', confidence: 89, signal: 76 },
            { id: 'alt_data', name: 'Alt Data', category: 'Market Analysis', icon: 'üõ∞Ô∏è', color: '#A855F7', confidence: 78, signal: 62 },
            { id: 'defi', name: 'DeFi', category: 'Asset Specialist', icon: 'üî∑', color: '#6366F1', confidence: 90, signal: 82 },
            { id: 'fixed_income', name: 'Fixed Income', category: 'Asset Specialist', icon: 'üè¶', color: '#0EA5E9', confidence: 88, signal: 82 },
            { id: 'equity', name: 'Equity', category: 'Asset Specialist', icon: 'üìâ', color: '#22C55E', confidence: 85, signal: 70 },
            { id: 'commodity', name: 'Commodity', category: 'Asset Specialist', icon: 'ü•á', color: '#EAB308', confidence: 83, signal: 68 },
            { id: 'derivatives', name: 'Derivatives', category: 'Asset Specialist', icon: 'üìã', color: '#F97316', confidence: 90, signal: 84 },
            { id: 'fx', name: 'FX', category: 'Asset Specialist', icon: 'üí±', color: '#84CC16', confidence: 81, signal: 66 },
            { id: 'portfolio', name: 'Portfolio', category: 'Execution & Risk', icon: 'üéØ', color: '#8B5CF6', confidence: 92, signal: 88 },
            { id: 'risk', name: 'Risk', category: 'Execution & Risk', icon: 'üõ°Ô∏è', color: '#EF4444', confidence: 95, signal: 90 },
            { id: 'execution', name: 'Execution', category: 'Execution & Risk', icon: '‚ö°', color: '#F59E0B', confidence: 93, signal: 86 },
            { id: 'hedging', name: 'Hedging', category: 'Execution & Risk', icon: 'üîí', color: '#6B7280', confidence: 87, signal: 75 },
            { id: 'master', name: 'Master', category: 'Integration', icon: 'üß†', color: '#7C3AED', confidence: 94, signal: 88 }
        ];
        
        // Expanded to 16+ assets
        const assets = [
            { symbol: 'SOL', name: 'Solana', class: 'Crypto', price: 98.42, change: 4.2, allocation: 32.5, color: '#9945FF' },
            { symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', price: 97842.50, change: 1.8, allocation: 14.2, color: '#F7931A' },
            { symbol: 'ETH', name: 'Ethereum', class: 'Crypto', price: 3542.80, change: 2.1, allocation: 9.8, color: '#627EEA' },
            { symbol: 'XRP', name: 'XRP', class: 'Crypto', price: 1.42, change: 3.5, allocation: 4.2, color: '#23292F' },
            { symbol: 'BNB', name: 'BNB Chain', class: 'Crypto', price: 642.30, change: 1.2, allocation: 3.2, color: '#F3BA2F' },
            { symbol: 'ADA', name: 'Cardano', class: 'Crypto', price: 0.62, change: 2.8, allocation: 2.1, color: '#0033AD' },
            { symbol: 'XLM', name: 'Stellar', class: 'Crypto', price: 0.38, change: 1.5, allocation: 1.4, color: '#14B6E7' },
            { symbol: 'USDT', name: 'Tether', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 6.8, color: '#26A17B' },
            { symbol: 'USDC', name: 'USD Coin', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 5.2, color: '#2775CA' },
            { symbol: 'SPY', name: 'S&P 500 ETF', class: 'Equity', price: 598.42, change: 0.4, allocation: 5.2, color: '#22C55E' },
            { symbol: 'QQQ', name: 'Nasdaq 100 ETF', class: 'Equity', price: 518.25, change: 0.6, allocation: 2.8, color: '#0066FF' },
            { symbol: 'TLT', name: 'Treasury Bonds', class: 'Fixed Income', price: 92.15, change: -0.2, allocation: 4.8, color: '#0EA5E9' },
            { symbol: 'GLD', name: 'Gold ETF', class: 'Commodity', price: 242.80, change: 0.8, allocation: 3.2, color: '#EAB308' },
            { symbol: 'SLV', name: 'Silver ETF', class: 'Commodity', price: 28.42, change: 1.2, allocation: 1.5, color: '#C0C0C0' },
            { symbol: 'USO', name: 'Oil ETF', class: 'Commodity', price: 72.85, change: -0.8, allocation: 1.2, color: '#000000' },
            { symbol: 'VNQ', name: 'Real Estate ETF', class: 'REIT', price: 94.20, change: 0.3, allocation: 1.4, color: '#8B4513' },
            { symbol: 'VIX', name: 'Volatility Index', class: 'Derivative', price: 14.82, change: -2.4, allocation: 0.5, color: '#EF4444' }
        ];
        
        const allocationData = [
            { name: 'Crypto', value: 67.4, color: '#8B5CF6' },
            { name: 'Stablecoins', value: 12.0, color: '#6B7280' },
            { name: 'Equities', value: 8.0, color: '#22C55E' },
            { name: 'Fixed Income', value: 4.8, color: '#0EA5E9' },
            { name: 'Commodities', value: 5.9, color: '#EAB308' },
            { name: 'Other', value: 1.9, color: '#EC4899' }
        ];
        
        // Crypto exchanges
        const cryptoVenues = [
            { name: 'Jupiter', volume: 2.84, trades: 12450, fillRate: 99.2, icon: 'ü™ê' },
            { name: 'Binance', volume: 1.85, trades: 8920, fillRate: 99.8, icon: 'üî∂' },
            { name: 'Coinbase', volume: 0.92, trades: 4210, fillRate: 99.5, icon: 'üîµ' },
            { name: 'Kraken', volume: 0.68, trades: 3280, fillRate: 99.4, icon: 'ü¶ë' },
            { name: 'Crypto.com', volume: 0.52, trades: 2450, fillRate: 99.1, icon: 'üíé' },
            { name: 'Deribit', volume: 0.38, trades: 2100, fillRate: 98.8, icon: 'üìä' }
        ];
        
        // Traditional/Index venues
        const tradfiVenues = [
            { name: 'NASDAQ', volume: 1.24, trades: 4850, fillRate: 99.9, icon: 'üìà' },
            { name: 'NYSE', volume: 0.98, trades: 3920, fillRate: 99.9, icon: 'üèõÔ∏è' },
            { name: 'DOW', volume: 0.72, trades: 2840, fillRate: 99.8, icon: 'üìä' },
            { name: 'CME', volume: 0.45, trades: 1850, fillRate: 99.7, icon: 'üåæ' },
            { name: 'XAU (Gold)', volume: 0.38, trades: 1420, fillRate: 99.6, icon: 'ü•á' },
            { name: 'IBKR', volume: 0.28, trades: 980, fillRate: 99.9, icon: 'üè¶' }
        ];
        
        const tenYearData = [
            { year: '2026', return: 82.15 },
            { year: '2027', return: 12.38 },
            { year: '2028', return: 14.82 },
            { year: '2029', return: 84.23 },
            { year: '2030', return: 118.45 },
            { year: '2031', return: 6.92 },
            { year: '2032', return: 17.65 },
            { year: '2033', return: 79.82 },
            { year: '2034', return: 105.38 },
            { year: '2035', return: 9.87 }
        ];
        
        // ROI Comparison Data
        const roiComparison = [
            { name: 'Maxam Capital', roi: 62.8, color: '#1E40AF' },
            { name: 'BTC', roi: 28.5, color: '#F7931A' },
            { name: 'ETH', roi: 24.2, color: '#627EEA' },
            { name: 'SOL', roi: 45.8, color: '#9945FF' },
            { name: 'NASDAQ 100', roi: 12.4, color: '#0066FF' },
            { name: 'QQQ', roi: 11.8, color: '#22C55E' },
            { name: 'DOW', roi: 8.2, color: '#1E3A8A' },
            { name: 'Nifty 50', roi: 10.5, color: '#FF9933' },
            { name: 'XAU (Gold)', roi: 6.8, color: '#EAB308' },
            { name: 'Silver', roi: 4.2, color: '#C0C0C0' },
            { name: 'Real Estate', roi: 5.5, color: '#8B4513' },
            { name: 'CME Futures', roi: 7.2, color: '#14B8A6' }
        ];
        
        // Benchmark comparison
        const benchmarks = [
            { name: 'Maxam Capital (IQ-167)', y1: 82.15, y3: 52.4, y5: 62.8, y10: 65.8, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'NASDAQ 100', y1: 28.4, y3: 15.2, y5: 12.4, y10: 14.8, sharpe: 0.72, maxDD: -33.0 },
            { name: 'QQQ ETF', y1: 27.8, y3: 14.8, y5: 11.8, y10: 14.2, sharpe: 0.68, maxDD: -34.2 },
            { name: 'DOW Jones', y1: 12.5, y3: 9.2, y5: 8.2, y10: 9.8, sharpe: 0.58, maxDD: -22.8 },
            { name: 'Nifty 50', y1: 18.2, y3: 12.4, y5: 10.5, y10: 11.2, sharpe: 0.62, maxDD: -38.5 },
            { name: 'XAU (Gold)', y1: 8.5, y3: 7.2, y5: 6.8, y10: 7.5, sharpe: 0.42, maxDD: -18.4 },
            { name: 'Silver Index', y1: 5.2, y3: 4.8, y5: 4.2, y10: 5.5, sharpe: 0.28, maxDD: -42.5 },
            { name: 'Real Estate Index', y1: 4.8, y3: 5.2, y5: 5.5, y10: 6.2, sharpe: 0.45, maxDD: -28.2 },
            { name: 'CME Index', y1: 9.2, y3: 7.8, y5: 7.2, y10: 8.5, sharpe: 0.52, maxDD: -24.8 },
            { name: 'ETH', y1: 48.5, y3: 28.4, y5: 24.2, y10: 32.5, sharpe: 0.58, maxDD: -82.0 },
            { name: 'SOL', y1: 124.5, y3: 52.8, y5: 45.8, y10: 48.2, sharpe: 0.68, maxDD: -94.5 },
            { name: 'BTC', y1: 62.4, y3: 32.5, y5: 28.5, y10: 42.8, sharpe: 0.62, maxDD: -77.0 }
        ];
        
        // Investor comparison
        const investorComparisons = [
            { name: 'Maxam Capital', ytd: 82.15, y1: 82.15, y3: 52.4, vol: 28.4, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'Hedge Fund Index', ytd: 8.2, y1: 9.5, y3: 7.8, vol: 12.5, sharpe: 0.72, maxDD: -18.5 },
            { name: 'S&P 500', ytd: 24.5, y1: 26.2, y3: 10.8, vol: 15.8, sharpe: 0.65, maxDD: -24.5 },
            { name: 'NASDAQ 100', ytd: 28.4, y1: 32.5, y3: 15.2, vol: 22.4, sharpe: 0.72, maxDD: -33.0 },
            { name: 'DOW Jones', ytd: 12.5, y1: 14.8, y3: 9.2, vol: 14.2, sharpe: 0.58, maxDD: -22.8 },
            { name: 'XAU (Gold)', ytd: 8.5, y1: 12.2, y3: 7.2, vol: 14.2, sharpe: 0.42, maxDD: -18.4 },
            { name: 'Bitcoin', ytd: 62.4, y1: 85.2, y3: 32.5, vol: 72.5, sharpe: 0.62, maxDD: -77.0 },
            { name: 'Treasury Bonds', ytd: -2.5, y1: 1.8, y3: -1.2, vol: 8.5, sharpe: 0.22, maxDD: -18.2 }
        ];
        
        const riskLimits = [
            { name: 'Portfolio VaR', current: 0.9, limit: 2.0 },
            { name: 'Single Position', current: 12.8, limit: 15.0 },
            { name: 'Gross Leverage', current: 1.8, limit: 3.0 },
            { name: 'Crypto Exposure', current: 82, limit: 85.0 },
            { name: 'Counterparty', current: 18.5, limit: 25.0 },
            { name: 'Illiquid Assets', current: 4.2, limit: 10.0 }
        ];
        
        const phaseData = [
            { phase: 'Bull', return: 111.92, winRate: 78.5, sharpe: 3.12, color: '#22C55E' },
            { phase: 'Bear', return: 16.24, winRate: 74.8, sharpe: 2.45, color: '#EF4444' },
            { phase: 'Peak', return: 9.72, winRate: 72.1, sharpe: 1.89, color: '#F59E0B' },
            { phase: 'Recovery', return: 82.03, winRate: 76.2, sharpe: 2.78, color: '#8B5CF6' }
        ];
        
        // Trader P&L data
        const traderPnL = [
            { name: 'John Smith', pnl: 2450000, trades: 142, winRate: 68.5 },
            { name: 'Sarah Chen', pnl: 1820000, trades: 98, winRate: 72.4 },
            { name: 'Michael Ross', pnl: -450000, trades: 65, winRate: 52.3 },
            { name: 'Emily Davis', pnl: 980000, trades: 87, winRate: 64.8 },
            { name: 'James Wilson', pnl: 1240000, trades: 112, winRate: 66.2 }
        ];
        
        // Quarterly reports
        const quarterlyReports = [
            { name: 'Q3 2024 Report', date: 'Oct 15, 2024', type: 'pdf' },
            { name: 'Q2 2024 Report', date: 'Jul 15, 2024', type: 'pdf' },
            { name: 'Q1 2024 Report', date: 'Apr 15, 2024', type: 'pdf' },
            { name: 'Q4 2023 Report', date: 'Jan 15, 2024', type: 'pdf' },
            { name: 'Annual Report 2023', date: 'Feb 28, 2024', type: 'pdf' }
        ];
        
        // Automated AI Reports
        const automatedReports = [
            { id: 1, name: 'Full Market Analysis', time: '08:00 UTC', date: 'Today', status: 'delivered', assets: 17, signals: 42, topPick: 'SOL', sentiment: 'Bullish' },
            { id: 2, name: 'Full Market Analysis', time: '14:00 UTC', date: 'Today', status: 'delivered', assets: 17, signals: 38, topPick: 'BTC', sentiment: 'Bullish' },
            { id: 3, name: 'Full Market Analysis', time: '20:00 UTC', date: 'Yesterday', status: 'delivered', assets: 17, signals: 35, topPick: 'ETH', sentiment: 'Neutral' },
            { id: 4, name: 'Full Market Analysis', time: '14:00 UTC', date: 'Yesterday', status: 'delivered', assets: 17, signals: 41, topPick: 'SOL', sentiment: 'Bullish' },
            { id: 5, name: 'Full Market Analysis', time: '08:00 UTC', date: 'Yesterday', status: 'delivered', assets: 17, signals: 36, topPick: 'QQQ', sentiment: 'Bullish' }
        ];
        
        // Asset report data generator
        const assetReportData = {
            SOL: { sentiment: 85, technical: 78, fundamental: 82, risk: 72, recommendation: 'STRONG BUY', target: 142.50, stopLoss: 82.00, confidence: 87 },
            BTC: { sentiment: 72, technical: 68, fundamental: 85, risk: 65, recommendation: 'BUY', target: 125000, stopLoss: 85000, confidence: 82 },
            ETH: { sentiment: 68, technical: 72, fundamental: 78, risk: 68, recommendation: 'BUY', target: 4200, stopLoss: 3100, confidence: 79 },
            XRP: { sentiment: 62, technical: 58, fundamental: 55, risk: 52, recommendation: 'HOLD', target: 1.85, stopLoss: 1.10, confidence: 68 },
            BNB: { sentiment: 65, technical: 62, fundamental: 70, risk: 60, recommendation: 'HOLD', target: 720, stopLoss: 580, confidence: 72 },
            ADA: { sentiment: 55, technical: 48, fundamental: 52, risk: 45, recommendation: 'HOLD', target: 0.85, stopLoss: 0.48, confidence: 62 },
            XLM: { sentiment: 52, technical: 45, fundamental: 48, risk: 42, recommendation: 'HOLD', target: 0.52, stopLoss: 0.28, confidence: 58 },
            USDT: { sentiment: 50, technical: 50, fundamental: 95, risk: 85, recommendation: 'STABLE', target: 1.00, stopLoss: 0.99, confidence: 95 },
            USDC: { sentiment: 50, technical: 50, fundamental: 98, risk: 88, recommendation: 'STABLE', target: 1.00, stopLoss: 0.99, confidence: 98 },
            SPY: { sentiment: 68, technical: 72, fundamental: 75, risk: 70, recommendation: 'BUY', target: 650, stopLoss: 560, confidence: 78 },
            QQQ: { sentiment: 72, technical: 75, fundamental: 72, risk: 68, recommendation: 'BUY', target: 580, stopLoss: 480, confidence: 76 },
            TLT: { sentiment: 45, technical: 42, fundamental: 55, risk: 62, recommendation: 'HOLD', target: 98, stopLoss: 85, confidence: 65 },
            GLD: { sentiment: 62, technical: 58, fundamental: 68, risk: 72, recommendation: 'HOLD', target: 265, stopLoss: 225, confidence: 70 },
            SLV: { sentiment: 58, technical: 52, fundamental: 55, risk: 48, recommendation: 'HOLD', target: 32, stopLoss: 24, confidence: 62 },
            USO: { sentiment: 42, technical: 38, fundamental: 45, risk: 35, recommendation: 'SELL', target: 65, stopLoss: 78, confidence: 58 },
            VNQ: { sentiment: 55, technical: 52, fundamental: 58, risk: 55, recommendation: 'HOLD', target: 102, stopLoss: 85, confidence: 65 },
            VIX: { sentiment: 35, technical: 42, fundamental: 40, risk: 25, recommendation: 'HEDGE', target: 18, stopLoss: 12, confidence: 72 }
        };
        
        // Audit data
        const auditReports = [
            { id: 1, type: 'Daily', date: 'Nov 28, 2024', time: '06:00 UTC', status: 'passed', findings: 0, icon: 'üìÖ' },
            { id: 2, type: 'Daily', date: 'Nov 27, 2024', time: '06:00 UTC', status: 'passed', findings: 0, icon: 'üìÖ' },
            { id: 3, type: 'Monthly', date: 'Nov 1, 2024', time: '00:00 UTC', status: 'passed', findings: 2, icon: 'üìÜ' },
            { id: 4, type: 'Daily', date: 'Nov 26, 2024', time: '06:00 UTC', status: 'passed', findings: 0, icon: 'üìÖ' },
            { id: 5, type: 'Quarterly', date: 'Oct 1, 2024', time: '00:00 UTC', status: 'passed', findings: 1, icon: 'üìä' }
        ];
        
        const positionReconciliation = [
            { name: 'Crypto Positions', internal: '$6.14B', external: '$6.14B', variance: '0.00%', status: 'matched' },
            { name: 'Equity Positions', internal: '$729M', external: '$729M', variance: '0.00%', status: 'matched' },
            { name: 'Fixed Income', internal: '$437M', external: '$437M', variance: '0.00%', status: 'matched' },
            { name: 'Commodities', internal: '$538M', external: '$538M', variance: '0.00%', status: 'matched' },
            { name: 'Stablecoins', internal: '$1.09B', external: '$1.09B', variance: '0.00%', status: 'matched' }
        ];
        
        const cashVerification = [
            { custodian: 'Fireblocks', balance: '$485.2M', verified: true, lastCheck: '2 min ago' },
            { custodian: 'Coinbase Custody', balance: '$892.4M', verified: true, lastCheck: '2 min ago' },
            { custodian: 'BitGo', balance: '$324.8M', verified: true, lastCheck: '2 min ago' },
            { custodian: 'IBKR', balance: '$245.6M', verified: true, lastCheck: '5 min ago' },
            { custodian: 'Bank of America', balance: '$142.8M', verified: true, lastCheck: '1 hour ago' }
        ];
        
        const complianceChecks = [
            { name: 'Position Limits', status: 'passed', detail: 'All within limits' },
            { name: 'Leverage Ratio', status: 'passed', detail: '1.8x (Max 3.0x)' },
            { name: 'Counterparty Exposure', status: 'passed', detail: '18.5% (Max 25%)' },
            { name: 'Liquidity Coverage', status: 'passed', detail: '142% (Min 100%)' },
            { name: 'Regulatory Reporting', status: 'passed', detail: 'Up to date' },
            { name: 'KYC/AML Checks', status: 'passed', detail: 'All verified' }
        ];
        
        // Security data
        const threatFeed = [
            { time: '2 min ago', type: 'Blocked', severity: 'low', description: 'Suspicious IP blocked: 185.243.xxx.xxx (Russia)', icon: 'üö´' },
            { time: '8 min ago', type: 'Detected', severity: 'medium', description: 'Unusual API call pattern detected - Rate limited', icon: '‚ö†Ô∏è' },
            { time: '15 min ago', type: 'Blocked', severity: 'low', description: 'Failed SSH attempt: 45.142.xxx.xxx (China)', icon: 'üö´' },
            { time: '23 min ago', type: 'Info', severity: 'info', description: 'Firewall rules updated automatically', icon: '‚ÑπÔ∏è' },
            { time: '45 min ago', type: 'Blocked', severity: 'low', description: 'SQL injection attempt blocked on API endpoint', icon: 'üö´' },
            { time: '1 hour ago', type: 'Detected', severity: 'low', description: 'Port scan detected from 91.134.xxx.xxx', icon: 'üîç' },
            { time: '2 hours ago', type: 'Blocked', severity: 'medium', description: 'Brute force attack mitigated - 2,400 attempts', icon: 'üö´' }
        ];
        
        const anomalyDetection = [
            { metric: 'Trade Volume', status: 'normal', deviation: '+12%', description: 'Within expected range' },
            { metric: 'API Latency', status: 'normal', deviation: '+3ms', description: 'P99: 8.2ms' },
            { metric: 'Login Patterns', status: 'normal', deviation: '0%', description: 'No anomalies detected' },
            { metric: 'Withdrawal Requests', status: 'alert', deviation: '+45%', description: 'Elevated - Under review' },
            { metric: 'Network Traffic', status: 'normal', deviation: '+8%', description: 'Within baseline' },
            { metric: 'Error Rate', status: 'normal', deviation: '-2%', description: '0.02% error rate' }
        ];
        
        const ddosMetrics = [
            { metric: 'Requests/sec', value: '45,280', status: 'normal' },
            { metric: 'Blocked Requests (24h)', value: '892,450', status: 'normal' },
            { metric: 'Attack Attempts (24h)', value: '12', status: 'normal' },
            { metric: 'Largest Attack Mitigated', value: '1.2 Gbps', status: 'normal' }
        ];
        
        const frontrunAlerts = [
            { time: '3 hours ago', pair: 'SOL/USDC', type: 'Sandwich', amount: '$45,200', status: 'Blocked', action: 'Rerouted via private mempool' },
            { time: '8 hours ago', pair: 'ETH/USDT', type: 'Front-run', amount: '$128,500', status: 'Detected', action: 'Delayed execution' },
            { time: '1 day ago', pair: 'BTC/USDC', type: 'Sandwich', amount: '$892,000', status: 'Blocked', action: 'MEV protection active' },
            { time: '2 days ago', pair: 'SOL/USDC', type: 'Back-run', amount: '$34,800', status: 'Detected', action: 'No action needed' }
        ];
        
        const companyWallets = [
            { name: 'Hot Wallet (Trading)', address: '8xH4...9kPm', network: 'Solana', balance: '$485.2M', lastActivity: '2 min ago', status: 'active', multisig: '2/3' },
            { name: 'Hot Wallet (ETH)', address: '0x7F2...8e4D', network: 'Ethereum', balance: '$324.8M', lastActivity: '5 min ago', status: 'active', multisig: '2/3' },
            { name: 'Warm Wallet', address: 'bc1q...7xm2', network: 'Bitcoin', balance: '$892.4M', lastActivity: '2 hours ago', status: 'active', multisig: '3/5' },
            { name: 'Cold Storage 1', address: '3J98...xPz4', network: 'Bitcoin', balance: '$2.4B', lastActivity: '14 days ago', status: 'secure', multisig: '4/7' },
            { name: 'Cold Storage 2', address: 'DYw5...9pQm', network: 'Solana', balance: '$1.8B', lastActivity: '21 days ago', status: 'secure', multisig: '4/7' },
            { name: 'Treasury', address: '0x3A1...2bC9', network: 'Ethereum', balance: '$542.6M', lastActivity: '7 days ago', status: 'secure', multisig: '5/7' }
        ];
        
        const securityNotifications = [
            { time: '5 min ago', type: 'info', title: 'Scheduled Maintenance', message: 'Firewall update completed successfully', icon: '‚ÑπÔ∏è' },
            { time: '1 hour ago', type: 'warning', title: 'Elevated Activity', message: 'Withdrawal requests 45% above average - Monitoring', icon: '‚ö†Ô∏è' },
            { time: '3 hours ago', type: 'success', title: 'Security Scan Complete', message: 'No vulnerabilities detected in latest scan', icon: '‚úÖ' },
            { time: '6 hours ago', type: 'info', title: 'Certificate Renewed', message: 'SSL certificates auto-renewed for all domains', icon: '‚ÑπÔ∏è' },
            { time: '12 hours ago', type: 'warning', title: 'New IP Location', message: 'Admin login from new location (verified)', icon: '‚ö†Ô∏è' }
        ];
        
        const securityMetricsData = [
            { name: 'Failed Logins', value: '24', change: '-18%', icon: 'üîê' },
            { name: 'Blocked IPs', value: '1,247', change: '+12%', icon: 'üö´' },
            { name: 'API Calls', value: '48.2M', change: '+8%', icon: 'üì°' },
            { name: 'Firewall Events', value: '892K', change: '+5%', icon: 'üõ°Ô∏è' },
            { name: 'Auth Tokens Issued', value: '342', change: '+2%', icon: 'üîë' },
            { name: 'Vulnerability Scans', value: '4', change: '0%', icon: 'üîç' }
        ];
        
        const accessLog = [
            { time: '2 min ago', user: 'john.smith@maxam.capital', action: 'Login', ip: '192.168.1.xxx', location: 'New York, US', status: 'success' },
            { time: '15 min ago', user: 'sarah.chen@maxam.capital', action: 'API Key Generated', ip: '192.168.1.xxx', location: 'San Francisco, US', status: 'success' },
            { time: '32 min ago', user: 'system@maxam.capital', action: 'Automated Backup', ip: 'Internal', location: 'AWS us-east-1', status: 'success' },
            { time: '1 hour ago', user: 'michael.ross@maxam.capital', action: 'Trade Executed', ip: '192.168.1.xxx', location: 'Chicago, US', status: 'success' },
            { time: '2 hours ago', user: 'unknown', action: 'Login Attempt', ip: '185.243.xxx.xxx', location: 'Moscow, RU', status: 'blocked' },
            { time: '3 hours ago', user: 'emily.davis@maxam.capital', action: 'Report Downloaded', ip: '192.168.1.xxx', location: 'London, UK', status: 'success' }
        ];
        
        // Enhanced Risk Data
        const assetRiskScores = [
            { symbol: 'SOL', name: 'Solana', class: 'Crypto', riskScore: 72, var95: 4.2, volatility: 68.5, liquidity: 92, smartContract: 85, correlation: 0.82, status: 'moderate' },
            { symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', riskScore: 58, var95: 3.1, volatility: 52.4, liquidity: 98, smartContract: 95, correlation: 1.00, status: 'low' },
            { symbol: 'ETH', name: 'Ethereum', class: 'Crypto', riskScore: 62, var95: 3.5, volatility: 58.2, liquidity: 96, smartContract: 92, correlation: 0.88, status: 'moderate' },
            { symbol: 'XRP', name: 'Ripple', class: 'Crypto', riskScore: 68, var95: 3.8, volatility: 62.1, liquidity: 85, smartContract: 78, correlation: 0.72, status: 'moderate' },
            { symbol: 'BNB', name: 'Binance Coin', class: 'Crypto', riskScore: 65, var95: 3.6, volatility: 55.8, liquidity: 88, smartContract: 82, correlation: 0.78, status: 'moderate' },
            { symbol: 'ADA', name: 'Cardano', class: 'Crypto', riskScore: 70, var95: 4.0, volatility: 65.2, liquidity: 82, smartContract: 80, correlation: 0.75, status: 'moderate' },
            { symbol: 'XLM', name: 'Stellar', class: 'Crypto', riskScore: 72, var95: 4.1, volatility: 64.8, liquidity: 78, smartContract: 75, correlation: 0.68, status: 'moderate' },
            { symbol: 'USDT', name: 'Tether', class: 'Stablecoin', riskScore: 15, var95: 0.1, volatility: 0.8, liquidity: 99, smartContract: 88, correlation: 0.02, status: 'very-low' },
            { symbol: 'USDC', name: 'USD Coin', class: 'Stablecoin', riskScore: 12, var95: 0.05, volatility: 0.5, liquidity: 99, smartContract: 95, correlation: 0.01, status: 'very-low' },
            { symbol: 'SPY', name: 'S&P 500 ETF', class: 'Equity', riskScore: 35, var95: 1.8, volatility: 18.5, liquidity: 99, smartContract: null, correlation: 0.45, status: 'low' },
            { symbol: 'QQQ', name: 'Nasdaq 100', class: 'Equity', riskScore: 42, var95: 2.2, volatility: 24.2, liquidity: 99, smartContract: null, correlation: 0.52, status: 'low' },
            { symbol: 'TLT', name: 'Treasury Bonds', class: 'Fixed Income', riskScore: 28, var95: 1.4, volatility: 15.8, liquidity: 98, smartContract: null, correlation: -0.25, status: 'very-low' },
            { symbol: 'GLD', name: 'Gold ETF', class: 'Commodity', riskScore: 32, var95: 1.5, volatility: 14.2, liquidity: 97, smartContract: null, correlation: -0.15, status: 'low' },
            { symbol: 'SLV', name: 'Silver ETF', class: 'Commodity', riskScore: 48, var95: 2.4, volatility: 28.5, liquidity: 92, smartContract: null, correlation: 0.12, status: 'low' },
            { symbol: 'USO', name: 'Oil ETF', class: 'Commodity', riskScore: 55, var95: 2.8, volatility: 35.2, liquidity: 88, smartContract: null, correlation: 0.22, status: 'moderate' },
            { symbol: 'VNQ', name: 'Real Estate', class: 'REIT', riskScore: 38, var95: 1.9, volatility: 22.4, liquidity: 95, smartContract: null, correlation: 0.35, status: 'low' },
            { symbol: 'VIX', name: 'Volatility Index', class: 'Derivative', riskScore: 85, var95: 8.5, volatility: 125.0, liquidity: 85, smartContract: null, correlation: -0.72, status: 'high' }
        ];
        
        const exposureAnalysis = [
            { class: 'Crypto', exposure: '$6.14B', percentage: 67.4, limit: 85, status: 'ok' },
            { class: 'Stablecoins', exposure: '$1.09B', percentage: 12.0, limit: 30, status: 'ok' },
            { class: 'Equities', exposure: '$729M', percentage: 8.0, limit: 20, status: 'ok' },
            { class: 'Fixed Income', exposure: '$437M', percentage: 4.8, limit: 25, status: 'ok' },
            { class: 'Commodities', exposure: '$538M', percentage: 5.9, limit: 15, status: 'ok' },
            { class: 'REITs', exposure: '$91M', percentage: 1.0, limit: 10, status: 'ok' },
            { class: 'Derivatives', exposure: '$82M', percentage: 0.9, limit: 10, status: 'ok' }
        ];
        
        const topCorrelations = [
            { pair: 'SOL / ETH', correlation: 0.88, trend: 'stable' },
            { pair: 'BTC / ETH', correlation: 0.92, trend: 'stable' },
            { pair: 'SOL / BTC', correlation: 0.82, trend: 'increasing' },
            { pair: 'SPY / QQQ', correlation: 0.94, trend: 'stable' },
            { pair: 'TLT / GLD', correlation: 0.35, trend: 'decreasing' },
            { pair: 'VIX / SPY', correlation: -0.72, trend: 'stable' }
        ];
        
        const stressTests = [
            { scenario: 'Crypto -50% Crash', portfolioImpact: '-18.2%', probability: '5%', status: 'acceptable' },
            { scenario: 'Rate Hike +100bps', portfolioImpact: '-4.8%', probability: '15%', status: 'acceptable' },
            { scenario: 'Flash Crash (All Assets)', portfolioImpact: '-12.5%', probability: '2%', status: 'acceptable' },
            { scenario: 'Stablecoin Depeg', portfolioImpact: '-8.4%', probability: '3%', status: 'acceptable' },
            { scenario: '2022 Bear Replay', portfolioImpact: '-22.8%', probability: '8%', status: 'warning' },
            { scenario: 'Black Swan Event', portfolioImpact: '-35.0%', probability: '1%', status: 'critical' }
        ];
        
        const riskAlerts = [
            { severity: 'medium', title: 'Elevated SOL Volatility', description: 'SOL 30-day volatility increased to 68.5%, above 60% threshold', time: '2 hours ago', action: 'Review position size' },
            { severity: 'low', title: 'Correlation Shift Detected', description: 'BTC/ETH correlation increased from 0.88 to 0.92 over past week', time: '6 hours ago', action: 'Monitor for divergence' },
            { severity: 'low', title: 'Liquidity Warning: XLM', description: 'XLM liquidity score dropped to 78, approaching 75 threshold', time: '1 day ago', action: 'Consider reducing position' }
        ];
        
        const assetRiskDetails = {
            SOL: {
                overview: 'High-performance Layer 1 blockchain with significant DeFi ecosystem exposure',
                keyRisks: ['Smart contract vulnerabilities', 'Network congestion during high activity', 'Validator concentration', 'Token inflation from staking rewards'],
                metrics: { dailyVolume: '$2.84B', marketCap: '$48.2B', tvl: '$4.8B', stakingRatio: '72%' },
                historicalDrawdowns: [{ event: 'FTX Collapse', date: 'Nov 2022', drawdown: '-68%' }, { event: 'Luna Crash', date: 'May 2022', drawdown: '-52%' }]
            },
            BTC: {
                overview: 'Primary store of value cryptocurrency with highest market dominance',
                keyRisks: ['Regulatory uncertainty', 'Mining concentration', 'Macroeconomic correlation increasing', 'Halving cycle volatility'],
                metrics: { dailyVolume: '$28.5B', marketCap: '$1.95T', hashRate: '580 EH/s', dominance: '52%' },
                historicalDrawdowns: [{ event: '2022 Bear Market', date: 'Nov 2022', drawdown: '-77%' }, { event: 'Covid Crash', date: 'Mar 2020', drawdown: '-52%' }]
            },
            ETH: {
                overview: 'Leading smart contract platform with largest DeFi and NFT ecosystem',
                keyRisks: ['Gas fee volatility', 'Competition from L2s', 'Staking centralization', 'Regulatory classification'],
                metrics: { dailyVolume: '$15.2B', marketCap: '$420B', tvl: '$52B', stakingRatio: '28%' },
                historicalDrawdowns: [{ event: '2022 Bear Market', date: 'Jun 2022', drawdown: '-82%' }, { event: 'Covid Crash', date: 'Mar 2020', drawdown: '-55%' }]
            }
        };
        
        // Comprehensive Portfolio Position Data
        const portfolioPositions = [
            { 
                symbol: 'SOL', name: 'Solana', class: 'Crypto', 
                currentPrice: 98.45, avgEntry: 24.82, quantity: 34125000,
                positionValue: 3359506250, weight: 36.88, costBasis: 847143750,
                unrealizedPnL: 2512362500, pnlPercent: 296.57, 
                change24h: 4.82, change7d: 12.45, change30d: 28.92,
                targetWeight: 35.0, status: 'overweight'
            },
            { 
                symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', 
                currentPrice: 97842.50, avgEntry: 42500.00, quantity: 12450,
                positionValue: 1218139125, weight: 13.37, costBasis: 529125000,
                unrealizedPnL: 689014125, pnlPercent: 130.22, 
                change24h: 2.15, change7d: 5.82, change30d: 15.24,
                targetWeight: 14.0, status: 'normal'
            },
            { 
                symbol: 'ETH', name: 'Ethereum', class: 'Crypto', 
                currentPrice: 3485.20, avgEntry: 1850.00, quantity: 285000,
                positionValue: 993282000, weight: 10.90, costBasis: 527250000,
                unrealizedPnL: 466032000, pnlPercent: 88.39, 
                change24h: 1.92, change7d: 4.25, change30d: 18.45,
                targetWeight: 10.0, status: 'normal'
            },
            { 
                symbol: 'USDC', name: 'USD Coin', class: 'Stablecoin', 
                currentPrice: 1.00, avgEntry: 1.00, quantity: 685000000,
                positionValue: 685000000, weight: 7.52, costBasis: 685000000,
                unrealizedPnL: 0, pnlPercent: 0.00, 
                change24h: 0.00, change7d: 0.00, change30d: 0.00,
                targetWeight: 8.0, status: 'normal'
            },
            { 
                symbol: 'USDT', name: 'Tether', class: 'Stablecoin', 
                currentPrice: 1.00, avgEntry: 1.00, quantity: 408000000,
                positionValue: 408000000, weight: 4.48, costBasis: 408000000,
                unrealizedPnL: 0, pnlPercent: 0.00, 
                change24h: 0.01, change7d: 0.00, change30d: -0.01,
                targetWeight: 4.0, status: 'normal'
            },
            { 
                symbol: 'XRP', name: 'Ripple', class: 'Crypto', 
                currentPrice: 1.42, avgEntry: 0.52, quantity: 245000000,
                positionValue: 347900000, weight: 3.82, costBasis: 127400000,
                unrealizedPnL: 220500000, pnlPercent: 173.08, 
                change24h: 3.65, change7d: 8.92, change30d: 45.20,
                targetWeight: 3.0, status: 'overweight'
            },
            { 
                symbol: 'SPY', name: 'S&P 500 ETF', class: 'Equity', 
                currentPrice: 598.45, avgEntry: 445.20, quantity: 520000,
                positionValue: 311194000, weight: 3.42, costBasis: 231504000,
                unrealizedPnL: 79690000, pnlPercent: 34.43, 
                change24h: 0.85, change7d: 2.12, change30d: 4.85,
                targetWeight: 4.0, status: 'underweight'
            },
            { 
                symbol: 'BNB', name: 'Binance Coin', class: 'Crypto', 
                currentPrice: 642.80, avgEntry: 285.40, quantity: 425000,
                positionValue: 273190000, weight: 3.00, costBasis: 121295000,
                unrealizedPnL: 151895000, pnlPercent: 125.23, 
                change24h: 1.45, change7d: 3.82, change30d: 12.45,
                targetWeight: 3.0, status: 'normal'
            },
            { 
                symbol: 'GLD', name: 'Gold ETF', class: 'Commodity', 
                currentPrice: 242.85, avgEntry: 178.50, quantity: 980000,
                positionValue: 237993000, weight: 2.61, costBasis: 174930000,
                unrealizedPnL: 63063000, pnlPercent: 36.05, 
                change24h: 0.42, change7d: 1.85, change30d: 3.24,
                targetWeight: 3.0, status: 'underweight'
            },
            { 
                symbol: 'QQQ', name: 'Nasdaq 100 ETF', class: 'Equity', 
                currentPrice: 518.92, avgEntry: 365.80, quantity: 405000,
                positionValue: 210162600, weight: 2.31, costBasis: 148149000,
                unrealizedPnL: 62013600, pnlPercent: 41.86, 
                change24h: 1.12, change7d: 2.85, change30d: 6.42,
                targetWeight: 2.0, status: 'normal'
            },
            { 
                symbol: 'TLT', name: '20+ Year Treasury', class: 'Fixed Income', 
                currentPrice: 91.24, avgEntry: 102.50, quantity: 2150000,
                positionValue: 196166000, weight: 2.15, costBasis: 220375000,
                unrealizedPnL: -24209000, pnlPercent: -10.99, 
                change24h: -0.32, change7d: -1.24, change30d: -2.85,
                targetWeight: 3.0, status: 'underweight'
            },
            { 
                symbol: 'ADA', name: 'Cardano', class: 'Crypto', 
                currentPrice: 0.68, avgEntry: 0.42, quantity: 285000000,
                positionValue: 193800000, weight: 2.13, costBasis: 119700000,
                unrealizedPnL: 74100000, pnlPercent: 61.90, 
                change24h: 2.85, change7d: 6.45, change30d: 22.15,
                targetWeight: 2.0, status: 'normal'
            },
            { 
                symbol: 'SLV', name: 'Silver ETF', class: 'Commodity', 
                currentPrice: 28.45, avgEntry: 22.80, quantity: 4250000,
                positionValue: 120912500, weight: 1.33, costBasis: 96900000,
                unrealizedPnL: 24012500, pnlPercent: 24.78, 
                change24h: 0.92, change7d: 2.45, change30d: 5.82,
                targetWeight: 1.5, status: 'underweight'
            },
            { 
                symbol: 'VNQ', name: 'Real Estate ETF', class: 'REIT', 
                currentPrice: 94.28, avgEntry: 85.40, quantity: 985000,
                positionValue: 92865800, weight: 1.02, costBasis: 84119000,
                unrealizedPnL: 8746800, pnlPercent: 10.40, 
                change24h: 0.58, change7d: 1.42, change30d: 2.85,
                targetWeight: 1.0, status: 'normal'
            },
            { 
                symbol: 'XLM', name: 'Stellar', class: 'Crypto', 
                currentPrice: 0.38, avgEntry: 0.12, quantity: 225000000,
                positionValue: 85500000, weight: 0.94, costBasis: 27000000,
                unrealizedPnL: 58500000, pnlPercent: 216.67, 
                change24h: 4.25, change7d: 12.85, change30d: 85.42,
                targetWeight: 1.0, status: 'normal'
            },
            { 
                symbol: 'USO', name: 'Oil ETF', class: 'Commodity', 
                currentPrice: 72.45, avgEntry: 68.20, quantity: 850000,
                positionValue: 61582500, weight: 0.68, costBasis: 57970000,
                unrealizedPnL: 3612500, pnlPercent: 6.23, 
                change24h: -2.15, change7d: -4.82, change30d: -8.45,
                targetWeight: 1.0, status: 'underweight'
            },
            { 
                symbol: 'VIX', name: 'Volatility Index', class: 'Derivative', 
                currentPrice: 14.85, avgEntry: 18.20, quantity: 2450000,
                positionValue: 36382500, weight: 0.40, costBasis: 44590000,
                unrealizedPnL: -8207500, pnlPercent: -18.40, 
                change24h: -3.42, change7d: -8.25, change30d: -15.42,
                targetWeight: 0.5, status: 'underweight'
            }
        ];
        
        const allocationComparison = [
            { class: 'Crypto', actual: 70.84, target: 68.0, difference: 2.84, action: 'Reduce' },
            { class: 'Stablecoins', actual: 12.00, target: 12.0, difference: 0.00, action: 'Hold' },
            { class: 'Equities', actual: 5.73, target: 6.0, difference: -0.27, action: 'Increase' },
            { class: 'Fixed Income', actual: 2.15, target: 3.0, difference: -0.85, action: 'Increase' },
            { class: 'Commodities', actual: 4.62, target: 5.5, difference: -0.88, action: 'Increase' },
            { class: 'REITs', actual: 1.02, target: 1.0, difference: 0.02, action: 'Hold' },
            { class: 'Derivatives', actual: 0.40, target: 0.5, difference: -0.10, action: 'Hold' }
        ];
        
        const rebalancingRecommendations = [
            { action: 'SELL', symbol: 'SOL', amount: '$168M', reason: 'Overweight by 1.88%', priority: 'medium' },
            { action: 'SELL', symbol: 'XRP', amount: '$75M', reason: 'Overweight by 0.82%', priority: 'low' },
            { action: 'BUY', symbol: 'TLT', amount: '$77M', reason: 'Underweight by 0.85%', priority: 'medium' },
            { action: 'BUY', symbol: 'GLD', amount: '$35M', reason: 'Underweight by 0.39%', priority: 'low' },
            { action: 'BUY', symbol: 'SPY', amount: '$53M', reason: 'Underweight by 0.58%', priority: 'low' }
        ];
        
        const pnlByClass = [
            { class: 'Crypto', pnl: 4172403625, pnlPercent: 234.52, contribution: 62.85 },
            { class: 'Stablecoins', pnl: 0, pnlPercent: 0.00, contribution: 0.00 },
            { class: 'Equities', pnl: 141703600, pnlPercent: 37.32, contribution: 2.13 },
            { class: 'Fixed Income', pnl: -24209000, pnlPercent: -10.99, contribution: -0.36 },
            { class: 'Commodities', pnl: 90688000, pnlPercent: 27.52, contribution: 1.37 },
            { class: 'REITs', pnl: 8746800, pnlPercent: 10.40, contribution: 0.13 },
            { class: 'Derivatives', pnl: -8207500, pnlPercent: -18.40, contribution: -0.12 }
        ];
        
        const performanceAttribution = [
            { factor: 'Asset Selection', contribution: '+42.8%', description: 'Alpha from picking outperforming assets' },
            { factor: 'Market Timing', contribution: '+18.5%', description: 'Entry/exit timing decisions' },
            { factor: 'Sector Allocation', contribution: '+12.2%', description: 'Crypto overweight during bull market' },
            { factor: 'Risk Management', contribution: '+8.4%', description: 'Avoided major drawdowns' },
            { factor: 'Currency Effects', contribution: '+2.1%', description: 'USD strength impact' },
            { factor: 'Trading Costs', contribution: '-1.2%', description: 'Fees and slippage' }
        ];
        
        const recentPositionChanges = [
            { time: '14 min ago', action: 'BUY', symbol: 'SOL', amount: '+125,000', value: '$12.3M', price: '$98.42', agent: 'Technical Agent' },
            { time: '28 min ago', action: 'SELL', symbol: 'BTC', amount: '-45', value: '$4.4M', price: '$97,845', agent: 'Portfolio Agent' },
            { time: '1 hour ago', action: 'BUY', symbol: 'ETH', amount: '+1,850', value: '$6.4M', price: '$3,482', agent: 'Sentiment Agent' },
            { time: '2 hours ago', action: 'SELL', symbol: 'XRP', amount: '-2,500,000', value: '$3.5M', price: '$1.41', agent: 'Risk Agent' },
            { time: '3 hours ago', action: 'BUY', symbol: 'GLD', amount: '+15,000', value: '$3.6M', price: '$242.50', agent: 'Fundamental Agent' },
            { time: '4 hours ago', action: 'SELL', symbol: 'USO', amount: '-25,000', value: '$1.8M', price: '$72.80', agent: 'Technical Agent' }
        ];
        
        const positionAlerts = [
            { severity: 'warning', title: 'SOL Overweight', description: 'SOL position at 36.88% exceeds 35% target by 1.88%', time: '5 min ago', action: 'Consider reducing position' },
            { severity: 'info', title: 'TLT Underwater', description: 'TLT position showing -10.99% unrealized loss', time: '2 hours ago', action: 'Monitor for recovery' },
            { severity: 'warning', title: 'VIX Hedge Declining', description: 'VIX hedge position down -18.4%, review hedge ratio', time: '4 hours ago', action: 'Evaluate hedge effectiveness' },
            { severity: 'info', title: 'XRP Target Reached', description: 'XRP +173% gain, consider taking partial profits', time: '6 hours ago', action: 'Review profit-taking rules' }
        ];
        
        let trades = [];
        
        // ============================================
        // UTILITIES
        // ============================================
        function formatPercent(value) {
            return (value >= 0 ? '+' : '') + value.toFixed(2) + '%';
        }
        
        function generateTrades() {
            const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD', 'TLT', 'QQQ', 'BNB', 'ADA'];
            const result = [];
            for (let i = 0; i < 20; i++) {
                result.push({
                    symbol: symbols[Math.floor(Math.random() * symbols.length)],
                    side: Math.random() > 0.4 ? 'BUY' : 'SELL',
                    value: Math.random() * 5000000 + 100000,
                    pnl: (Math.random() - 0.3) * 5,
                    time: new Date(Date.now() - i * 60000 * Math.random() * 10).toLocaleTimeString()
                });
            }
            return result;
        }
        
        function generatePerformanceData() {
            const data = [];
            let value = 8.5;
            for (let i = 30; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                value += (Math.random() - 0.4) * 0.15;
                value = Math.max(8, Math.min(10, value));
                data.push({
                    date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                    value: value
                });
            }
            return data;
        }
        
        // ============================================
        // RENDER FUNCTIONS
        // ============================================
        function renderAgentCard(agent) {
            const signalText = agent.signal >= 70 ? 'BULLISH' : agent.signal >= 40 ? 'NEUTRAL' : 'BEARISH';
            const signalClass = agent.signal >= 70 ? 'signal-bullish' : agent.signal >= 40 ? 'signal-neutral' : 'signal-bearish';
            return `
                <div class="agent-card">
                    <div class="agent-header">
                        <span class="agent-icon">${agent.icon}</span>
                        <div class="agent-info">
                            <div class="agent-name">${agent.name}</div>
                            <div class="agent-category">${agent.category}</div>
                        </div>
                        <div class="agent-status-dot"></div>
                    </div>
                    <div class="agent-metrics">
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${agent.confidence}%; background-color: ${agent.color};"></div>
                        </div>
                        <div class="agent-metric-row">
                            <span class="metric-label">Confidence</span>
                            <span class="metric-value">${agent.confidence}%</span>
                        </div>
                        <div class="agent-metric-row">
                            <span class="metric-label">Signal</span>
                            <span class="metric-value ${signalClass}">${signalText}</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function renderAgents() {
            const container = document.getElementById('agents-grid');
            container.innerHTML = agents.slice(0, 12).map(renderAgentCard).join('');
        }
        
        function renderAgentsFull() {
            const container = document.getElementById('agents-full-list');
            const categories = ['Market Analysis', 'Asset Specialist', 'Execution & Risk', 'Integration'];
            container.innerHTML = categories.map(cat => {
                const catAgents = agents.filter(a => a.category === cat);
                return `
                    <div style="margin-bottom: 2rem;">
                        <h3 style="margin-bottom: 1rem; color: var(--gray-400);">${cat} (${catAgents.length} agents)</h3>
                        <div class="agents-grid">${catAgents.map(renderAgentCard).join('')}</div>
                    </div>
                `;
            }).join('');
        }
        
        function renderTrade(trade) {
            const pnlClass = trade.pnl >= 0 ? 'positive' : 'negative';
            return `
                <div class="trade-item">
                    <div class="trade-left">
                        <div class="trade-indicator ${trade.side.toLowerCase()}"></div>
                        <div>
                            <div class="trade-symbol">${trade.symbol}</div>
                            <div class="trade-time">${trade.time}</div>
                        </div>
                    </div>
                    <div class="trade-right">
                        <div class="trade-value">${formatCurrency(trade.value)}</div>
                        <div class="trade-pnl ${pnlClass}">${formatPercent(trade.pnl)}</div>
                    </div>
                </div>
            `;
        }
        
        function renderTrades() {
            document.getElementById('trade-list').innerHTML = trades.slice(0, 10).map(renderTrade).join('');
            document.getElementById('trading-trade-list').innerHTML = trades.map(renderTrade).join('');
        }
        
        function renderAssets() {
            const tbody = document.getElementById('assets-tbody');
            tbody.innerHTML = assets.map(asset => {
                const changeClass = asset.change >= 0 ? 'positive' : 'negative';
                const priceFormatted = asset.price >= 1000 ? '$' + asset.price.toLocaleString() : 
                                       asset.price >= 1 ? '$' + asset.price.toFixed(2) : 
                                       '$' + asset.price.toFixed(4);
                return `
                    <tr>
                        <td>
                            <div class="asset-cell">
                                <div class="asset-icon" style="background-color: ${asset.color};">${asset.symbol.slice(0, 2)}</div>
                                <div>
                                    <div class="asset-name">${asset.symbol}</div>
                                    <div class="asset-fullname">${asset.name}</div>
                                </div>
                            </div>
                        </td>
                        <td class="price-cell">${priceFormatted}</td>
                        <td class="change-cell ${changeClass}">${formatPercent(asset.change)}</td>
                        <td class="class-cell"><span class="class-badge">${asset.class}</span></td>
                        <td>
                            <div class="allocation-cell">
                                <div class="allocation-bar">
                                    <div class="allocation-fill" style="width: ${asset.allocation * 2.5}%; background-color: ${asset.color};"></div>
                                </div>
                                <span class="allocation-value">${asset.allocation}%</span>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        function renderVenueCard(venue) {
            return `
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">${venue.name}</span>
                        <span class="stat-icon">${venue.icon}</span>
                    </div>
                    <div class="stat-value small">${formatCurrency(venue.volume * 1e9)}</div>
                    <div class="stat-change neutral">${venue.trades.toLocaleString()} trades ‚Ä¢ ${venue.fillRate}% fill</div>
                </div>
            `;
        }
        
        function renderVenues() {
            document.getElementById('crypto-venues-grid').innerHTML = cryptoVenues.map(renderVenueCard).join('');
            document.getElementById('tradfi-venues-grid').innerHTML = tradfiVenues.map(renderVenueCard).join('');
        }
        
        function renderRiskLimits() {
            const container = document.getElementById('risk-limits');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    ${riskLimits.map(limit => {
                        const utilization = (limit.current / limit.limit) * 100;
                        const barColor = utilization > 90 ? '#EF4444' : utilization > 70 ? '#F59E0B' : '#22C55E';
                        return `
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="color: var(--gray-400);">${limit.name}</span>
                                    <span>${limit.current} / ${limit.limit}</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; background-color: ${barColor}; border-radius: 4px; width: ${Math.min(utilization, 100)}%;"></div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }
        
        function renderPhaseStats() {
            const container = document.getElementById('phase-stats');
            container.innerHTML = phaseData.map(phase => `
                <div class="card">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                        <div style="width: 12px; height: 12px; border-radius: 50%; background-color: ${phase.color};"></div>
                        <span style="font-weight: 600;">${phase.phase} Market</span>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--gray-400); font-size: 0.875rem;">Avg Return</span>
                            <span style="font-weight: 700;">${formatPercent(phase.return)}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--gray-400); font-size: 0.875rem;">Win Rate</span>
                            <span style="font-weight: 500;">${phase.winRate}%</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--gray-400); font-size: 0.875rem;">Sharpe</span>
                            <span style="font-weight: 500;">${phase.sharpe}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderAllocationLegend() {
            const legend = document.getElementById('allocation-legend');
            legend.innerHTML = allocationData.map(item => `
                <div class="legend-item">
                    <div class="legend-color" style="background-color: ${item.color};"></div>
                    <span class="legend-label">${item.name}</span>
                    <span class="legend-value">${item.value}%</span>
                </div>
            `).join('');
        }
        
        function renderBenchmarkComparison() {
            const tbody = document.getElementById('benchmark-comparison');
            tbody.innerHTML = benchmarks.map(b => `
                <tr class="${b.highlight ? 'highlight-row' : ''}">
                    <td>${b.name}</td>
                    <td style="color: ${b.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y1)}</td>
                    <td style="color: ${b.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y3)}</td>
                    <td style="color: ${b.y5 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y5)}</td>
                    <td style="color: ${b.y10 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y10)}</td>
                    <td>${b.sharpe.toFixed(2)}</td>
                    <td style="color: var(--red-400);">${b.maxDD}%</td>
                </tr>
            `).join('');
        }
        
        function renderInvestorComparison() {
            const tbody = document.getElementById('investor-comparison-table');
            tbody.innerHTML = investorComparisons.map(c => `
                <tr class="${c.highlight ? 'highlight-row' : ''}">
                    <td>${c.name}</td>
                    <td style="color: ${c.ytd >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.ytd)}</td>
                    <td style="color: ${c.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y1)}</td>
                    <td style="color: ${c.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y3)}</td>
                    <td>${c.vol.toFixed(1)}%</td>
                    <td>${c.sharpe.toFixed(2)}</td>
                    <td style="color: var(--red-400);">${c.maxDD}%</td>
                </tr>
            `).join('');
        }
        
        function renderTraderPnL() {
            const container = document.getElementById('trader-pnl-list');
            container.innerHTML = traderPnL.map(trader => `
                <div class="pnl-item">
                    <div>
                        <div style="font-weight: 500;">${trader.name}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-500);">${trader.trades} trades ‚Ä¢ ${trader.winRate}% win</div>
                    </div>
                    <span class="pnl-value ${trader.pnl >= 0 ? 'positive' : 'negative'}">${formatCurrency(trader.pnl)}</span>
                </div>
            `).join('');
        }
        
        function renderQuarterlyReports() {
            const container = document.getElementById('quarterly-reports');
            container.innerHTML = quarterlyReports.map(report => `
                <div class="report-item">
                    <div class="report-info">
                        <span class="report-icon">üìÑ</span>
                        <div>
                            <div class="report-name">${report.name}</div>
                            <div class="report-date">${report.date}</div>
                        </div>
                    </div>
                    <button class="report-btn">Download</button>
                </div>
            `).join('');
        }
        
        function renderAutomatedReports() {
            const container = document.getElementById('automated-reports-list');
            container.innerHTML = automatedReports.map(report => `
                <div class="report-item" style="margin-bottom: 0.75rem;">
                    <div class="report-info">
                        <span class="report-icon">ü§ñ</span>
                        <div>
                            <div class="report-name">${report.name} - ${report.time}</div>
                            <div class="report-date">${report.date} ‚Ä¢ ${report.assets} assets ‚Ä¢ ${report.signals} signals ‚Ä¢ Top: ${report.topPick}</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="padding: 0.25rem 0.5rem; background-color: ${report.sentiment === 'Bullish' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(250, 204, 21, 0.2)'}; color: ${report.sentiment === 'Bullish' ? 'var(--green-400)' : 'var(--yellow-400)'}; border-radius: 4px; font-size: 0.75rem;">${report.sentiment}</span>
                        <button class="report-btn">View</button>
                    </div>
                </div>
            `).join('');
        }
        
        function generateAssetReport() {
            const asset = document.getElementById('research-asset-select').value;
            const reportType = document.getElementById('research-report-type').value;
            const timeframe = document.getElementById('research-timeframe').value;
            const data = assetReportData[asset] || assetReportData['BTC'];
            const assetInfo = assets.find(a => a.symbol === asset) || { name: asset, price: 0, change: 0 };
            
            const recColor = data.recommendation.includes('BUY') ? 'var(--green-400)' : 
                            data.recommendation.includes('SELL') ? 'var(--red-400)' : 'var(--yellow-400)';
            
            const timestamp = new Date().toLocaleString();
            document.getElementById('report-timestamp').textContent = `Generated: ${timestamp}`;
            
            const reportHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <!-- Left Column - Scores & Analysis -->
                    <div>
                        <h4 style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;">${asset === 'BTC' ? '‚Çø' : asset === 'ETH' ? 'Œû' : 'üìà'}</span>
                            ${asset} - ${assetInfo.name}
                        </h4>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.25rem;">Current Price</div>
                                <div style="font-size: 1.25rem; font-weight: 700;">$${assetInfo.price.toLocaleString()}</div>
                                <div style="font-size: 0.875rem; color: ${assetInfo.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${assetInfo.change >= 0 ? '+' : ''}${assetInfo.change}%</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.25rem;">AI Confidence</div>
                                <div style="font-size: 1.25rem; font-weight: 700;">${data.confidence}%</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">19 agents consensus</div>
                            </div>
                        </div>
                        
                        <h5 style="margin-bottom: 0.75rem; color: var(--gray-400);">Agent Analysis Scores</h5>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üí≠ Sentiment Analysis</span>
                                    <span style="font-weight: 600; color: ${data.sentiment >= 70 ? 'var(--green-400)' : data.sentiment >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.sentiment}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.sentiment}%; background-color: ${data.sentiment >= 70 ? 'var(--green-400)' : data.sentiment >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üìà Technical Analysis</span>
                                    <span style="font-weight: 600; color: ${data.technical >= 70 ? 'var(--green-400)' : data.technical >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.technical}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.technical}%; background-color: ${data.technical >= 70 ? 'var(--green-400)' : data.technical >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üìä Fundamental Analysis</span>
                                    <span style="font-weight: 600; color: ${data.fundamental >= 70 ? 'var(--green-400)' : data.fundamental >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.fundamental}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.fundamental}%; background-color: ${data.fundamental >= 70 ? 'var(--green-400)' : data.fundamental >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üõ°Ô∏è Risk Assessment</span>
                                    <span style="font-weight: 600; color: ${data.risk >= 70 ? 'var(--green-400)' : data.risk >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.risk}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.risk}%; background-color: ${data.risk >= 70 ? 'var(--green-400)' : data.risk >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column - Recommendation -->
                    <div>
                        <div style="background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(217, 119, 6, 0.1)); border: 1px solid rgba(30, 64, 175, 0.3); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.5rem;">AI RECOMMENDATION</div>
                            <div style="font-size: 2rem; font-weight: 700; color: ${recColor}; margin-bottom: 1rem;">${data.recommendation}</div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                                <div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Target Price</div>
                                    <div style="font-size: 1.25rem; font-weight: 600; color: var(--green-400);">$${data.target.toLocaleString()}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Stop Loss</div>
                                    <div style="font-size: 1.25rem; font-weight: 600; color: var(--red-400);">$${data.stopLoss.toLocaleString()}</div>
                                </div>
                            </div>
                        </div>
                        
                        <h5 style="margin-bottom: 0.75rem; color: var(--gray-400);">Trade Setup</h5>
                        <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="color: var(--gray-400);">Entry Zone</span>
                                <span style="font-family: monospace;">$${(assetInfo.price * 0.98).toFixed(2)} - $${(assetInfo.price * 1.02).toFixed(2)}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="color: var(--gray-400);">Risk/Reward</span>
                                <span style="font-family: monospace; color: var(--green-400);">1:${((data.target - assetInfo.price) / (assetInfo.price - data.stopLoss)).toFixed(1)}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="color: var(--gray-400);">Position Size</span>
                                <span style="font-family: monospace;">2-5% of portfolio</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--gray-400);">Timeframe</span>
                                <span style="font-family: monospace;">${timeframe === '1h' ? '1-4 hours' : timeframe === '4h' ? '4-12 hours' : timeframe === '1d' ? '1-3 days' : timeframe === '1w' ? '1-2 weeks' : '2-4 weeks'}</span>
                            </div>
                        </div>
                        
                        <h5 style="margin-bottom: 0.75rem; color: var(--gray-400);">Contributing Agents</h5>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            ${agents.slice(0, 8).map(a => `<span style="padding: 0.25rem 0.5rem; background-color: var(--navy-700); border-radius: 4px; font-size: 0.75rem;">${a.icon} ${a.name}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('asset-report-content').innerHTML = reportHTML;
        }
        
        function generateFullMarketReport() {
            const timestamp = new Date().toLocaleString();
            document.getElementById('market-report-timestamp').textContent = `Generated: ${timestamp}`;
            
            // Calculate market summary
            const bullishAssets = Object.entries(assetReportData).filter(([k, v]) => v.sentiment >= 65).length;
            const bearishAssets = Object.entries(assetReportData).filter(([k, v]) => v.sentiment < 45).length;
            const neutralAssets = 17 - bullishAssets - bearishAssets;
            
            const topPicks = Object.entries(assetReportData)
                .sort((a, b) => b[1].confidence - a[1].confidence)
                .slice(0, 5);
            
            const reportHTML = `
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--green-400);">${bullishAssets}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Bullish Assets</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--yellow-400);">${neutralAssets}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Neutral Assets</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--red-400);">${bearishAssets}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Bearish Assets</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--maxam-gold);">19</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Active Agents</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">üèÜ Top 5 Opportunities</h4>
                        ${topPicks.map(([symbol, data], i) => {
                            const asset = assets.find(a => a.symbol === symbol) || { name: symbol, price: 0 };
                            const recColor = data.recommendation.includes('BUY') ? 'var(--green-400)' : 
                                            data.recommendation.includes('SELL') ? 'var(--red-400)' : 'var(--yellow-400)';
                            return `
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                                        <span style="font-size: 1.25rem; font-weight: 700; color: var(--maxam-gold);">#${i + 1}</span>
                                        <div>
                                            <div style="font-weight: 600;">${symbol}</div>
                                            <div style="font-size: 0.75rem; color: var(--gray-500);">${asset.name}</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-weight: 600; color: ${recColor};">${data.recommendation}</div>
                                        <div style="font-size: 0.75rem; color: var(--gray-400);">${data.confidence}% confidence</div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">üìä Market Sector Analysis</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Crypto</span>
                                    <span style="color: var(--green-400);">BULLISH</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 78%; background-color: var(--green-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Equities</span>
                                    <span style="color: var(--green-400);">BULLISH</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 72%; background-color: var(--green-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Commodities</span>
                                    <span style="color: var(--yellow-400);">NEUTRAL</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 55%; background-color: var(--yellow-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Fixed Income</span>
                                    <span style="color: var(--yellow-400);">NEUTRAL</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 48%; background-color: var(--yellow-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem; padding: 1rem; background-color: var(--navy-700); border-radius: 8px;">
                    <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">ü§ñ Agent Consensus Summary</h4>
                    <p style="color: var(--gray-300); line-height: 1.6;">
                        The 19-agent AI system has analyzed all 17 assets across crypto, equities, commodities, and fixed income markets. 
                        <strong style="color: var(--green-400);">Overall market sentiment is BULLISH</strong> with a weighted confidence score of 76.4%. 
                        Primary opportunities are concentrated in the cryptocurrency sector, with <strong>SOL</strong> receiving the highest conviction rating. 
                        Risk agents have flagged elevated volatility in commodities due to geopolitical factors. 
                        Portfolio allocation recommendations favor maintaining current crypto exposure while reducing fixed income positions by 2-3%.
                    </p>
                </div>
            `;
            
            document.getElementById('market-report-content').innerHTML = reportHTML;
        }
        
        // ============================================
        // AUDITING FUNCTIONS
        // ============================================
        function renderAuditReports() {
            const container = document.getElementById('audit-reports-list');
            container.innerHTML = auditReports.map(report => `
                <div class="report-item" style="margin-bottom: 0.75rem;">
                    <div class="report-info">
                        <span class="report-icon">${report.icon}</span>
                        <div>
                            <div class="report-name">${report.type} Audit - ${report.date}</div>
                            <div class="report-date">${report.time} ‚Ä¢ ${report.findings} findings</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="padding: 0.25rem 0.5rem; background-color: ${report.status === 'passed' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${report.status === 'passed' ? 'var(--green-400)' : 'var(--red-400)'}; border-radius: 4px; font-size: 0.75rem;">‚úì Passed</span>
                        <button class="report-btn">View</button>
                    </div>
                </div>
            `).join('');
        }
        
        function renderPositionReconciliation() {
            const container = document.getElementById('position-reconciliation');
            container.innerHTML = positionReconciliation.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <span>${item.name}</span>
                    <span style="color: var(--green-400);">‚úì ${item.variance}</span>
                </div>
            `).join('');
        }
        
        function renderCashVerification() {
            const container = document.getElementById('cash-verification');
            container.innerHTML = cashVerification.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <span>${item.custodian}</span>
                    <div style="text-align: right;">
                        <div style="color: var(--green-400);">‚úì ${item.balance}</div>
                        <div style="font-size: 0.7rem; color: var(--gray-500);">${item.lastCheck}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderComplianceChecks() {
            const container = document.getElementById('compliance-checks');
            container.innerHTML = complianceChecks.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <span>${item.name}</span>
                    <span style="color: var(--green-400);">‚úì</span>
                </div>
            `).join('');
        }
        
        function generateAudit() {
            const auditType = document.getElementById('audit-type-select').value;
            const timestamp = new Date().toLocaleString();
            document.getElementById('audit-timestamp').textContent = `Generated: ${timestamp}`;
            
            const auditNames = {
                full: 'Full Portfolio Audit',
                reconciliation: 'Reconciliation Audit',
                compliance: 'Compliance Audit',
                performance: 'Performance Audit',
                risk: 'Risk Assessment Audit',
                tax: 'Tax Lot Audit'
            };
            
            const auditHTML = `
                <div style="border-left: 4px solid var(--green-400); padding-left: 1rem; margin-bottom: 1.5rem;">
                    <div style="font-size: 1.25rem; font-weight: 700; color: var(--green-400); margin-bottom: 0.25rem;">AUDIT PASSED</div>
                    <div style="color: var(--gray-400);">${auditNames[auditType]} completed successfully</div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700;">$9.11B</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Total AUM Verified</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">0</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Discrepancies</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700;">17</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Assets Audited</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700;">6</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Custodians Verified</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">‚úÖ Verification Summary</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Position Reconciliation</span>
                                <span style="color: var(--green-400);">‚úì Matched</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>NAV Calculation</span>
                                <span style="color: var(--green-400);">‚úì Verified</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Trade Confirmations</span>
                                <span style="color: var(--green-400);">‚úì 23,847 verified</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Cash Balances</span>
                                <span style="color: var(--green-400);">‚úì $2.09B verified</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Fee Calculations</span>
                                <span style="color: var(--green-400);">‚úì Accurate</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">üìã Compliance Status</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>SEC Regulation D</span>
                                <span style="color: var(--green-400);">‚úì Compliant</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>AML/KYC Requirements</span>
                                <span style="color: var(--green-400);">‚úì Compliant</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>SOC 2 Type II Controls</span>
                                <span style="color: var(--green-400);">‚úì Compliant</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Risk Limits</span>
                                <span style="color: var(--green-400);">‚úì Within bounds</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Investor Accreditation</span>
                                <span style="color: var(--green-400);">‚úì 100% verified</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem; padding: 1rem; background-color: var(--navy-700); border-radius: 8px;">
                    <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">üìù Auditor Notes</h4>
                    <p style="color: var(--gray-300); line-height: 1.6; margin-bottom: 0.5rem;">
                        The portfolio has been fully reconciled across all custodians and trading venues. All positions match between internal records and external statements. 
                        NAV calculations have been verified using independent pricing sources. No material discrepancies were identified.
                    </p>
                    <p style="color: var(--gray-300); line-height: 1.6;">
                        <strong>Recommendation:</strong> Continue current operational procedures. Next scheduled comprehensive audit: Q1 2025.
                    </p>
                </div>
                
                <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                    <button class="control-btn">üì• Download Full Report (PDF)</button>
                    <button class="control-btn secondary">üìß Email to Stakeholders</button>
                </div>
            `;
            
            document.getElementById('audit-report-content').innerHTML = auditHTML;
        }
        
        // ============================================
        // SECURITY FUNCTIONS
        // ============================================
        function renderThreatFeed() {
            const container = document.getElementById('threat-feed');
            container.innerHTML = threatFeed.map(threat => {
                const severityColors = {
                    low: 'var(--green-400)',
                    medium: 'var(--yellow-400)',
                    high: 'var(--red-400)',
                    info: 'var(--gray-400)'
                };
                return `
                    <div style="display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${severityColors[threat.severity]};">
                        <span style="font-size: 1.25rem;">${threat.icon}</span>
                        <div style="flex: 1;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                <span style="font-weight: 500;">${threat.type}</span>
                                <span style="font-size: 0.75rem; color: var(--gray-500);">${threat.time}</span>
                            </div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">${threat.description}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderAnomalyDetection() {
            const container = document.getElementById('anomaly-detection');
            container.innerHTML = anomalyDetection.map(item => {
                const statusColors = {
                    normal: 'var(--green-400)',
                    alert: 'var(--yellow-400)',
                    critical: 'var(--red-400)'
                };
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                        <div>
                            <div style="font-weight: 500;">${item.metric}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">${item.description}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: 600; color: ${statusColors[item.status]};">${item.status.toUpperCase()}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">${item.deviation}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderDDoSMetrics() {
            const container = document.getElementById('ddos-metrics');
            container.innerHTML = ddosMetrics.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                    <span style="color: var(--gray-400);">${item.metric}</span>
                    <span style="font-weight: 600;">${item.value}</span>
                </div>
            `).join('');
        }
        
        function renderFrontrunAlerts() {
            const container = document.getElementById('frontrun-alerts');
            container.innerHTML = frontrunAlerts.map(alert => `
                <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span style="font-weight: 500;">${alert.pair} - ${alert.type}</span>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${alert.status === 'Blocked' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(250, 204, 21, 0.2)'}; color: ${alert.status === 'Blocked' ? 'var(--green-400)' : 'var(--yellow-400)'}; border-radius: 4px; font-size: 0.75rem;">${alert.status}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.875rem; color: var(--gray-400);">
                        <span>${alert.amount}</span>
                        <span>${alert.time}</span>
                    </div>
                    <div style="font-size: 0.75rem; color: var(--gray-500); margin-top: 0.25rem;">${alert.action}</div>
                </div>
            `).join('');
        }
        
        function renderWalletTracking() {
            const container = document.getElementById('wallet-tracking-body');
            container.innerHTML = companyWallets.map(wallet => `
                <tr>
                    <td>
                        <div style="font-weight: 500;">${wallet.name}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-500);">Multi-sig: ${wallet.multisig}</div>
                    </td>
                    <td style="font-family: monospace;">${wallet.address}</td>
                    <td><span class="class-badge">${wallet.network}</span></td>
                    <td style="font-weight: 600;">${wallet.balance}</td>
                    <td style="color: var(--gray-400);">${wallet.lastActivity}</td>
                    <td>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${wallet.status === 'active' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(30, 64, 175, 0.2)'}; color: ${wallet.status === 'active' ? 'var(--green-400)' : 'var(--maxam-blue)'}; border-radius: 4px; font-size: 0.75rem;">${wallet.status}</span>
                    </td>
                    <td>
                        <button class="report-btn" style="padding: 0.25rem 0.5rem; font-size: 0.7rem;">View</button>
                    </td>
                </tr>
            `).join('');
        }
        
        function renderSecurityNotifications() {
            const container = document.getElementById('security-notifications');
            const typeColors = {
                info: { bg: 'rgba(59, 130, 246, 0.2)', color: '#3B82F6' },
                warning: { bg: 'rgba(250, 204, 21, 0.2)', color: 'var(--yellow-400)' },
                success: { bg: 'rgba(34, 197, 94, 0.2)', color: 'var(--green-400)' },
                error: { bg: 'rgba(239, 68, 68, 0.2)', color: 'var(--red-400)' }
            };
            container.innerHTML = securityNotifications.map(notif => `
                <div style="display: flex; gap: 0.75rem; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${typeColors[notif.type].color};">
                    <span style="font-size: 1.25rem;">${notif.icon}</span>
                    <div style="flex: 1;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                            <span style="font-weight: 500;">${notif.title}</span>
                            <span style="font-size: 0.75rem; color: var(--gray-500);">${notif.time}</span>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">${notif.message}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderSecurityMetrics() {
            const container = document.getElementById('security-metrics');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                    ${securityMetricsData.map(metric => `
                        <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 1.25rem;">${metric.icon}</span>
                                <span style="font-size: 0.75rem; color: ${metric.change.startsWith('+') ? 'var(--green-400)' : metric.change.startsWith('-') ? 'var(--red-400)' : 'var(--gray-400)'};">${metric.change}</span>
                            </div>
                            <div style="font-size: 1.25rem; font-weight: 700; margin: 0.25rem 0;">${metric.value}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">${metric.name}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        function renderAccessLog() {
            const container = document.getElementById('access-log');
            container.innerHTML = accessLog.map(log => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="width: 80px; color: var(--gray-500);">${log.time}</span>
                        <span style="font-weight: 500;">${log.user}</span>
                        <span style="color: var(--gray-400);">${log.action}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="color: var(--gray-500);">${log.location}</span>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${log.status === 'success' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${log.status === 'success' ? 'var(--green-400)' : 'var(--red-400)'}; border-radius: 4px; font-size: 0.75rem;">${log.status}</span>
                    </div>
                </div>
            `).join('');
        }
        
        function refreshWallets() {
            // Simulate refresh animation
            const btn = event.target;
            btn.textContent = '‚è≥ Refreshing...';
            setTimeout(() => {
                btn.textContent = 'üîÑ Refresh';
                renderWalletTracking();
            }, 1000);
        }
        
        // ============================================
        // ENHANCED RISK MANAGEMENT FUNCTIONS
        // ============================================
        function renderRiskScores() {
            const container = document.getElementById('risk-scores-body');
            container.innerHTML = assetRiskScores.map(asset => {
                const riskColor = asset.riskScore >= 70 ? 'var(--red-400)' : asset.riskScore >= 40 ? 'var(--yellow-400)' : 'var(--green-400)';
                const statusColors = {
                    'very-low': 'rgba(34, 197, 94, 0.2)',
                    'low': 'rgba(34, 197, 94, 0.15)',
                    'moderate': 'rgba(250, 204, 21, 0.2)',
                    'high': 'rgba(239, 68, 68, 0.2)'
                };
                const statusTextColors = {
                    'very-low': 'var(--green-400)',
                    'low': 'var(--green-400)',
                    'moderate': 'var(--yellow-400)',
                    'high': 'var(--red-400)'
                };
                return `
                    <tr>
                        <td>
                            <div style="font-weight: 600;">${asset.symbol}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">${asset.name}</div>
                        </td>
                        <td><span class="class-badge">${asset.class}</span></td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 60px; height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: ${asset.riskScore}%; background-color: ${riskColor}; border-radius: 3px;"></div>
                                </div>
                                <span style="font-weight: 600; color: ${riskColor};">${asset.riskScore}</span>
                            </div>
                        </td>
                        <td>${asset.var95}%</td>
                        <td>${asset.volatility}%</td>
                        <td>${asset.liquidity}/100</td>
                        <td>${asset.smartContract ? asset.smartContract + '/100' : 'N/A'}</td>
                        <td style="color: ${asset.correlation >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${asset.correlation.toFixed(2)}</td>
                        <td>
                            <span style="padding: 0.2rem 0.5rem; background-color: ${statusColors[asset.status]}; color: ${statusTextColors[asset.status]}; border-radius: 4px; font-size: 0.75rem; text-transform: uppercase;">${asset.status.replace('-', ' ')}</span>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        function renderExposureAnalysis() {
            const container = document.getElementById('exposure-analysis');
            container.innerHTML = exposureAnalysis.map(item => `
                <div style="margin-bottom: 0.75rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>${item.class}</span>
                        <span style="font-weight: 600;">${item.percentage}% <span style="color: var(--gray-500); font-weight: 400;">(${item.exposure})</span></span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="flex: 1; height: 8px; background-color: var(--navy-600); border-radius: 4px; position: relative;">
                            <div style="height: 100%; width: ${(item.percentage / item.limit) * 100}%; background-color: ${item.percentage / item.limit > 0.8 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 4px;"></div>
                            <div style="position: absolute; right: 0; top: -2px; bottom: -2px; width: 2px; background-color: var(--red-400);" title="Limit: ${item.limit}%"></div>
                        </div>
                        <span style="font-size: 0.75rem; color: var(--gray-500); width: 50px;">/${item.limit}%</span>
                    </div>
                </div>
            `).join('');
        }
        
        function renderCorrelationMatrix() {
            const container = document.getElementById('correlation-matrix');
            container.innerHTML = topCorrelations.map(item => {
                const corrColor = Math.abs(item.correlation) >= 0.7 ? (item.correlation >= 0 ? 'var(--red-400)' : 'var(--green-400)') : 'var(--yellow-400)';
                const trendIcon = item.trend === 'increasing' ? '‚Üë' : item.trend === 'decreasing' ? '‚Üì' : '‚Üí';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                        <span style="font-weight: 500;">${item.pair}</span>
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-weight: 600; color: ${corrColor};">${item.correlation.toFixed(2)}</span>
                            <span style="font-size: 0.875rem; color: var(--gray-400);">${trendIcon}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderStressTests() {
            const container = document.getElementById('stress-tests');
            const statusColors = {
                acceptable: { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)' },
                warning: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)' },
                critical: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)' }
            };
            container.innerHTML = stressTests.map(test => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                    <div>
                        <div style="font-weight: 500;">${test.scenario}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-500);">Probability: ${test.probability}</div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <span style="font-weight: 600; color: var(--red-400);">${test.portfolioImpact}</span>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${statusColors[test.status].bg}; color: ${statusColors[test.status].text}; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase;">${test.status}</span>
                    </div>
                </div>
            `).join('');
        }
        
        function renderRiskAlerts() {
            const container = document.getElementById('risk-alerts');
            const severityColors = {
                low: { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)', border: 'var(--green-400)' },
                medium: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)', border: 'var(--yellow-400)' },
                high: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)', border: 'var(--red-400)' }
            };
            container.innerHTML = riskAlerts.map(alert => `
                <div style="display: flex; gap: 1rem; padding: 1rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.75rem; border-left: 3px solid ${severityColors[alert.severity].border};">
                    <div style="flex: 1;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600;">${alert.title}</span>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <span style="padding: 0.2rem 0.5rem; background-color: ${severityColors[alert.severity].bg}; color: ${severityColors[alert.severity].text}; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase;">${alert.severity}</span>
                                <span style="font-size: 0.75rem; color: var(--gray-500);">${alert.time}</span>
                            </div>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.5rem;">${alert.description}</div>
                        <div style="font-size: 0.75rem; color: var(--maxam-gold);">Recommended: ${alert.action}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function filterRiskAssets() {
            const assetClass = document.getElementById('risk-asset-class').value;
            const select = document.getElementById('risk-asset-select');
            
            const assetsByClass = {
                all: ['SOL', 'BTC', 'ETH', 'XRP', 'BNB', 'ADA', 'XLM', 'USDT', 'USDC', 'SPY', 'QQQ', 'TLT', 'GLD', 'SLV', 'USO', 'VNQ', 'VIX'],
                crypto: ['SOL', 'BTC', 'ETH', 'XRP', 'BNB', 'ADA', 'XLM'],
                stablecoin: ['USDT', 'USDC'],
                equity: ['SPY', 'QQQ'],
                'fixed-income': ['TLT'],
                commodity: ['GLD', 'SLV', 'USO'],
                reit: ['VNQ'],
                derivative: ['VIX']
            };
            
            const assetNames = {
                SOL: 'Solana', BTC: 'Bitcoin', ETH: 'Ethereum', XRP: 'Ripple', BNB: 'Binance Coin',
                ADA: 'Cardano', XLM: 'Stellar', USDT: 'Tether', USDC: 'USD Coin', SPY: 'S&P 500 ETF',
                QQQ: 'Nasdaq 100', TLT: 'Treasury Bonds', GLD: 'Gold ETF', SLV: 'Silver ETF',
                USO: 'Oil ETF', VNQ: 'Real Estate', VIX: 'Volatility Index'
            };
            
            const filteredAssets = assetsByClass[assetClass] || assetsByClass.all;
            select.innerHTML = filteredAssets.map(symbol => 
                `<option value="${symbol}">${symbol} - ${assetNames[symbol]}</option>`
            ).join('');
        }
        
        function generateRiskAssessment() {
            const symbol = document.getElementById('risk-asset-select').value;
            const timeframe = document.getElementById('risk-timeframe').value;
            const timestamp = new Date().toLocaleString();
            document.getElementById('risk-assessment-timestamp').textContent = `Generated: ${timestamp}`;
            
            const assetData = assetRiskScores.find(a => a.symbol === symbol);
            const detailedData = assetRiskDetails[symbol] || {
                overview: `${assetData.name} risk analysis based on current market conditions`,
                keyRisks: ['Market volatility', 'Liquidity risk', 'Correlation risk', 'Regulatory risk'],
                metrics: { dailyVolume: 'N/A', marketCap: 'N/A' },
                historicalDrawdowns: []
            };
            
            const riskColor = assetData.riskScore >= 70 ? 'var(--red-400)' : assetData.riskScore >= 40 ? 'var(--yellow-400)' : 'var(--green-400)';
            const riskLevel = assetData.riskScore >= 70 ? 'HIGH' : assetData.riskScore >= 40 ? 'MODERATE' : 'LOW';
            
            const timeframeLabels = { '1d': '1 Day', '7d': '7 Days', '30d': '30 Days', '90d': '90 Days', '1y': '1 Year' };
            
            const assessmentHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--navy-600);">
                    <div>
                        <div style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;">${symbol} - ${assetData.name}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">${assetData.class} ‚Ä¢ Timeframe: ${timeframeLabels[timeframe]}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.25rem;">Overall Risk Score</div>
                        <div style="font-size: 2.5rem; font-weight: 700; color: ${riskColor};">${assetData.riskScore}</div>
                        <div style="padding: 0.25rem 0.75rem; background-color: ${riskColor}20; color: ${riskColor}; border-radius: 4px; font-size: 0.875rem; font-weight: 600;">${riskLevel} RISK</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700;">${assetData.var95}%</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">VaR (95%)</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700;">${assetData.volatility}%</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">30d Volatility</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700;">${assetData.liquidity}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">Liquidity Score</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700; color: ${assetData.correlation >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${assetData.correlation.toFixed(2)}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">BTC Correlation</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                    <div>
                        <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">üìã Asset Overview</h4>
                        <p style="color: var(--gray-300); line-height: 1.6; font-size: 0.875rem;">${detailedData.overview}</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">‚ö†Ô∏è Key Risk Factors</h4>
                        <ul style="color: var(--gray-300); font-size: 0.875rem; padding-left: 1.25rem; margin: 0;">
                            ${detailedData.keyRisks.map(risk => `<li style="margin-bottom: 0.25rem;">${risk}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Market Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${assetData.volatility}%; max-width: 100%; background-color: ${assetData.volatility > 50 ? 'var(--red-400)' : assetData.volatility > 25 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${assetData.volatility > 50 ? 'High' : assetData.volatility > 25 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Liquidity Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${100 - assetData.liquidity}%; background-color: ${assetData.liquidity < 80 ? 'var(--red-400)' : assetData.liquidity < 90 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${assetData.liquidity < 80 ? 'High' : assetData.liquidity < 90 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Smart Contract</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${assetData.smartContract ? (100 - assetData.smartContract) : 0}%; background-color: ${!assetData.smartContract ? 'var(--gray-500)' : assetData.smartContract < 80 ? 'var(--red-400)' : assetData.smartContract < 90 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${!assetData.smartContract ? 'N/A' : assetData.smartContract < 80 ? 'High' : assetData.smartContract < 90 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Correlation Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${Math.abs(assetData.correlation) * 100}%; background-color: ${Math.abs(assetData.correlation) > 0.8 ? 'var(--red-400)' : Math.abs(assetData.correlation) > 0.5 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${Math.abs(assetData.correlation) > 0.8 ? 'High' : Math.abs(assetData.correlation) > 0.5 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Tail Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${assetData.var95 * 15}%; background-color: ${assetData.var95 > 5 ? 'var(--red-400)' : assetData.var95 > 2.5 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${assetData.var95 > 5 ? 'High' : assetData.var95 > 2.5 ? 'Medium' : 'Low'}</div>
                    </div>
                </div>
                
                <div style="padding: 1rem; background: linear-gradient(135deg, var(--navy-700) 0%, var(--navy-800) 100%); border-radius: 8px;">
                    <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">üéØ Risk Management Recommendations</h4>
                    <ul style="color: var(--gray-300); font-size: 0.875rem; padding-left: 1.25rem; margin: 0;">
                        <li style="margin-bottom: 0.5rem;"><strong>Position Sizing:</strong> ${assetData.riskScore >= 70 ? 'Reduce exposure to <3% of portfolio' : assetData.riskScore >= 40 ? 'Maintain at 3-5% of portfolio' : 'Can hold up to 8% of portfolio'}</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Stop Loss:</strong> Set at ${(assetData.var95 * 2.5).toFixed(1)}% below entry (2.5x daily VaR)</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Hedging:</strong> ${Math.abs(assetData.correlation) > 0.7 ? 'Consider hedging with inverse correlated assets' : 'Current correlation provides natural diversification'}</li>
                        <li><strong>Monitoring:</strong> ${assetData.riskScore >= 70 ? 'Daily review required' : assetData.riskScore >= 40 ? 'Weekly review recommended' : 'Standard monitoring sufficient'}</li>
                    </ul>
                </div>
            `;
            
            document.getElementById('risk-assessment-content').innerHTML = assessmentHTML;
        }
        
        function refreshRiskScores() {
            const btn = event.target;
            btn.textContent = '‚è≥ Updating...';
            
            // Simulate real-time updates with small random variations
            assetRiskScores.forEach(asset => {
                asset.riskScore = Math.max(5, Math.min(95, asset.riskScore + (Math.random() - 0.5) * 4));
                asset.var95 = Math.max(0.05, asset.var95 + (Math.random() - 0.5) * 0.2).toFixed(2);
                asset.volatility = Math.max(0.5, asset.volatility + (Math.random() - 0.5) * 2).toFixed(1);
            });
            
            setTimeout(() => {
                btn.textContent = 'üîÑ Refresh';
                renderRiskScores();
            }, 800);
        }
        
        // Start real-time risk score updates
        function startRiskScoreUpdates() {
            setInterval(() => {
                assetRiskScores.forEach(asset => {
                    // Small random variations to simulate live data
                    const variation = (Math.random() - 0.5) * 2;
                    asset.riskScore = Math.round(Math.max(5, Math.min(95, asset.riskScore + variation)));
                });
                renderRiskScores();
            }, 5000); // Update every 5 seconds
        }
        
        // ============================================
        // PORTFOLIO MANAGEMENT FUNCTIONS
        // ============================================
        function formatCurrency(value, decimals = 0) {
            if (Math.abs(value) >= 1e9) {
                return '$' + (value / 1e9).toFixed(2) + 'B';
            } else if (Math.abs(value) >= 1e6) {
                return '$' + (value / 1e6).toFixed(2) + 'M';
            } else if (Math.abs(value) >= 1e3) {
                return '$' + (value / 1e3).toFixed(1) + 'K';
            }
            return '$' + value.toFixed(decimals);
        }
        
        function formatNumber(value, decimals = 2) {
            if (Math.abs(value) >= 1e9) {
                return (value / 1e9).toFixed(2) + 'B';
            } else if (Math.abs(value) >= 1e6) {
                return (value / 1e6).toFixed(2) + 'M';
            } else if (Math.abs(value) >= 1e3) {
                return (value / 1e3).toFixed(1) + 'K';
            }
            return value.toFixed(decimals);
        }
        
        function renderPositionsTable() {
            const container = document.getElementById('positions-table-body');
            const footer = document.getElementById('positions-table-footer');
            
            // Calculate totals
            const totals = portfolioPositions.reduce((acc, pos) => {
                acc.positionValue += pos.positionValue;
                acc.costBasis += pos.costBasis;
                acc.unrealizedPnL += pos.unrealizedPnL;
                return acc;
            }, { positionValue: 0, costBasis: 0, unrealizedPnL: 0 });
            
            container.innerHTML = portfolioPositions.map(pos => {
                const pnlColor = pos.unrealizedPnL >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                const change24hColor = pos.change24h >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                const change7dColor = pos.change7d >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                const statusColors = {
                    'overweight': { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)' },
                    'underweight': { bg: 'rgba(59, 130, 246, 0.2)', text: '#3B82F6' },
                    'normal': { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)' }
                };
                
                return `
                    <tr>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div>
                                    <div style="font-weight: 600;">${pos.symbol}</div>
                                    <div style="font-size: 0.7rem; color: var(--gray-500);">${pos.name}</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="class-badge">${pos.class}</span></td>
                        <td style="font-weight: 500;">$${pos.currentPrice < 1 ? pos.currentPrice.toFixed(4) : pos.currentPrice.toLocaleString()}</td>
                        <td style="color: var(--gray-400);">$${pos.avgEntry < 1 ? pos.avgEntry.toFixed(4) : pos.avgEntry.toLocaleString()}</td>
                        <td>${formatNumber(pos.quantity, 0)}</td>
                        <td style="font-weight: 600;">${formatCurrency(pos.positionValue)}</td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 40px; height: 4px; background-color: var(--navy-600); border-radius: 2px;">
                                    <div style="height: 100%; width: ${Math.min(pos.weight * 2.7, 100)}%; background-color: var(--maxam-gold); border-radius: 2px;"></div>
                                </div>
                                <span style="font-weight: 500;">${pos.weight.toFixed(2)}%</span>
                            </div>
                        </td>
                        <td style="color: var(--gray-400);">${formatCurrency(pos.costBasis)}</td>
                        <td style="font-weight: 600; color: ${pnlColor};">${pos.unrealizedPnL >= 0 ? '+' : ''}${formatCurrency(pos.unrealizedPnL)}</td>
                        <td style="color: ${pnlColor};">${pos.pnlPercent >= 0 ? '+' : ''}${pos.pnlPercent.toFixed(2)}%</td>
                        <td style="color: ${change24hColor};">${pos.change24h >= 0 ? '+' : ''}${pos.change24h.toFixed(2)}%</td>
                        <td style="color: ${change7dColor};">${pos.change7d >= 0 ? '+' : ''}${pos.change7d.toFixed(2)}%</td>
                        <td style="color: var(--gray-400);">${pos.targetWeight.toFixed(1)}%</td>
                        <td>
                            <span style="padding: 0.2rem 0.4rem; background-color: ${statusColors[pos.status].bg}; color: ${statusColors[pos.status].text}; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase;">${pos.status}</span>
                        </td>
                    </tr>
                `;
            }).join('');
            
            // Footer with totals
            const totalPnlPercent = (totals.unrealizedPnL / totals.costBasis * 100);
            footer.innerHTML = `
                <tr style="background-color: var(--navy-700); font-weight: 600;">
                    <td colspan="5" style="text-align: right; padding-right: 1rem;">TOTAL</td>
                    <td>${formatCurrency(totals.positionValue)}</td>
                    <td>100.00%</td>
                    <td>${formatCurrency(totals.costBasis)}</td>
                    <td style="color: var(--green-400);">+${formatCurrency(totals.unrealizedPnL)}</td>
                    <td style="color: var(--green-400);">+${totalPnlPercent.toFixed(2)}%</td>
                    <td colspan="4"></td>
                </tr>
            `;
        }
        
        function renderAllocationComparison() {
            const container = document.getElementById('allocation-comparison');
            container.innerHTML = allocationComparison.map(item => {
                const diffColor = item.difference > 0 ? 'var(--red-400)' : item.difference < 0 ? '#3B82F6' : 'var(--gray-400)';
                const actionColor = item.action === 'Reduce' ? 'var(--red-400)' : item.action === 'Increase' ? 'var(--green-400)' : 'var(--gray-400)';
                return `
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                            <span>${item.class}</span>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <span style="color: ${diffColor}; font-size: 0.875rem;">${item.difference >= 0 ? '+' : ''}${item.difference.toFixed(2)}%</span>
                                <span style="color: ${actionColor}; font-size: 0.75rem; font-weight: 500;">${item.action}</span>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem; height: 20px;">
                            <div style="flex: 1; display: flex; align-items: center; position: relative; height: 8px; background-color: var(--navy-600); border-radius: 4px;">
                                <div style="height: 100%; width: ${item.actual}%; background-color: var(--maxam-gold); border-radius: 4px;"></div>
                                <div style="position: absolute; left: ${item.target}%; top: -4px; bottom: -4px; width: 2px; background-color: var(--green-400);" title="Target: ${item.target}%"></div>
                            </div>
                            <span style="font-size: 0.75rem; color: var(--gray-400); min-width: 80px;">${item.actual.toFixed(2)}% / ${item.target}%</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderRebalancingRecommendations() {
            const container = document.getElementById('rebalancing-recommendations');
            const priorityColors = {
                high: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)' },
                medium: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)' },
                low: { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)' }
            };
            container.innerHTML = rebalancingRecommendations.map(rec => {
                const actionColor = rec.action === 'BUY' ? 'var(--green-400)' : 'var(--red-400)';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="padding: 0.25rem 0.5rem; background-color: ${rec.action === 'BUY' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${actionColor}; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">${rec.action}</span>
                            <span style="font-weight: 600;">${rec.symbol}</span>
                            <span style="color: var(--gray-400);">${rec.amount}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 0.75rem; color: var(--gray-500);">${rec.reason}</span>
                            <span style="padding: 0.2rem 0.4rem; background-color: ${priorityColors[rec.priority].bg}; color: ${priorityColors[rec.priority].text}; border-radius: 4px; font-size: 0.65rem; text-transform: uppercase;">${rec.priority}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPnLByClass() {
            const container = document.getElementById('pnl-by-class');
            container.innerHTML = pnlByClass.map(item => {
                const pnlColor = item.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                        <span>${item.class}</span>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="font-weight: 600; color: ${pnlColor};">${item.pnl >= 0 ? '+' : ''}${formatCurrency(item.pnl)}</span>
                            <span style="font-size: 0.75rem; color: ${pnlColor};">(${item.pnlPercent >= 0 ? '+' : ''}${item.pnlPercent.toFixed(2)}%)</span>
                            <span style="font-size: 0.7rem; color: var(--gray-500); min-width: 50px; text-align: right;">${item.contribution >= 0 ? '+' : ''}${item.contribution.toFixed(2)}%</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPerformanceAttribution() {
            const container = document.getElementById('performance-attribution');
            container.innerHTML = performanceAttribution.map(item => {
                const isPositive = item.contribution.startsWith('+');
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                        <div>
                            <div style="font-weight: 500;">${item.factor}</div>
                            <div style="font-size: 0.7rem; color: var(--gray-500);">${item.description}</div>
                        </div>
                        <span style="font-weight: 600; color: ${isPositive ? 'var(--green-400)' : 'var(--red-400)'};">${item.contribution}</span>
                    </div>
                `;
            }).join('');
        }
        
        function renderRecentPositionChanges() {
            const container = document.getElementById('recent-position-changes');
            container.innerHTML = recentPositionChanges.map(change => {
                const actionColor = change.action === 'BUY' ? 'var(--green-400)' : 'var(--red-400)';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="padding: 0.25rem 0.5rem; background-color: ${change.action === 'BUY' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${actionColor}; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">${change.action}</span>
                            <div>
                                <div style="font-weight: 600;">${change.symbol} <span style="color: ${actionColor};">${change.amount}</span></div>
                                <div style="font-size: 0.7rem; color: var(--gray-500);">${change.value} @ ${change.price}</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">${change.time}</div>
                            <div style="font-size: 0.7rem; color: var(--gray-500);">${change.agent}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPositionAlerts() {
            const container = document.getElementById('position-alerts');
            const severityColors = {
                warning: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)', border: 'var(--yellow-400)' },
                info: { bg: 'rgba(59, 130, 246, 0.2)', text: '#3B82F6', border: '#3B82F6' },
                critical: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)', border: 'var(--red-400)' }
            };
            container.innerHTML = positionAlerts.map(alert => `
                <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${severityColors[alert.severity].border};">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                        <span style="font-weight: 600;">${alert.title}</span>
                        <span style="font-size: 0.7rem; color: var(--gray-500);">${alert.time}</span>
                    </div>
                    <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.25rem;">${alert.description}</div>
                    <div style="font-size: 0.75rem; color: var(--maxam-gold);">üí° ${alert.action}</div>
                </div>
            `).join('');
        }
        
        function filterPositions() {
            const filter = document.getElementById('position-view-filter').value;
            // In a real implementation, this would filter the table
            console.log('Filtering positions by:', filter);
            renderPositionsTable();
        }
        
        function sortPositions() {
            const sortBy = document.getElementById('position-sort').value;
            // Sort the positions array based on selection
            switch(sortBy) {
                case 'value-desc':
                    portfolioPositions.sort((a, b) => b.positionValue - a.positionValue);
                    break;
                case 'value-asc':
                    portfolioPositions.sort((a, b) => a.positionValue - b.positionValue);
                    break;
                case 'pnl-desc':
                    portfolioPositions.sort((a, b) => b.unrealizedPnL - a.unrealizedPnL);
                    break;
                case 'pnl-asc':
                    portfolioPositions.sort((a, b) => a.unrealizedPnL - b.unrealizedPnL);
                    break;
                case 'weight-desc':
                    portfolioPositions.sort((a, b) => b.weight - a.weight);
                    break;
                case 'change-desc':
                    portfolioPositions.sort((a, b) => b.change24h - a.change24h);
                    break;
            }
            renderPositionsTable();
        }
        
        function refreshPositions() {
            const btn = event.target;
            btn.textContent = '‚è≥ Updating...';
            
            // Simulate real-time price updates
            portfolioPositions.forEach(pos => {
                const priceChange = (Math.random() - 0.5) * 0.02; // ¬±1% change
                pos.currentPrice = pos.currentPrice * (1 + priceChange);
                pos.positionValue = pos.currentPrice * pos.quantity;
                pos.unrealizedPnL = pos.positionValue - pos.costBasis;
                pos.pnlPercent = (pos.unrealizedPnL / pos.costBasis) * 100;
                pos.change24h = pos.change24h + (Math.random() - 0.5) * 0.5;
            });
            
            // Recalculate weights
            const totalValue = portfolioPositions.reduce((sum, pos) => sum + pos.positionValue, 0);
            portfolioPositions.forEach(pos => {
                pos.weight = (pos.positionValue / totalValue) * 100;
            });
            
            setTimeout(() => {
                btn.textContent = 'üîÑ Refresh';
                document.getElementById('position-last-update').textContent = `Last update: Just now`;
                renderPositionsTable();
                updatePortfolioStats();
            }, 800);
        }
        
        function updatePortfolioStats() {
            const totalValue = portfolioPositions.reduce((sum, pos) => sum + pos.positionValue, 0);
            const totalPnL = portfolioPositions.reduce((sum, pos) => sum + pos.unrealizedPnL, 0);
            
            document.getElementById('total-portfolio-value').textContent = formatCurrency(totalValue);
            document.getElementById('total-unrealized-pnl').textContent = '+' + formatCurrency(totalPnL);
            
            // Find best/worst performers
            const sorted24h = [...portfolioPositions].sort((a, b) => b.change24h - a.change24h);
            document.getElementById('best-performer-24h').textContent = sorted24h[0].symbol;
            document.getElementById('best-performer-24h-change').textContent = '+' + sorted24h[0].change24h.toFixed(2) + '%';
            document.getElementById('worst-performer-24h').textContent = sorted24h[sorted24h.length - 1].symbol;
            document.getElementById('worst-performer-24h-change').textContent = sorted24h[sorted24h.length - 1].change24h.toFixed(2) + '%';
            
            // Largest position
            const sortedByValue = [...portfolioPositions].sort((a, b) => b.positionValue - a.positionValue);
            document.getElementById('largest-position').textContent = sortedByValue[0].symbol;
            document.getElementById('largest-position-weight').textContent = sortedByValue[0].weight.toFixed(1) + '% of portfolio';
            
            // Most profitable
            const sortedByPnL = [...portfolioPositions].sort((a, b) => b.unrealizedPnL - a.unrealizedPnL);
            document.getElementById('most-profitable').textContent = sortedByPnL[0].symbol;
            document.getElementById('most-profitable-pnl').textContent = '+' + formatCurrency(sortedByPnL[0].unrealizedPnL) + ' total';
        }
        
        function exportPositions() {
            alert('Exporting positions to CSV...\n\nIn production, this would download a file with all position data.');
        }
        
        // Start real-time position updates
        function startPositionUpdates() {
            setInterval(() => {
                // Simulate small price movements
                portfolioPositions.forEach(pos => {
                    if (pos.class !== 'Stablecoin') {
                        const priceChange = (Math.random() - 0.5) * 0.005; // ¬±0.25% change
                        pos.currentPrice = pos.currentPrice * (1 + priceChange);
                        pos.positionValue = pos.currentPrice * pos.quantity;
                        pos.unrealizedPnL = pos.positionValue - pos.costBasis;
                        pos.pnlPercent = (pos.unrealizedPnL / pos.costBasis) * 100;
                        pos.change24h = pos.change24h + (Math.random() - 0.5) * 0.1;
                    }
                });
                
                // Recalculate weights
                const totalValue = portfolioPositions.reduce((sum, pos) => sum + pos.positionValue, 0);
                portfolioPositions.forEach(pos => {
                    pos.weight = (pos.positionValue / totalValue) * 100;
                });
                
                renderPositionsTable();
                updatePortfolioStats();
                
                // Update timestamp
                const now = new Date();
                document.getElementById('position-last-update').textContent = `Last update: ${now.toLocaleTimeString()}`;
            }, 3000); // Update every 3 seconds
        }
        
        function renderAssetClassBreakdown() {
            const container = document.getElementById('asset-class-breakdown');
            container.innerHTML = allocationData.map(item => `
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <div style="width: 12px; height: 12px; border-radius: 2px; background-color: ${item.color};"></div>
                        <span>${item.name}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="width: 100px; height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%; background-color: ${item.color}; width: ${item.value}%;"></div>
                        </div>
                        <span style="width: 50px; text-align: right; font-family: monospace;">${item.value}%</span>
                    </div>
                </div>
            `).join('');
        }
        
        function renderPortfolioAllocationDetails() {
            const container = document.getElementById('portfolio-allocation-details');
            const totalValue = 9110000000;
            container.innerHTML = allocationData.map(item => {
                const value = totalValue * (item.value / 100);
                return `
                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--navy-700);">
                        <span style="color: var(--gray-400);">${item.name}</span>
                        <span style="font-family: monospace;">${formatCurrency(value)}</span>
                    </div>
                `;
            }).join('');
        }
        
        // ============================================
        // CHARTS
        // ============================================
        let performanceChart = null;
        let allocationChart = null;
        let projectionsChart = null;
        let roiComparisonChart = null;
        let portfolioAllocationChart = null;
        let investorComparisonChart = null;
        
        function initCharts() {
            // Performance Chart
            const perfData = generatePerformanceData();
            const perfCtx = document.getElementById('performanceChart').getContext('2d');
            performanceChart = new Chart(perfCtx, {
                type: 'line',
                data: {
                    labels: perfData.map(d => d.date),
                    datasets: [{
                        label: 'AUM ($B)',
                        data: perfData.map(d => d.value),
                        borderColor: '#1E40AF',
                        backgroundColor: 'rgba(30, 64, 175, 0.2)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF' } },
                        y: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => '$' + value.toFixed(1) + 'B' } }
                    }
                }
            });
            
            // Allocation Chart
            const allocCtx = document.getElementById('allocationChart').getContext('2d');
            allocationChart = new Chart(allocCtx, {
                type: 'doughnut',
                data: {
                    labels: allocationData.map(d => d.name),
                    datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '65%' }
            });
            
            // Projections Chart
            const projCtx = document.getElementById('projectionsChart').getContext('2d');
            projectionsChart = new Chart(projCtx, {
                type: 'bar',
                data: {
                    labels: tenYearData.map(d => d.year),
                    datasets: [{ label: 'Annual Return (%)', data: tenYearData.map(d => d.return), backgroundColor: '#1E40AF', borderRadius: 4 }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF' } },
                        y: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => value + '%' } }
                    }
                }
            });
            
            // ROI Comparison Chart
            const roiCtx = document.getElementById('roiComparisonChart').getContext('2d');
            roiComparisonChart = new Chart(roiCtx, {
                type: 'bar',
                data: {
                    labels: roiComparison.map(d => d.name),
                    datasets: [{ label: 'Avg Annual ROI (%)', data: roiComparison.map(d => d.roi), backgroundColor: roiComparison.map(d => d.color), borderRadius: 4 }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => value + '%' } },
                        y: { grid: { display: false }, ticks: { color: '#9CA3AF', font: { size: 11 } } }
                    }
                }
            });
            
            // Portfolio Allocation Chart
            const portCtx = document.getElementById('portfolioAllocationChart').getContext('2d');
            portfolioAllocationChart = new Chart(portCtx, {
                type: 'doughnut',
                data: {
                    labels: allocationData.map(d => d.name),
                    datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '60%' }
            });
            
            // Investor Comparison Chart
            const invCtx = document.getElementById('investorComparisonChart').getContext('2d');
            investorComparisonChart = new Chart(invCtx, {
                type: 'bar',
                data: {
                    labels: investorComparisons.map(d => d.name),
                    datasets: [
                        { label: 'YTD Return', data: investorComparisons.map(d => d.ytd), backgroundColor: '#1E40AF', borderRadius: 4 },
                        { label: '1Y Return', data: investorComparisons.map(d => d.y1), backgroundColor: '#D97706', borderRadius: 4 },
                        { label: '3Y CAGR', data: investorComparisons.map(d => d.y3), backgroundColor: '#059669', borderRadius: 4 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'top', labels: { color: '#9CA3AF' } } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', font: { size: 10 } } },
                        y: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => value + '%' } }
                    }
                }
            });
        }
        
        // ============================================
        // NAVIGATION
        // ============================================
        function switchPage(pageName) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.toggle('active', link.dataset.page === pageName);
            });
            document.querySelectorAll('.page').forEach(page => {
                page.classList.toggle('active', page.id === 'page-' + pageName);
            });
            const titles = {
                'dashboard': 'Dashboard',
                'agents': 'AI Agents',
                'trading': 'Trading',
                'risk': 'Risk Management',
                'analytics': 'Analytics',
                'portfolio': 'Portfolio Management',
                'investor': 'Investor Portal',
                'research': 'Research',
                'auditing': 'Auditing',
                'security': 'Security'
            };
            document.getElementById('page-title').textContent = titles[pageName] || pageName;
        }
        
        // ============================================
        // REAL-TIME UPDATES
        // ============================================
        function updateDateTime() {
            document.getElementById('datetime').textContent = new Date().toLocaleString();
        }
        
        function simulateUpdates() {
            if (Math.random() > 0.6) {
                const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD', 'TLT', 'QQQ', 'BNB', 'ADA'];
                trades.unshift({
                    symbol: symbols[Math.floor(Math.random() * symbols.length)],
                    side: Math.random() > 0.4 ? 'BUY' : 'SELL',
                    value: Math.random() * 5000000 + 100000,
                    pnl: (Math.random() - 0.3) * 5,
                    time: new Date().toLocaleTimeString()
                });
                trades = trades.slice(0, 30);
                renderTrades();
            }
            const pnl = 42850000 + (Math.random() - 0.45) * 2000000;
            const pnlPct = pnl / 9110000000 * 100;
            document.getElementById('stat-pnl').textContent = formatCurrency(pnl);
            document.getElementById('stat-pnl-pct').textContent = formatPercent(pnlPct);
            document.getElementById('stat-pnl-pct').className = 'stat-change ' + (pnlPct >= 0 ? 'positive' : 'negative');
        }
        
        // ============================================
        // INITIALIZE
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            trades = generateTrades();
            
            renderAgents();
            renderAgentsFull();
            renderTrades();
            renderAssets();
            renderVenues();
            renderRiskLimits();
            renderPhaseStats();
            renderAllocationLegend();
            renderBenchmarkComparison();
            renderInvestorComparison();
            renderTraderPnL();
            renderQuarterlyReports();
            renderAssetClassBreakdown();
            renderPortfolioAllocationDetails();
            renderAutomatedReports();
            
            // Auditing page
            renderAuditReports();
            renderPositionReconciliation();
            renderCashVerification();
            renderComplianceChecks();
            
            // Security page
            renderThreatFeed();
            renderAnomalyDetection();
            renderDDoSMetrics();
            renderFrontrunAlerts();
            renderWalletTracking();
            renderSecurityNotifications();
            renderSecurityMetrics();
            renderAccessLog();
            
            // Enhanced Risk page
            renderRiskScores();
            renderExposureAnalysis();
            renderCorrelationMatrix();
            renderStressTests();
            renderRiskAlerts();
            startRiskScoreUpdates();
            
            // Portfolio Management page
            renderPositionsTable();
            renderAllocationComparison();
            renderRebalancingRecommendations();
            renderPnLByClass();
            renderPerformanceAttribution();
            renderRecentPositionChanges();
            renderPositionAlerts();
            updatePortfolioStats();
            startPositionUpdates();
            
            initCharts();
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => switchPage(link.dataset.page));
            });
            
            updateDateTime();
            setInterval(updateDateTime, 1000);
            setInterval(simulateUpdates, 2000);
        });
    </script>
</body>
</html>
