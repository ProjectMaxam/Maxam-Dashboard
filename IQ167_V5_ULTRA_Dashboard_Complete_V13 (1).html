<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ-167 V5.0 SECURE | Maxam Capital Dashboard</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <style>
        /* Reset and Base */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --navy-900: #0F172A;
            --navy-800: #1E293B;
            --navy-700: #334155;
            --navy-600: #475569;
            --maxam-blue: #1E40AF;
            --maxam-gold: #D97706;
            --maxam-green: #059669;
            --green-400: #4ADE80;
            --green-500: #22C55E;
            --red-400: #F87171;
            --red-500: #EF4444;
            --yellow-400: #FACC15;
            --purple-400: #C084FC;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--navy-900);
            color: white;
            min-height: 100vh;
        }
        
        /* Layout */
        .app-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 256px;
            background-color: var(--navy-800);
            border-right: 1px solid var(--navy-700);
            padding: 1rem;
            position: fixed;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--maxam-blue), var(--maxam-gold));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 0.875rem;
        }
        
        .logo-subtitle {
            font-size: 0.7rem;
            color: var(--maxam-gold);
        }
        
        /* Navigation */
        .nav-list {
            list-style: none;
            flex: 1;
        }
        
        .nav-section {
            margin-bottom: 1rem;
        }
        
        .nav-section-title {
            font-size: 0.7rem;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.5rem 1rem;
            margin-top: 0.5rem;
        }
        
        .nav-item {
            margin-bottom: 0.25rem;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            color: var(--gray-400);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: none;
            width: 100%;
            font-size: 0.9rem;
        }
        
        .nav-link:hover {
            background-color: var(--navy-700);
            color: white;
        }
        
        .nav-link.active {
            background-color: var(--maxam-blue);
            color: white;
        }
        
        .nav-icon {
            font-size: 1.1rem;
        }
        
        /* System Status */
        .system-status {
            border-top: 1px solid var(--navy-700);
            padding-top: 1rem;
            margin-top: 1rem;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background-color: var(--green-400);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .status-text {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        .latency-text {
            font-size: 0.75rem;
            color: var(--gray-500);
            padding-left: 1rem;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 256px;
            padding: 1.5rem;
        }
        
        /* Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .page-subtitle {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .live-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            background-color: var(--navy-800);
            border-radius: 8px;
        }
        
        .live-dot {
            width: 8px;
            height: 8px;
            background-color: var(--green-400);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .datetime {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        /* Grid Layouts */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .stats-grid-6 {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .agents-trades-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .agents-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
        }
        
        .two-col-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .three-col-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        /* Cards */
        .card {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-700);
            border-radius: 12px;
            padding: 1.25rem;
            transition: border-color 0.2s;
        }
        
        .card:hover {
            border-color: rgba(30, 64, 175, 0.5);
        }
        
        .card-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .card-subtitle {
            font-size: 0.8rem;
            color: var(--gray-500);
            margin-bottom: 0.75rem;
        }
        
        /* Stat Cards */
        .stat-card {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-700);
            border-radius: 12px;
            padding: 1.25rem;
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: var(--gray-400);
        }
        
        .stat-icon {
            font-size: 1.5rem;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        
        .stat-value.small {
            font-size: 1.25rem;
        }
        
        .stat-change {
            font-size: 0.875rem;
        }
        
        .stat-change.positive { color: var(--green-400); }
        .stat-change.negative { color: var(--red-400); }
        .stat-change.neutral { color: var(--gray-400); }
        
        /* Agent Cards */
        .agent-card {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-700);
            border-radius: 8px;
            padding: 1rem;
            transition: border-color 0.2s;
        }
        
        .agent-card:hover {
            border-color: rgba(30, 64, 175, 0.5);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .agent-icon {
            font-size: 1.5rem;
        }
        
        .agent-info {
            flex: 1;
            min-width: 0;
        }
        
        .agent-name {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .agent-category {
            font-size: 0.7rem;
            color: var(--gray-500);
        }
        
        .agent-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--green-400);
            animation: pulse 2s infinite;
        }
        
        .confidence-bar {
            height: 6px;
            background-color: var(--navy-700);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s;
        }
        
        .signal-bullish { color: var(--green-400); }
        .signal-neutral { color: var(--yellow-400); }
        .signal-bearish { color: var(--red-400); }
        
        /* Chart Container */
        .chart-container {
            position: relative;
            height: 250px;
        }
        
        .chart-container.tall {
            height: 350px;
        }
        
        /* Trade List */
        .trade-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .trade-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            transition: background-color 0.2s;
        }
        
        .trade-item:hover {
            background-color: rgba(51, 65, 85, 0.5);
        }
        
        .trade-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .trade-indicator {
            width: 4px;
            height: 32px;
            border-radius: 2px;
        }
        
        .trade-indicator.buy { background-color: var(--green-400); }
        .trade-indicator.sell { background-color: var(--red-400); }
        
        .trade-symbol {
            font-weight: 500;
        }
        
        .trade-time {
            font-size: 0.75rem;
            color: var(--gray-500);
        }
        
        .trade-right {
            text-align: right;
        }
        
        .trade-value {
            font-family: monospace;
        }
        
        .trade-pnl {
            font-size: 0.75rem;
            font-family: monospace;
        }
        
        .trade-pnl.positive { color: var(--green-400); }
        .trade-pnl.negative { color: var(--red-400); }
        
        /* Consensus Section */
        .consensus-section {
            display: flex;
            justify-content: space-between;
            padding-top: 1rem;
            margin-top: 1rem;
            border-top: 1px solid var(--navy-700);
        }
        
        .consensus-item {
            text-align: center;
        }
        
        .consensus-label {
            font-size: 0.875rem;
            color: var(--gray-400);
            margin-bottom: 0.25rem;
        }
        
        .consensus-value {
            font-size: 1.25rem;
            font-weight: 700;
        }
        
        .consensus-value.bullish { color: var(--green-400); }
        .consensus-value.phase { color: var(--purple-400); }
        
        /* Allocation Legend */
        .allocation-legend {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }
        
        .legend-label {
            color: var(--gray-400);
        }
        
        .legend-value {
            margin-left: auto;
        }
        
        /* Assets Table */
        .assets-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .assets-table th {
            text-align: left;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            color: var(--gray-400);
            font-weight: 500;
            border-bottom: 1px solid var(--navy-700);
        }
        
        .assets-table th:nth-child(2),
        .assets-table th:nth-child(3),
        .assets-table th:nth-child(4) {
            text-align: right;
        }
        
        .assets-table td {
            padding: 0.6rem 1rem;
            border-bottom: 1px solid var(--navy-700);
            font-size: 0.9rem;
        }
        
        .assets-table tr:hover {
            background-color: rgba(51, 65, 85, 0.5);
        }
        
        .asset-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .asset-icon {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.75rem;
        }
        
        .asset-name {
            font-weight: 500;
        }
        
        .asset-fullname {
            font-size: 0.7rem;
            color: var(--gray-500);
        }
        
        .price-cell {
            text-align: right;
            font-family: monospace;
        }
        
        .change-cell {
            text-align: right;
            font-family: monospace;
        }
        
        .change-cell.positive { color: var(--green-400); }
        .change-cell.negative { color: var(--red-400); }
        
        .class-cell {
            text-align: right;
        }
        
        .class-badge {
            display: inline-block;
            padding: 0.2rem 0.4rem;
            background-color: var(--navy-700);
            border-radius: 4px;
            font-size: 0.7rem;
            color: var(--gray-400);
        }
        
        .allocation-cell {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .allocation-bar {
            flex: 1;
            height: 8px;
            background-color: var(--navy-700);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .allocation-fill {
            height: 100%;
            background-color: var(--maxam-blue);
            border-radius: 4px;
        }
        
        .allocation-value {
            font-size: 0.875rem;
            color: var(--gray-400);
            width: 40px;
            text-align: right;
        }
        
        /* Controls */
        .control-group {
            margin-bottom: 1.5rem;
        }
        
        .control-label {
            font-size: 0.875rem;
            color: var(--gray-400);
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .control-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--navy-700);
            border: 1px solid var(--navy-600);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
        }
        
        .control-input:focus {
            outline: none;
            border-color: var(--maxam-blue);
        }
        
        .control-select {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--navy-700);
            border: 1px solid var(--navy-600);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            cursor: pointer;
        }
        
        .control-btn {
            padding: 0.75rem 1.5rem;
            background-color: var(--maxam-blue);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .control-btn:hover {
            background-color: #1E3A8A;
        }
        
        .control-btn.secondary {
            background-color: var(--navy-700);
        }
        
        .control-btn.secondary:hover {
            background-color: var(--navy-600);
        }
        
        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--navy-700);
        }
        
        .comparison-table th {
            font-size: 0.875rem;
            color: var(--gray-400);
            font-weight: 500;
        }
        
        .comparison-table td:not(:first-child) {
            text-align: right;
            font-family: monospace;
        }
        
        .comparison-table tr:hover {
            background-color: rgba(51, 65, 85, 0.5);
        }
        
        .highlight-row {
            background-color: rgba(30, 64, 175, 0.2);
        }
        
        .highlight-row td {
            font-weight: 600;
        }
        
        /* Table Wrapper for Mobile Scroll */
        .table-wrapper {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .table-wrapper::-webkit-scrollbar {
            height: 6px;
        }
        
        .table-wrapper::-webkit-scrollbar-track {
            background: var(--navy-800);
        }
        
        .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--navy-600);
            border-radius: 3px;
        }
        
        /* P&L Table */
        .pnl-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--navy-700);
        }
        
        .pnl-item:last-child {
            border-bottom: none;
        }
        
        .pnl-label {
            color: var(--gray-400);
        }
        
        .pnl-value {
            font-weight: 600;
            font-family: monospace;
        }
        
        .pnl-value.positive { color: var(--green-400); }
        .pnl-value.negative { color: var(--red-400); }
        
        /* Quarterly Reports */
        .report-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: var(--navy-700);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }
        
        .report-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .report-icon {
            font-size: 1.25rem;
        }
        
        .report-name {
            font-weight: 500;
        }
        
        .report-date {
            font-size: 0.75rem;
            color: var(--gray-500);
        }
        
        .report-btn {
            padding: 0.4rem 0.75rem;
            background-color: var(--maxam-blue);
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 0.75rem;
            cursor: pointer;
        }
        
        /* Responsive */
        @media (max-width: 1400px) {
            .stats-grid-6 { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .agents-grid { grid-template-columns: repeat(2, 1fr); }
            .stats-grid-6 { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; }
            .stats-grid { grid-template-columns: 1fr; }
            .charts-grid { grid-template-columns: 1fr; }
            .agents-trades-grid { grid-template-columns: 1fr; }
            .agents-grid { grid-template-columns: 1fr; }
            .two-col-grid { grid-template-columns: 1fr; }
            .three-col-grid { grid-template-columns: 1fr; }
        }
        
        /* Hidden */
        .hidden { display: none !important; }
        
        /* Page transitions */
        .page { display: none; }
        .page.active { display: block; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--navy-800); }
        ::-webkit-scrollbar-thumb { background: var(--navy-600); border-radius: 3px; }
        
        /* Gradient Cards */
        .gradient-card {
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(217, 119, 6, 0.2));
            border-color: rgba(30, 64, 175, 0.3);
        }
        
        .gradient-card-green {
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.2), rgba(34, 197, 94, 0.1));
            border-color: rgba(34, 197, 94, 0.3);
        }
        
        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--navy-600);
            transition: 0.3s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
        }
        
        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--green-400);
        }
        
        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }
        
        /* Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal {
            background-color: var(--navy-800);
            border: 1px solid var(--navy-600);
            border-radius: 16px;
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: white;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--gray-400);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.25rem;
            line-height: 1;
        }
        
        .modal-close:hover {
            color: white;
        }
        
        .modal-body {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-group label {
            color: var(--gray-400);
            font-size: 0.875rem;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }
        
        .role-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .role-owner { background-color: rgba(217, 119, 6, 0.2); color: var(--maxam-gold); }
        .role-gp { background-color: rgba(139, 92, 246, 0.2); color: #A78BFA; }
        .role-pm { background-color: rgba(30, 64, 175, 0.2); color: #60A5FA; }
        .role-trader { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .role-analyst { background-color: rgba(6, 182, 212, 0.2); color: #22D3EE; }
        .role-security { background-color: rgba(239, 68, 68, 0.2); color: #F87171; }
        
        .user-status-active { color: var(--green-400); }
        .user-status-suspended { color: var(--red-400); }
        .user-status-pending { color: var(--maxam-gold); }
        
        /* ============================================
           RESPONSIVE DESIGN - MOBILE FIRST
           ============================================ */
        
        /* Mobile Menu Toggle Button */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            background-color: var(--maxam-blue);
            border: none;
            border-radius: 8px;
            padding: 0.75rem;
            cursor: pointer;
            color: white;
            font-size: 1.5rem;
            line-height: 1;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .mobile-menu-toggle:hover {
            background-color: var(--maxam-gold);
        }
        
        /* Sidebar Overlay for Mobile */
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        
        .sidebar-overlay.active {
            display: block;
        }
        
        /* ============================================
           TABLET BREAKPOINT (max-width: 1024px)
           ============================================ */
        @media (max-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .two-col-grid {
                grid-template-columns: 1fr;
            }
            
            .three-col-grid {
                grid-template-columns: 1fr;
            }
            
            .agents-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sidebar {
                width: 220px;
            }
            
            .main-content {
                margin-left: 220px;
            }
            
            .header {
                left: 220px;
            }
            
            .logo-text {
                font-size: 1rem;
            }
            
            .logo-subtitle {
                font-size: 0.65rem;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .stat-value.small {
                font-size: 1.25rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 0.5rem;
                font-size: 0.8rem;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .chart-container.tall {
                height: 300px;
            }
        }
        
        /* ============================================
           MOBILE BREAKPOINT (max-width: 768px)
           ============================================ */
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            
            .sidebar {
                position: fixed;
                left: -280px;
                width: 280px;
                z-index: 1000;
                transition: left 0.3s ease;
            }
            
            .sidebar.open {
                left: 0;
            }
            
            .main-content {
                margin-left: 0;
                padding: 1rem;
                padding-top: 4.5rem;
            }
            
            .header {
                left: 0;
                padding: 0.75rem 1rem;
                padding-left: 4rem;
            }
            
            .header-title {
                font-size: 1.25rem;
            }
            
            .header-right {
                gap: 0.5rem;
            }
            
            .header-stat {
                display: none;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }
            
            .stat-card {
                padding: 0.75rem;
            }
            
            .stat-value {
                font-size: 1.25rem;
            }
            
            .stat-value.small {
                font-size: 1rem;
            }
            
            .stat-label {
                font-size: 0.7rem;
            }
            
            .card {
                padding: 1rem;
            }
            
            .card-title {
                font-size: 0.9rem;
            }
            
            .two-col-grid,
            .three-col-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .agents-grid {
                grid-template-columns: 1fr;
            }
            
            .venues-grid {
                grid-template-columns: 1fr;
            }
            
            /* Override inline grid styles on mobile */
            div[style*="grid-template-columns: repeat(4"] {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            div[style*="grid-template-columns: repeat(3"] {
                grid-template-columns: 1fr !important;
            }
            
            /* Control rows should wrap */
            div[style*="display: flex"][style*="gap"] {
                flex-wrap: wrap !important;
            }
            
            /* Responsive Tables */
            .comparison-table {
                font-size: 0.75rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 0.4rem 0.5rem;
                min-width: 60px;
            }
            
            .comparison-table th:first-child,
            .comparison-table td:first-child {
                position: sticky;
                left: 0;
                background-color: var(--navy-800);
                z-index: 1;
            }
            
            /* Control Elements */
            .control-select,
            .control-input {
                width: 100%;
                font-size: 0.875rem;
            }
            
            .control-btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.8rem;
            }
            
            .control-group {
                margin-bottom: 0.75rem;
            }
            
            /* Charts */
            .chart-container {
                height: 200px;
            }
            
            .chart-container.tall {
                height: 250px;
            }
            
            /* P&L Items */
            .pnl-item {
                padding: 0.4rem 0;
            }
            
            .pnl-value {
                font-size: 0.9rem;
            }
            
            /* Navigation Sections */
            .nav-section-title {
                font-size: 0.65rem;
                padding: 0.75rem 1rem 0.25rem;
            }
            
            .nav-link {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }
            
            /* Agent Cards */
            .agent-card {
                padding: 0.75rem;
            }
            
            .agent-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            /* Venue Cards */
            .venue-card {
                padding: 0.75rem;
            }
            
            /* Hide some columns on mobile for better readability */
            .hide-mobile {
                display: none !important;
            }
            
            /* Flex wrap for button groups */
            div[style*="display: flex"][style*="gap"] {
                flex-wrap: wrap;
            }
            
            /* Report items */
            .report-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            /* Trade items */
            .trade-item {
                padding: 0.5rem 0;
            }
            
            /* Asset table specific */
            #positions-table th,
            #positions-table td {
                min-width: 80px;
            }
        }
        
        /* ============================================
           SMALL MOBILE BREAKPOINT (max-width: 480px)
           ============================================ */
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            /* Override inline 4-column grids to 1 column on very small screens */
            div[style*="grid-template-columns: repeat(4"] {
                grid-template-columns: 1fr !important;
            }
            
            div[style*="grid-template-columns: repeat(2"] {
                grid-template-columns: 1fr !important;
            }
            
            .main-content {
                padding: 0.75rem;
                padding-top: 4rem;
            }
            
            .header {
                padding: 0.5rem 0.75rem;
                padding-left: 3.5rem;
            }
            
            .header-title {
                font-size: 1rem;
            }
            
            .stat-card {
                padding: 0.6rem;
            }
            
            .stat-value {
                font-size: 1.1rem;
            }
            
            .stat-value.small {
                font-size: 0.95rem;
            }
            
            .card {
                padding: 0.75rem;
                border-radius: 8px;
            }
            
            .card-title {
                font-size: 0.85rem;
                margin-bottom: 0.75rem;
            }
            
            .comparison-table {
                font-size: 0.7rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 0.3rem 0.4rem;
            }
            
            .control-btn {
                padding: 0.4rem 0.6rem;
                font-size: 0.75rem;
            }
            
            .control-btn.secondary {
                padding: 0.4rem 0.6rem;
            }
            
            .chart-container {
                height: 180px;
            }
            
            .chart-container.tall {
                height: 220px;
            }
            
            .logo-container {
                padding: 1rem;
            }
            
            .logo-icon {
                width: 36px;
                height: 36px;
                font-size: 1.25rem;
            }
            
            .logo-text {
                font-size: 0.9rem;
            }
            
            /* Stack control rows */
            .control-group {
                margin-bottom: 0.5rem;
            }
            
            /* Reduce spacing */
            .two-col-grid,
            .three-col-grid {
                gap: 0.75rem;
            }
            
            /* Smaller badges */
            .class-badge {
                padding: 0.15rem 0.4rem;
                font-size: 0.6rem;
            }
            
            .status-badge {
                padding: 0.15rem 0.4rem;
                font-size: 0.6rem;
            }
            
            /* Adjust fee summary on mobile */
            .fee-summary .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* ============================================
           LARGE SCREENS (min-width: 1400px)
           ============================================ */
        @media (min-width: 1400px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .agents-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .venues-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .main-content {
                padding: 2rem;
            }
            
            .card {
                padding: 1.75rem;
            }
            
            .chart-container.tall {
                height: 400px;
            }
        }
        
        /* ============================================
           EXTRA LARGE SCREENS (min-width: 1800px)
           ============================================ */
        @media (min-width: 1800px) {
            .sidebar {
                width: 300px;
            }
            
            .main-content {
                margin-left: 300px;
                padding: 2.5rem;
            }
            
            .header {
                left: 300px;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .agents-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        
        /* ============================================
           LANDSCAPE ORIENTATION (Mobile)
           ============================================ */
        @media (max-width: 768px) and (orientation: landscape) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .two-col-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .main-content {
                padding-top: 3.5rem;
            }
            
            .header {
                padding: 0.5rem 1rem;
                padding-left: 3.5rem;
            }
        }
        
        /* ============================================
           PRINT STYLES
           ============================================ */
        @media print {
            .sidebar,
            .mobile-menu-toggle,
            .header {
                display: none !important;
            }
            
            .main-content {
                margin-left: 0;
                padding: 0;
            }
            
            .card {
                break-inside: avoid;
                border: 1px solid #ccc;
            }
            
            body {
                background: white;
                color: black;
            }
        }
        
        /* ============================================
           TOUCH DEVICE OPTIMIZATIONS
           ============================================ */
        @media (hover: none) and (pointer: coarse) {
            .nav-link:hover {
                background-color: transparent;
            }
            
            .nav-link:active {
                background-color: var(--navy-700);
            }
            
            .control-btn:hover {
                transform: none;
            }
            
            .control-btn:active {
                transform: scale(0.98);
            }
            
            /* Larger touch targets */
            .nav-link {
                min-height: 44px;
            }
            
            .control-btn {
                min-height: 44px;
            }
            
            .control-select,
            .control-input {
                min-height: 44px;
            }
        }
    </style>
</head>
<body>
    <!-- Mobile Menu Toggle Button -->
    <button class="mobile-menu-toggle" id="mobile-menu-toggle" onclick="toggleMobileMenu()">
        ‚ò∞
    </button>
    
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeMobileMenu()"></div>
    
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="logo-container">
                <div class="logo-icon">M</div>
                <div>
                    <div class="logo-text">MAXAM CAPITAL</div>
                    <div class="logo-subtitle">IQ-167 V5.0 ULTRA</div>
                </div>
            </div>
            
            <ul class="nav-list">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <li class="nav-item">
                        <button class="nav-link active" data-page="dashboard">
                            <span class="nav-icon">üìä</span>
                            <span>Dashboard</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="agents">
                            <span class="nav-icon">ü§ñ</span>
                            <span>AI Agents (96)</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="agent-monitoring">
                            <span class="nav-icon">üè•</span>
                            <span>Agent Monitoring</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="trading">
                            <span class="nav-icon">üíπ</span>
                            <span>Trading</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="risk">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            <span>Risk</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="analytics">
                            <span class="nav-icon">üìà</span>
                            <span>Analytics</span>
                        </button>
                    </li>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Intelligence</div>
                    <li class="nav-item">
                        <button class="nav-link" data-page="defi-protocols">
                            <span class="nav-icon">üåæ</span>
                            <span>DeFi Protocols</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="advanced-analytics">
                            <span class="nav-icon">üî¨</span>
                            <span>Advanced Analytics</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="operations">
                            <span class="nav-icon">üîß</span>
                            <span>Operations</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="compliance-agents">
                            <span class="nav-icon">‚úÖ</span>
                            <span>Compliance Agents</span>
                        </button>
                    </li>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Management</div>
                    <li class="nav-item">
                        <button class="nav-link" data-page="portfolio">
                            <span class="nav-icon">üíº</span>
                            <span>Portfolio Management</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="investor">
                            <span class="nav-icon">üè¶</span>
                            <span>Investor Portal</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="research">
                            <span class="nav-icon">üî¨</span>
                            <span>Research</span>
                        </button>
                    </li>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Compliance & Security</div>
                    <li class="nav-item">
                        <button class="nav-link" data-page="auditing">
                            <span class="nav-icon">üìã</span>
                            <span>Auditing</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-page="security">
                            <span class="nav-icon">üîê</span>
                            <span>Security</span>
                        </button>
                    </li>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Administration</div>
                    <li class="nav-item">
                        <button class="nav-link" data-page="admin">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            <span>Admin Panel</span>
                        </button>
                    </li>
                </div>
            </ul>
            
            <div class="system-status">
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text">System Online</span>
                </div>
                <div class="latency-text">Latency: 8.2ms</div>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="page-header">
                <div>
                    <h1 class="page-title" id="page-title">Dashboard</h1>
                    <p class="page-subtitle">IQ-167 V5.0 ULTRA ‚Ä¢ Multi-Asset Trading Platform ‚Ä¢ 96 Agents</p>
                </div>
                <div class="header-right">
                    <div class="live-badge">
                        <div class="live-dot"></div>
                        <span class="status-text">Live</span>
                    </div>
                    <div class="datetime" id="datetime"></div>
                </div>
            </header>
            
            <!-- Dashboard Page -->
            <div class="page active" id="page-dashboard">
                <!-- Stats Row -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total AUM</span>
                            <span class="stat-icon">üí∞</span>
                        </div>
                        <div class="stat-value" id="stat-aum">$9.11B</div>
                        <div class="stat-change positive" id="stat-ytd">+82.15% YTD</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Daily P&L</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value" id="stat-pnl">$42.85M</div>
                        <div class="stat-change positive" id="stat-pnl-pct">+0.47%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Win Rate</span>
                            <span class="stat-icon">üéØ</span>
                        </div>
                        <div class="stat-value">77.8%</div>
                        <div class="stat-change neutral">Last 30 days</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Sharpe Ratio</span>
                            <span class="stat-icon">‚ö°</span>
                        </div>
                        <div class="stat-value">2.87</div>
                        <div class="stat-change neutral">Risk-adjusted</div>
                    </div>
                </div>
                
                <!-- Charts Row -->
                <div class="charts-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">Portfolio Performance</h3>
                            <select class="control-select" id="performance-timeframe" onchange="updatePerformanceChart()" style="width: 120px;">
                                <option value="1d">1 Day</option>
                                <option value="7d">7 Days</option>
                                <option value="30d" selected>30 Days</option>
                                <option value="90d">90 Days</option>
                                <option value="1y">1 Year</option>
                                <option value="all">All Time</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Asset Allocation</h3>
                        <div class="chart-container">
                            <canvas id="allocationChart"></canvas>
                        </div>
                        <div class="allocation-legend" id="allocation-legend"></div>
                    </div>
                </div>
                
                <!-- Agents & Trades Row -->
                <div class="agents-trades-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">19-Agent Status</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">All Active</span>
                            </div>
                        </div>
                        <div class="agents-grid" id="agents-grid"></div>
                        <div class="consensus-section">
                            <div class="consensus-item">
                                <div class="consensus-label">Consensus Signal</div>
                                <div class="consensus-value bullish">BULLISH (76)</div>
                            </div>
                            <div class="consensus-item">
                                <div class="consensus-label">Avg Confidence</div>
                                <div class="consensus-value">87.4%</div>
                            </div>
                            <div class="consensus-item">
                                <div class="consensus-label">Market Phase</div>
                                <div class="consensus-value phase">MID-CYCLE</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Recent Trades</h3>
                        <div class="trade-list" id="trade-list"></div>
                    </div>
                </div>
                
                <!-- Assets Table - Expanded to 16+ assets -->
                <div class="card">
                    <h3 class="card-title">Asset Universe (16+ Assets)</h3>
                    <div style="max-height: 500px; overflow-y: auto;">
                        <table class="assets-table">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Price</th>
                                    <th>24h Change</th>
                                    <th>Class</th>
                                    <th>Allocation</th>
                                </tr>
                            </thead>
                            <tbody id="assets-tbody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Fee Summary -->
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Fee Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">8.0%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Management Fee</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">50.0%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Performance Fee</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">$728.8M</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Mgmt Fees YTD</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700;">$1.92B</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Perf Fees YTD</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Agents Page -->
            <div class="page" id="page-agents">
                <!-- Agent Summary Stats -->
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Agents</span><span class="stat-icon">ü§ñ</span></div><div class="stat-value">96</div><div class="stat-change neutral">Complete Architecture</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Active Agents</span><span class="stat-icon">‚úÖ</span></div><div class="stat-value" style="color: var(--green-400);">73</div><div class="stat-change positive">Production Ready</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">In Development</span><span class="stat-icon">üîß</span></div><div class="stat-value" style="color: var(--yellow-400);">23</div><div class="stat-change neutral">Phase 4-5</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Lines of Code</span><span class="stat-icon">üìù</span></div><div class="stat-value">~450K</div><div class="stat-change positive">Enterprise Grade</div></div>
                </div>
                
                <!-- Phase Summary -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìä Agent Architecture by Phase</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem;">
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(139,92,246,0.2), rgba(139,92,246,0.05)); border-radius: 10px; border: 1px solid rgba(139,92,246,0.3); text-align: center;">
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Phase 0</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: #8B5CF6;">7</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Core Intelligence</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(59,130,246,0.2), rgba(59,130,246,0.05)); border-radius: 10px; border: 1px solid rgba(59,130,246,0.3); text-align: center;">
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Phase 1</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: #3B82F6;">44</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Data Intelligence</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(34,197,94,0.2), rgba(34,197,94,0.05)); border-radius: 10px; border: 1px solid rgba(34,197,94,0.3); text-align: center;">
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Phase 2</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: #22C55E;">7</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Execution Suite</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(239,68,68,0.2), rgba(239,68,68,0.05)); border-radius: 10px; border: 1px solid rgba(239,68,68,0.3); text-align: center;">
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Phase 2.5</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: #EF4444;">5</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Risk Enhancement</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(249,115,22,0.2), rgba(249,115,22,0.05)); border-radius: 10px; border: 1px solid rgba(249,115,22,0.3); text-align: center;">
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Phase 3</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: #F97316;">10</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Monitoring Suite</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(107,114,128,0.2), rgba(107,114,128,0.05)); border-radius: 10px; border: 1px solid rgba(107,114,128,0.3); text-align: center;">
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Phase 4-5</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: #6B7280;">23</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">DeFi/Analytics/Ops</div>
                        </div>
                    </div>
                </div>
                
                <!-- All Agents by Phase -->
                <div id="agents-full-list"></div>
            </div>
            
            <!-- Trading Page - Updated with more venues -->
            <div class="page" id="page-trading">
                <h3 style="margin-bottom: 1rem; color: var(--gray-400);">Cryptocurrency Exchanges</h3>
                <div class="stats-grid-6" id="crypto-venues-grid"></div>
                
                <h3 style="margin-bottom: 1rem; color: var(--gray-400);">Traditional & Index Markets</h3>
                <div class="stats-grid-6" id="tradfi-venues-grid"></div>
                
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Live Trade Stream</h3>
                    <div class="trade-list" id="trading-trade-list" style="max-height: 500px;"></div>
                </div>
            </div>
            
            <!-- Risk Page -->
            <div class="page" id="page-risk">
                <!-- Primary Risk Metrics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Portfolio VaR (95%)</span>
                            <span class="stat-icon">üìâ</span>
                        </div>
                        <div class="stat-value">0.9%</div>
                        <div class="stat-change positive">Target &lt;2% ‚úì</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">CVaR (95%)</span>
                            <span class="stat-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="stat-value">1.3%</div>
                        <div class="stat-change positive">Target &lt;3% ‚úì</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Max Drawdown</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">-5.7%</div>
                        <div class="stat-change positive">Limit: -15%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Sharpe Ratio</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value">2.84</div>
                        <div class="stat-change positive">Excellent</div>
                    </div>
                </div>
                
                <!-- Secondary Risk Metrics -->
                <div class="stats-grid" style="margin-top: 1rem;">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Gross Leverage</span>
                            <span class="stat-icon">‚ö°</span>
                        </div>
                        <div class="stat-value">1.8x</div>
                        <div class="stat-change positive">Max: 3.0x</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Net Leverage</span>
                            <span class="stat-icon">‚öñÔ∏è</span>
                        </div>
                        <div class="stat-value">1.4x</div>
                        <div class="stat-change positive">Max: 2.0x</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Beta to BTC</span>
                            <span class="stat-icon">‚Çø</span>
                        </div>
                        <div class="stat-value">0.72</div>
                        <div class="stat-change neutral">Moderate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Beta to SPY</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">0.45</div>
                        <div class="stat-change positive">Low correlation</div>
                    </div>
                </div>
                
                <!-- On-Demand Risk Assessment -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">On-Demand Risk Assessment</h3>
                            <p class="card-subtitle" style="margin-bottom: 0;">Generate comprehensive risk analysis for any asset</p>
                        </div>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <select class="control-select" id="risk-asset-class" onchange="filterRiskAssets()">
                                <option value="all">All Asset Classes</option>
                                <option value="crypto">Cryptocurrencies</option>
                                <option value="stablecoin">Stablecoins</option>
                                <option value="equity">Equities</option>
                                <option value="fixed-income">Fixed Income</option>
                                <option value="commodity">Commodities</option>
                                <option value="reit">REITs</option>
                                <option value="derivative">Derivatives</option>
                            </select>
                            <select class="control-select" id="risk-asset-select" style="width: 180px;">
                                <option value="SOL">SOL - Solana</option>
                                <option value="BTC">BTC - Bitcoin</option>
                                <option value="ETH">ETH - Ethereum</option>
                                <option value="XRP">XRP - Ripple</option>
                                <option value="BNB">BNB - Binance Coin</option>
                                <option value="ADA">ADA - Cardano</option>
                                <option value="XLM">XLM - Stellar</option>
                                <option value="USDT">USDT - Tether</option>
                                <option value="USDC">USDC - USD Coin</option>
                                <option value="SPY">SPY - S&P 500 ETF</option>
                                <option value="QQQ">QQQ - Nasdaq 100</option>
                                <option value="TLT">TLT - Treasury Bonds</option>
                                <option value="GLD">GLD - Gold ETF</option>
                                <option value="SLV">SLV - Silver ETF</option>
                                <option value="USO">USO - Oil ETF</option>
                                <option value="VNQ">VNQ - Real Estate</option>
                                <option value="VIX">VIX - Volatility Index</option>
                            </select>
                            <select class="control-select" id="risk-timeframe">
                                <option value="1d">1 Day</option>
                                <option value="7d" selected>7 Days</option>
                                <option value="30d">30 Days</option>
                                <option value="90d">90 Days</option>
                                <option value="1y">1 Year</option>
                            </select>
                            <button class="control-btn" onclick="generateRiskAssessment()">üéØ Run Risk Assessment</button>
                        </div>
                    </div>
                </div>
                
                <!-- Risk Assessment Results -->
                <div class="card" style="margin-top: 1.5rem;" id="risk-assessment-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Risk Assessment Report</h3>
                        <span style="font-size: 0.875rem; color: var(--gray-400);" id="risk-assessment-timestamp">--</span>
                    </div>
                    <div id="risk-assessment-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üéØ</div>
                            <p>Select an asset and click "Run Risk Assessment" to generate a comprehensive risk report</p>
                        </div>
                    </div>
                </div>
                
                <!-- Real-Time Asset Risk Scores -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üî¥ Real-Time Asset Risk Scores</h3>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">Live Updates</span>
                            </div>
                            <button class="control-btn secondary" onclick="refreshRiskScores()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="risk-scores-table">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Class</th>
                                    <th>Risk Score</th>
                                    <th>VaR (95%)</th>
                                    <th>Volatility (30d)</th>
                                    <th>Liquidity Score</th>
                                    <th>Smart Contract</th>
                                    <th>Correlation</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="risk-scores-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Risk Limits & Exposure Analysis -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">‚ö†Ô∏è Risk Limits Status</h3>
                        <div id="risk-limits"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Exposure by Asset Class</h3>
                        <div id="exposure-analysis"></div>
                    </div>
                </div>
                
                <!-- Correlation Matrix & Stress Testing -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîó Top Correlations</h3>
                        <div id="correlation-matrix"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üí• Stress Test Scenarios</h3>
                        <div id="stress-tests"></div>
                    </div>
                </div>
                
                <!-- Risk Alerts -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üö® Active Risk Alerts</h3>
                        <span style="padding: 0.25rem 0.75rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.875rem;">3 Active</span>
                    </div>
                    <div id="risk-alerts"></div>
                </div>
            </div>
            
            <!-- Analytics Page - Updated with ROI comparison -->
            <div class="page" id="page-analytics">
                <div class="two-col-grid">
                    <div class="card">
                        <h3 class="card-title">10-Year Performance Projections</h3>
                        <div class="chart-container tall">
                            <canvas id="projectionsChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Average Annualized ROI Comparison</h3>
                        <div class="chart-container tall">
                            <canvas id="roiComparisonChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="stats-grid" style="margin-top: 1.5rem;" id="phase-stats"></div>
                
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Performance vs Major Benchmarks</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Investment Vehicle</th>
                                <th>1Y Return</th>
                                <th>3Y CAGR</th>
                                <th>5Y CAGR</th>
                                <th>10Y CAGR</th>
                                <th>Sharpe</th>
                                <th>Max DD</th>
                            </tr>
                        </thead>
                        <tbody id="benchmark-comparison"></tbody>
                    </table>
                </div>
                
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">10-Year Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--maxam-gold);">$42.18B</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Final AUM</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">13.6x</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Multiple</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">162.8%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">CAGR</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">76.2%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Win Rate</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">2.87</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Sharpe Ratio</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700;">-5.7%</div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">Max Drawdown</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Portfolio Management Page - NEW -->
            <div class="page" id="page-portfolio">
                <!-- Portfolio Summary Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Portfolio Value</span>
                            <span class="stat-icon">üí∞</span>
                        </div>
                        <div class="stat-value" id="total-portfolio-value">$9.11B</div>
                        <div class="stat-change positive" id="portfolio-daily-change">+$38.4M (+0.42%) today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Positions</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">17</div>
                        <div class="stat-change neutral">Active assets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Unrealized P&L</span>
                            <span class="stat-icon">üìà</span>
                        </div>
                        <div class="stat-value positive" id="total-unrealized-pnl">+$6.63B</div>
                        <div class="stat-change positive">+267.3% total return</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Realized P&L (YTD)</span>
                            <span class="stat-icon">‚úÖ</span>
                        </div>
                        <div class="stat-value positive">+$1.24B</div>
                        <div class="stat-change positive">Closed positions</div>
                    </div>
                </div>
                
                <!-- Portfolio Allocation Charts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìä Portfolio Allocation</h3>
                        <div class="chart-container">
                            <canvas id="portfolioAllocationChart"></canvas>
                        </div>
                        <div id="portfolio-allocation-details" style="margin-top: 1rem;"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìà Asset Class Breakdown</h3>
                        <div id="asset-class-breakdown"></div>
                    </div>
                </div>
                
                <!-- Real-Time Position Updates Indicator -->
                <div class="card" style="margin-top: 1.5rem; padding: 0.75rem 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-weight: 600;">Live Position Updates</span>
                            </div>
                            <span style="color: var(--gray-400); font-size: 0.875rem;" id="position-last-update">Last update: Just now</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <select class="control-select" id="position-view-filter" onchange="filterPositions()" style="width: 150px;">
                                <option value="all">All Positions</option>
                                <option value="crypto">Crypto Only</option>
                                <option value="tradfi">TradFi Only</option>
                                <option value="profitable">Profitable</option>
                                <option value="losing">Losing</option>
                            </select>
                            <select class="control-select" id="position-sort" onchange="sortPositions()" style="width: 150px;">
                                <option value="value-desc">Value (High to Low)</option>
                                <option value="value-asc">Value (Low to High)</option>
                                <option value="pnl-desc">P&L (High to Low)</option>
                                <option value="pnl-asc">P&L (Low to High)</option>
                                <option value="weight-desc">Weight (High to Low)</option>
                                <option value="change-desc">24h Change (Best)</option>
                            </select>
                            <button class="control-btn" onclick="refreshPositions()">üîÑ Refresh</button>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Positions Table -->
                <div class="card" style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã All Positions - Detailed View</h3>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <button class="control-btn secondary" onclick="exportPositions()">üì• Export CSV</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="positions-table">
                            <thead>
                                <tr>
                                    <th style="min-width: 120px;">Asset</th>
                                    <th>Class</th>
                                    <th style="min-width: 100px;">Current Price</th>
                                    <th style="min-width: 100px;">Avg Entry</th>
                                    <th style="min-width: 100px;">Quantity</th>
                                    <th style="min-width: 120px;">Position Value</th>
                                    <th style="min-width: 80px;">Weight</th>
                                    <th style="min-width: 100px;">Cost Basis</th>
                                    <th style="min-width: 120px;">Unrealized P&L</th>
                                    <th style="min-width: 80px;">P&L %</th>
                                    <th style="min-width: 100px;">24h Change</th>
                                    <th style="min-width: 100px;">7d Change</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="positions-table-body"></tbody>
                            <tfoot id="positions-table-footer"></tfoot>
                        </table>
                    </div>
                </div>
                
                <!-- Position Performance Cards -->
                <div class="stats-grid" style="margin-top: 1.5rem; grid-template-columns: repeat(4, 1fr);">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);">
                        <div class="stat-header">
                            <span class="stat-label">Best Performer (24h)</span>
                            <span class="stat-icon">üèÜ</span>
                        </div>
                        <div class="stat-value small" id="best-performer-24h">SOL</div>
                        <div class="stat-change positive" id="best-performer-24h-change">+4.82%</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--red-400);">
                        <div class="stat-header">
                            <span class="stat-label">Worst Performer (24h)</span>
                            <span class="stat-icon">üìâ</span>
                        </div>
                        <div class="stat-value small" id="worst-performer-24h">USO</div>
                        <div class="stat-change negative" id="worst-performer-24h-change">-2.15%</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-gold);">
                        <div class="stat-header">
                            <span class="stat-label">Largest Position</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value small" id="largest-position">SOL</div>
                        <div class="stat-change neutral" id="largest-position-weight">36.8% of portfolio</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-blue);">
                        <div class="stat-header">
                            <span class="stat-label">Most Profitable</span>
                            <span class="stat-icon">üíé</span>
                        </div>
                        <div class="stat-value small" id="most-profitable">SOL</div>
                        <div class="stat-change positive" id="most-profitable-pnl">+$2.48B total</div>
                    </div>
                </div>
                
                <!-- Portfolio Allocation & Rebalancing -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üéØ Target vs Actual Allocation</h3>
                        <div id="allocation-comparison"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">‚öñÔ∏è Rebalancing Recommendations</h3>
                        <div id="rebalancing-recommendations"></div>
                    </div>
                </div>
                
                <!-- P&L by Asset Class & Time Period -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìä P&L by Asset Class</h3>
                        <div id="pnl-by-class"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìà Performance Attribution</h3>
                        <div id="performance-attribution"></div>
                    </div>
                </div>
                
                <!-- Agent Parameter Controls -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">‚öôÔ∏è Portfolio Management Controls</h3>
                    <div class="three-col-grid" style="margin-bottom: 0;">
                        <div>
                            <div class="control-group">
                                <label class="control-label">Maximum Value Per Trade</label>
                                <input type="text" class="control-input" id="max-trade-value" value="$5,000,000">
                            </div>
                            <div class="control-group">
                                <label class="control-label">Maximum Single Position (%)</label>
                                <input type="text" class="control-input" id="max-position" value="15%">
                            </div>
                        </div>
                        <div>
                            <div class="control-group">
                                <label class="control-label">Daily Loss Limit</label>
                                <input type="text" class="control-input" id="daily-loss-limit" value="$25,000,000">
                            </div>
                            <div class="control-group">
                                <label class="control-label">Stop Loss Threshold (%)</label>
                                <input type="text" class="control-input" id="stop-loss-threshold" value="8%">
                            </div>
                        </div>
                        <div>
                            <div class="control-group">
                                <label class="control-label">Rebalancing Threshold (%)</label>
                                <input type="text" class="control-input" id="rebalance-threshold" value="3%">
                            </div>
                            <div class="control-group">
                                <label class="control-label">Auto-Rebalancing</label>
                                <select class="control-select" id="auto-rebalance">
                                    <option value="enabled">Enabled</option>
                                    <option value="disabled">Disabled</option>
                                    <option value="manual-approval">Manual Approval Required</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                        <button class="control-btn">üíæ Save Parameters</button>
                        <button class="control-btn secondary">‚Ü©Ô∏è Reset to Default</button>
                        <button class="control-btn secondary">üìä View Audit Log</button>
                    </div>
                </div>
                
                <!-- Recent Trades & Position Alerts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üîÑ Recent Position Changes</h3>
                            <button class="control-btn secondary" style="padding: 0.25rem 0.75rem; font-size: 0.75rem;">View All</button>
                        </div>
                        <div id="recent-position-changes" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üö® Position Alerts</h3>
                            <span style="padding: 0.25rem 0.5rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;" id="position-alert-count">4 Active</span>
                        </div>
                        <div id="position-alerts" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                </div>
                
                <!-- Portfolio P&L Summary -->
                <div class="three-col-grid" style="margin-top: 1.5rem;">
                    <div class="card gradient-card-green">
                        <h3 class="card-title">üìà Agent Portfolio P&L</h3>
                        <div class="pnl-item">
                            <span class="pnl-label">Today</span>
                            <span class="pnl-value positive">+$38,425,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Week</span>
                            <span class="pnl-value positive">+$142,850,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Month</span>
                            <span class="pnl-value positive">+$485,200,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">YTD</span>
                            <span class="pnl-value positive">+$3,842,500,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">All Time</span>
                            <span class="pnl-value positive">+$7,485,000,000</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìä Human Portfolio P&L</h3>
                        <div class="pnl-item">
                            <span class="pnl-label">Today</span>
                            <span class="pnl-value positive">+$4,425,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Week</span>
                            <span class="pnl-value negative">-$2,150,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">This Month</span>
                            <span class="pnl-value positive">+$18,420,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">YTD</span>
                            <span class="pnl-value positive">+$245,800,000</span>
                        </div>
                        <div class="pnl-item">
                            <span class="pnl-label">All Time</span>
                            <span class="pnl-value positive">+$485,200,000</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üë§ Individual Trader P&L</h3>
                        <div id="trader-pnl-list"></div>
                    </div>
                </div>
                
                <!-- ==================== ADVANCED PORTFOLIO MANAGEMENT ==================== -->
                <div class="card" style="margin-top: 1.5rem; background: linear-gradient(135deg, var(--navy-800), rgba(30,64,175,0.1)); border: 1px solid rgba(30,64,175,0.3);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">‚öôÔ∏è Advanced Portfolio Management</h3>
                            <p style="font-size: 0.85rem; color: var(--gray-400); margin: 0;">Configure capital allocation and parameters for AI Agents and Human Executing Traders</p>
                        </div>
                        <div style="display: flex; gap: 0.75rem;">
                            <button class="control-btn secondary" onclick="resetAllAllocations()">üîÑ Reset to Defaults</button>
                            <button class="control-btn" onclick="saveAllAllocations()">üíæ Save Configuration</button>
                        </div>
                    </div>
                    
                    <!-- Capital Split Overview -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="padding: 1.25rem; background: var(--navy-700); border-radius: 10px; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Total AUM</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: white;">$9.11B</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Available for allocation</div>
                        </div>
                        <div style="padding: 1.25rem; background: linear-gradient(135deg, rgba(139,92,246,0.2), rgba(139,92,246,0.05)); border-radius: 10px; border: 1px solid rgba(139,92,246,0.3); text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">AI Agent Allocation</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: #8B5CF6;" id="agent-alloc-display">$7.29B</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);"><span id="agent-alloc-pct">80</span>% of AUM</div>
                        </div>
                        <div style="padding: 1.25rem; background: linear-gradient(135deg, rgba(34,197,94,0.2), rgba(34,197,94,0.05)); border-radius: 10px; border: 1px solid rgba(34,197,94,0.3); text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Human Trader Allocation</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: #22C55E;" id="human-alloc-display">$1.82B</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);"><span id="human-alloc-pct">20</span>% of AUM</div>
                        </div>
                    </div>
                    
                    <!-- Master Allocation Slider -->
                    <div style="padding: 1.25rem; background: var(--navy-700); border-radius: 10px; margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                            <span style="font-weight: 600;">Capital Split: AI Agents vs Human Traders</span>
                            <span style="font-size: 0.85rem; color: var(--gray-400);">Drag slider to adjust</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 0.85rem; color: #8B5CF6; min-width: 80px;">ü§ñ Agents</span>
                            <input type="range" min="0" max="100" value="80" id="master-allocation-slider" 
                                   style="flex: 1; height: 8px; -webkit-appearance: none; background: linear-gradient(to right, #8B5CF6 80%, #22C55E 80%); border-radius: 4px; cursor: pointer;"
                                   oninput="updateMasterAllocation(this.value)">
                            <span style="font-size: 0.85rem; color: #22C55E; min-width: 80px; text-align: right;">Humans üë§</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                            <span style="font-size: 0.8rem; color: var(--gray-500);" id="agent-slider-label">80%</span>
                            <span style="font-size: 0.8rem; color: var(--gray-500);" id="human-slider-label">20%</span>
                        </div>
                    </div>
                </div>
                
                <!-- AI Agent System Configuration -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">ü§ñ AI Agent System Configuration</h3>
                        <span style="padding: 0.25rem 0.75rem; background: rgba(139,92,246,0.2); color: #8B5CF6; border-radius: 20px; font-size: 0.8rem;">96 Agents Active</span>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem;">
                        <!-- Agent Capital Allocation -->
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                            <div style="font-weight: 600; margin-bottom: 0.75rem;">üí∞ Capital Allocation</div>
                            <div style="margin-bottom: 0.75rem;">
                                <label style="font-size: 0.8rem; color: var(--gray-400);">Total Agent Capital ($B)</label>
                                <input type="number" class="control-input" id="agent-capital-input" value="7.29" step="0.01" min="0" max="9.11" style="width: 100%; margin-top: 0.25rem;" onchange="updateAgentCapital()">
                            </div>
                            <div style="font-size: 0.8rem; color: var(--gray-500);">Distributed across 73 active agents based on performance</div>
                        </div>
                        
                        <!-- Agent Risk Parameters -->
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                            <div style="font-weight: 600; margin-bottom: 0.75rem;">üõ°Ô∏è Risk Parameters</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                                <div>
                                    <label style="font-size: 0.75rem; color: var(--gray-400);">Max Position Size</label>
                                    <select class="control-select" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                        <option value="5">5% of capital</option>
                                        <option value="10" selected>10% of capital</option>
                                        <option value="15">15% of capital</option>
                                        <option value="20">20% of capital</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="font-size: 0.75rem; color: var(--gray-400);">Max Drawdown</label>
                                    <select class="control-select" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                        <option value="5">5%</option>
                                        <option value="10" selected>10%</option>
                                        <option value="15">15%</option>
                                        <option value="20">20%</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Agent Trading Limits -->
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                            <div style="font-weight: 600; margin-bottom: 0.75rem;">‚ö° Trading Limits</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                                <div>
                                    <label style="font-size: 0.75rem; color: var(--gray-400);">Daily Trade Limit</label>
                                    <select class="control-select" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                        <option value="500">500 trades</option>
                                        <option value="1000" selected>1,000 trades</option>
                                        <option value="2500">2,500 trades</option>
                                        <option value="unlimited">Unlimited</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="font-size: 0.75rem; color: var(--gray-400);">Max Leverage</label>
                                    <select class="control-select" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                        <option value="1">1x (No leverage)</option>
                                        <option value="2">2x</option>
                                        <option value="3" selected>3x</option>
                                        <option value="5">5x</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Agent Strategy Mode -->
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                            <div style="font-weight: 600; margin-bottom: 0.75rem;">üéØ Strategy Mode</div>
                            <div style="margin-bottom: 0.5rem;">
                                <label style="font-size: 0.75rem; color: var(--gray-400);">Primary Strategy</label>
                                <select class="control-select" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                    <option value="balanced" selected>Balanced Alpha</option>
                                    <option value="aggressive">Aggressive Growth</option>
                                    <option value="conservative">Conservative Yield</option>
                                    <option value="momentum">Momentum Trading</option>
                                    <option value="arbitrage">Cross-Market Arbitrage</option>
                                </select>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem;">
                                <input type="checkbox" id="agent-auto-rebalance" checked style="cursor: pointer;">
                                <label for="agent-auto-rebalance" style="font-size: 0.8rem; color: var(--gray-400); cursor: pointer;">Enable auto-rebalancing</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Human Executing Traders Configuration -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üë§ Human Executing Traders Configuration</h3>
                        <div style="display: flex; gap: 0.75rem; align-items: center;">
                            <span style="padding: 0.25rem 0.75rem; background: rgba(34,197,94,0.2); color: #22C55E; border-radius: 20px; font-size: 0.8rem;">8 Active Traders</span>
                            <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="addNewTrader()">+ Add Trader</button>
                        </div>
                    </div>
                    
                    <!-- Trader Selection Dropdown -->
                    <div style="padding: 1.25rem; background: linear-gradient(135deg, rgba(34,197,94,0.1), rgba(34,197,94,0.02)); border-radius: 10px; border: 1px solid rgba(34,197,94,0.2); margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                            <div style="flex: 1; min-width: 250px;">
                                <label style="font-size: 0.85rem; color: var(--gray-400); display: block; margin-bottom: 0.5rem;">Select Executing Trader to Configure</label>
                                <select class="control-select" id="trader-select" onchange="loadTraderConfig(this.value)" style="width: 100%; padding: 0.75rem; font-size: 1rem;">
                                    <option value="">-- Select a Trader --</option>
                                    <option value="trader-1">Marcus Chen - Senior Crypto Trader</option>
                                    <option value="trader-2">Sarah Williams - DeFi Specialist</option>
                                    <option value="trader-3">James Rodriguez - Derivatives Trader</option>
                                    <option value="trader-4">Emily Park - Quantitative Analyst</option>
                                    <option value="trader-5">Michael Thompson - TradFi Specialist</option>
                                    <option value="trader-6">Lisa Chang - Risk Manager</option>
                                    <option value="trader-7">David Kim - Arbitrage Specialist</option>
                                    <option value="trader-8">Rachel Foster - Junior Trader</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="control-btn secondary" onclick="viewTraderHistory()" style="padding: 0.6rem 1rem;">üìä View History</button>
                                <button class="control-btn" onclick="applyTraderConfig()" style="padding: 0.6rem 1rem;">‚úì Apply Changes</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Individual Trader Configuration Panel -->
                    <div id="trader-config-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem;">
                            <!-- Trader Capital Allocation -->
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-weight: 600;">üí∞ Capital Allocation</span>
                                    <span id="trader-name-badge" style="padding: 0.2rem 0.5rem; background: rgba(34,197,94,0.2); color: #22C55E; border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="margin-bottom: 0.75rem;">
                                    <label style="font-size: 0.8rem; color: var(--gray-400);">Allocated Capital ($M)</label>
                                    <input type="number" class="control-input" id="trader-capital" value="225" step="1" min="0" max="1000" style="width: 100%; margin-top: 0.25rem;">
                                </div>
                                <div style="margin-bottom: 0.5rem;">
                                    <label style="font-size: 0.8rem; color: var(--gray-400);">% of Human Pool</label>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.25rem;">
                                        <input type="range" min="0" max="50" value="12.5" id="trader-pool-pct" style="flex: 1;" oninput="updateTraderPoolPct()">
                                        <span id="trader-pool-pct-display" style="min-width: 45px; text-align: right;">12.5%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Trader Risk Parameters -->
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">üõ°Ô∏è Risk Parameters</div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                                    <div>
                                        <label style="font-size: 0.75rem; color: var(--gray-400);">Max Position Size</label>
                                        <select class="control-select" id="trader-max-position" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                            <option value="2">2% of capital</option>
                                            <option value="5" selected>5% of capital</option>
                                            <option value="10">10% of capital</option>
                                            <option value="15">15% of capital</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label style="font-size: 0.75rem; color: var(--gray-400);">Daily Loss Limit</label>
                                        <select class="control-select" id="trader-daily-loss" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                            <option value="1">1% ($2.25M)</option>
                                            <option value="2" selected>2% ($4.5M)</option>
                                            <option value="3">3% ($6.75M)</option>
                                            <option value="5">5% ($11.25M)</option>
                                        </select>
                                    </div>
                                </div>
                                <div style="margin-top: 0.5rem;">
                                    <label style="font-size: 0.75rem; color: var(--gray-400);">Stop Loss Threshold</label>
                                    <select class="control-select" id="trader-stop-loss" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                        <option value="5">5% drawdown</option>
                                        <option value="10" selected>10% drawdown</option>
                                        <option value="15">15% drawdown</option>
                                        <option value="20">20% drawdown</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Trader Trading Limits -->
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">‚ö° Trading Limits</div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                                    <div>
                                        <label style="font-size: 0.75rem; color: var(--gray-400);">Daily Trade Limit</label>
                                        <select class="control-select" id="trader-daily-trades" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                            <option value="25">25 trades</option>
                                            <option value="50" selected>50 trades</option>
                                            <option value="100">100 trades</option>
                                            <option value="unlimited">Unlimited</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label style="font-size: 0.75rem; color: var(--gray-400);">Max Leverage</label>
                                        <select class="control-select" id="trader-max-leverage" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                            <option value="1">1x (No leverage)</option>
                                            <option value="2" selected>2x</option>
                                            <option value="3">3x</option>
                                            <option value="5">5x</option>
                                        </select>
                                    </div>
                                </div>
                                <div style="margin-top: 0.5rem;">
                                    <label style="font-size: 0.75rem; color: var(--gray-400);">Max Open Positions</label>
                                    <select class="control-select" id="trader-max-positions" style="width: 100%; margin-top: 0.25rem; font-size: 0.85rem;">
                                        <option value="5">5 positions</option>
                                        <option value="10" selected>10 positions</option>
                                        <option value="20">20 positions</option>
                                        <option value="unlimited">Unlimited</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Trader Asset Permissions -->
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">üìã Asset Permissions</div>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                        <input type="checkbox" id="perm-crypto" checked style="cursor: pointer;">
                                        <span style="font-size: 0.85rem;">Cryptocurrencies (SOL, BTC, ETH...)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                        <input type="checkbox" id="perm-defi" checked style="cursor: pointer;">
                                        <span style="font-size: 0.85rem;">DeFi Protocols & LP Positions</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                        <input type="checkbox" id="perm-tradfi" checked style="cursor: pointer;">
                                        <span style="font-size: 0.85rem;">TradFi (SPY, QQQ, GLD...)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                        <input type="checkbox" id="perm-derivatives" style="cursor: pointer;">
                                        <span style="font-size: 0.85rem;">Derivatives & Options</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Trader Performance Summary -->
                        <div style="margin-top: 1rem; padding: 1rem; background: var(--navy-700); border-radius: 10px;">
                            <div style="font-weight: 600; margin-bottom: 0.75rem;">üìà Performance Summary (Last 30 Days)</div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                <div style="text-align: center;">
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Total P&L</div>
                                    <div style="font-size: 1.25rem; font-weight: 700; color: var(--green-400);" id="trader-pnl-display">+$4.2M</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Win Rate</div>
                                    <div style="font-size: 1.25rem; font-weight: 700;" id="trader-winrate-display">68%</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Trades</div>
                                    <div style="font-size: 1.25rem; font-weight: 700;" id="trader-trades-display">142</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Sharpe Ratio</div>
                                    <div style="font-size: 1.25rem; font-weight: 700;" id="trader-sharpe-display">1.85</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Max Drawdown</div>
                                    <div style="font-size: 1.25rem; font-weight: 700; color: var(--red-400);" id="trader-dd-display">-3.2%</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Capital Used</div>
                                    <div style="font-size: 1.25rem; font-weight: 700;" id="trader-capital-used-display">78%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- All Traders Overview Table -->
                    <div style="margin-top: 1rem;">
                        <div style="font-weight: 600; margin-bottom: 0.75rem;">üìã All Executing Traders Overview</div>
                        <div style="overflow-x: auto;">
                            <table class="comparison-table" id="traders-overview-table">
                                <thead>
                                    <tr>
                                        <th>Trader</th>
                                        <th>Role</th>
                                        <th>Capital</th>
                                        <th>% Pool</th>
                                        <th>30d P&L</th>
                                        <th>Win Rate</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="traders-overview-body">
                                    <tr>
                                        <td><strong>Marcus Chen</strong></td>
                                        <td>Senior Crypto Trader</td>
                                        <td>$280M</td>
                                        <td>15.4%</td>
                                        <td style="color: var(--green-400);">+$8.4M</td>
                                        <td>72%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-1')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Sarah Williams</strong></td>
                                        <td>DeFi Specialist</td>
                                        <td>$245M</td>
                                        <td>13.5%</td>
                                        <td style="color: var(--green-400);">+$6.2M</td>
                                        <td>68%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-2')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>James Rodriguez</strong></td>
                                        <td>Derivatives Trader</td>
                                        <td>$310M</td>
                                        <td>17.0%</td>
                                        <td style="color: var(--green-400);">+$12.8M</td>
                                        <td>64%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-3')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Emily Park</strong></td>
                                        <td>Quantitative Analyst</td>
                                        <td>$225M</td>
                                        <td>12.4%</td>
                                        <td style="color: var(--green-400);">+$4.2M</td>
                                        <td>71%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-4')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Michael Thompson</strong></td>
                                        <td>TradFi Specialist</td>
                                        <td>$260M</td>
                                        <td>14.3%</td>
                                        <td style="color: var(--green-400);">+$5.8M</td>
                                        <td>69%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-5')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Lisa Chang</strong></td>
                                        <td>Risk Manager</td>
                                        <td>$180M</td>
                                        <td>9.9%</td>
                                        <td style="color: var(--green-400);">+$2.1M</td>
                                        <td>75%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-6')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>David Kim</strong></td>
                                        <td>Arbitrage Specialist</td>
                                        <td>$220M</td>
                                        <td>12.1%</td>
                                        <td style="color: var(--green-400);">+$9.5M</td>
                                        <td>78%</td>
                                        <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-7')">Configure</button></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Rachel Foster</strong></td>
                                        <td>Junior Trader</td>
                                        <td>$100M</td>
                                        <td>5.5%</td>
                                        <td style="color: var(--red-400);">-$0.8M</td>
                                        <td>52%</td>
                                        <td><span style="color: var(--yellow-400);">‚óè Review</span></td>
                                        <td><button class="control-btn secondary" style="padding: 0.2rem 0.5rem; font-size: 0.75rem;" onclick="selectTrader('trader-8')">Configure</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Investor Portal Page - NEW -->
            <div class="page" id="page-investor">
                <!-- Key Metrics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Capital Injected</span>
                            <span class="stat-icon">üíµ</span>
                        </div>
                        <div class="stat-value">$3.11B</div>
                        <div class="stat-change neutral">Seed + Series A/B/C</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Current NAV</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value">$9.11B</div>
                        <div class="stat-change positive">+192.9% Total Return</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Cost Basis</span>
                            <span class="stat-icon">üìã</span>
                        </div>
                        <div class="stat-value">$2.48B</div>
                        <div class="stat-change neutral">Weighted Average</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Unrealized Gain</span>
                            <span class="stat-icon">üíé</span>
                        </div>
                        <div class="stat-value positive">$6.63B</div>
                        <div class="stat-change positive">+267.3%</div>
                    </div>
                </div>
                
                <!-- Capital Injection History -->
                <div class="two-col-grid">
                    <div class="card">
                        <h3 class="card-title">Capital Injection History</h3>
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Round</th>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Price/Unit</th>
                                    <th>Current Value</th>
                                    <th>Return</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Seed</td>
                                    <td>Jan 2026</td>
                                    <td>$10M</td>
                                    <td>$1.00</td>
                                    <td>$218.5M</td>
                                    <td style="color: var(--green-400);">+2,085%</td>
                                </tr>
                                <tr>
                                    <td>Series A</td>
                                    <td>Dec 2026</td>
                                    <td>$100M</td>
                                    <td>$8.26</td>
                                    <td>$692.4M</td>
                                    <td style="color: var(--green-400);">+592%</td>
                                </tr>
                                <tr>
                                    <td>Series B</td>
                                    <td>Dec 2028</td>
                                    <td>$1.0B</td>
                                    <td>$12.85</td>
                                    <td>$5.54B</td>
                                    <td style="color: var(--green-400);">+454%</td>
                                </tr>
                                <tr>
                                    <td>Series C</td>
                                    <td>Dec 2029</td>
                                    <td>$2.0B</td>
                                    <td>$18.42</td>
                                    <td>$2.65B</td>
                                    <td style="color: var(--green-400);">+32.5%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">Quarterly Reports</h3>
                        <div id="quarterly-reports"></div>
                    </div>
                </div>
                
                <!-- Performance Comparison -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Performance vs Alternative Investments</h3>
                    <div class="chart-container tall">
                        <canvas id="investorComparisonChart"></canvas>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Detailed Comparison Table</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Investment</th>
                                <th>YTD</th>
                                <th>1Y Return</th>
                                <th>3Y CAGR</th>
                                <th>Volatility</th>
                                <th>Sharpe</th>
                                <th>Max DD</th>
                            </tr>
                        </thead>
                        <tbody id="investor-comparison-table"></tbody>
                    </table>
                </div>
                
            </div>
            
            <!-- Research Page - NEW -->
            <div class="page" id="page-research">
                <!-- Manual Asset Research Section -->
                <div class="card">
                    <h3 class="card-title">üî¨ AI-Powered Asset Research</h3>
                    <p class="card-subtitle">Select any asset to receive a comprehensive AI agent analysis report with trade recommendations</p>
                    
                    <div class="two-col-grid" style="margin-top: 1rem; margin-bottom: 0;">
                        <div>
                            <div class="control-group">
                                <label class="control-label">Select Asset</label>
                                <select class="control-select" id="research-asset-select">
                                    <optgroup label="Cryptocurrencies">
                                        <option value="SOL">SOL - Solana</option>
                                        <option value="BTC">BTC - Bitcoin</option>
                                        <option value="ETH">ETH - Ethereum</option>
                                        <option value="XRP">XRP - XRP Ledger</option>
                                        <option value="BNB">BNB - BNB Chain</option>
                                        <option value="ADA">ADA - Cardano</option>
                                        <option value="XLM">XLM - Stellar</option>
                                    </optgroup>
                                    <optgroup label="Stablecoins">
                                        <option value="USDT">USDT - Tether</option>
                                        <option value="USDC">USDC - USD Coin</option>
                                    </optgroup>
                                    <optgroup label="Equities">
                                        <option value="SPY">SPY - S&P 500 ETF</option>
                                        <option value="QQQ">QQQ - Nasdaq 100 ETF</option>
                                    </optgroup>
                                    <optgroup label="Fixed Income">
                                        <option value="TLT">TLT - Treasury Bonds</option>
                                    </optgroup>
                                    <optgroup label="Commodities">
                                        <option value="GLD">GLD - Gold ETF</option>
                                        <option value="SLV">SLV - Silver ETF</option>
                                        <option value="USO">USO - Oil ETF</option>
                                    </optgroup>
                                    <optgroup label="REITs">
                                        <option value="VNQ">VNQ - Real Estate ETF</option>
                                    </optgroup>
                                    <optgroup label="Derivatives">
                                        <option value="VIX">VIX - Volatility Index</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Report Type</label>
                                <select class="control-select" id="research-report-type">
                                    <option value="full">Full Analysis Report</option>
                                    <option value="technical">Technical Analysis Only</option>
                                    <option value="fundamental">Fundamental Analysis Only</option>
                                    <option value="sentiment">Sentiment Analysis Only</option>
                                    <option value="trade">Trade Recommendations Only</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <div class="control-group">
                                <label class="control-label">Timeframe</label>
                                <select class="control-select" id="research-timeframe">
                                    <option value="1h">1 Hour</option>
                                    <option value="4h">4 Hours</option>
                                    <option value="1d" selected>1 Day</option>
                                    <option value="1w">1 Week</option>
                                    <option value="1m">1 Month</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Agent Consensus Required</label>
                                <select class="control-select" id="research-consensus">
                                    <option value="all">All 19 Agents</option>
                                    <option value="relevant" selected>Relevant Agents Only</option>
                                    <option value="top5">Top 5 Confidence Agents</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem;">
                        <button class="control-btn" onclick="generateAssetReport()">üîç Generate Asset Report</button>
                    </div>
                </div>
                
                <!-- Generated Report Display -->
                <div class="card" style="margin-top: 1.5rem;" id="asset-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Asset Analysis Report</h3>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div class="status-dot"></div>
                            <span style="font-size: 0.875rem; color: var(--gray-400);" id="report-timestamp">Last updated: --</span>
                        </div>
                    </div>
                    <div id="asset-report-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üî¨</div>
                            <p>Select an asset and click "Generate Asset Report" to view AI-powered analysis</p>
                        </div>
                    </div>
                </div>
                
                <!-- Automated Reports Section -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">ü§ñ Automated AI Agent Reports</h3>
                            <p class="card-subtitle" style="margin-bottom: 0;">Comprehensive market analysis delivered 3x daily at 08:00, 14:00, and 20:00 UTC</p>
                        </div>
                        <button class="control-btn" onclick="generateFullMarketReport()">‚ö° Generate Real-Time Market Report</button>
                    </div>
                    
                    <!-- Report Schedule -->
                    <div class="three-col-grid" style="margin-bottom: 1.5rem;">
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Morning Report</span>
                                <span class="stat-icon">üåÖ</span>
                            </div>
                            <div class="stat-value small">08:00 UTC</div>
                            <div class="stat-change positive">‚úì Delivered</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Midday Report</span>
                                <span class="stat-icon">‚òÄÔ∏è</span>
                            </div>
                            <div class="stat-value small">14:00 UTC</div>
                            <div class="stat-change positive">‚úì Delivered</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Evening Report</span>
                                <span class="stat-icon">üåô</span>
                            </div>
                            <div class="stat-value small">20:00 UTC</div>
                            <div class="stat-change neutral">Pending</div>
                        </div>
                    </div>
                    
                    <!-- Recent Automated Reports -->
                    <h4 style="margin-bottom: 1rem; color: var(--gray-400);">Recent Automated Reports</h4>
                    <div id="automated-reports-list"></div>
                </div>
                
                <!-- Real-Time Market Report Display -->
                <div class="card gradient-card" style="margin-top: 1.5rem;" id="market-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üåê Real-Time Total Market Analysis</h3>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">19 Agents Active</span>
                            </div>
                            <span style="font-size: 0.875rem; color: var(--gray-400);" id="market-report-timestamp">--</span>
                        </div>
                    </div>
                    <div id="market-report-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üåê</div>
                            <p>Click "Generate Real-Time Market Report" for comprehensive analysis across all assets and markets</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Auditing Page - NEW -->
            <div class="page" id="page-auditing">
                <!-- Audit Overview Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Last Daily Audit</span>
                            <span class="stat-icon">üìÖ</span>
                        </div>
                        <div class="stat-value small">Today 06:00</div>
                        <div class="stat-change positive">‚úì Passed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Last Monthly Audit</span>
                            <span class="stat-icon">üìÜ</span>
                        </div>
                        <div class="stat-value small">Nov 1, 2024</div>
                        <div class="stat-change positive">‚úì Passed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Last Quarterly Audit</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value small">Oct 1, 2024</div>
                        <div class="stat-change positive">‚úì Passed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Compliance Score</span>
                            <span class="stat-icon">‚úÖ</span>
                        </div>
                        <div class="stat-value small">98.7%</div>
                        <div class="stat-change positive">SOC 2 Type II</div>
                    </div>
                </div>
                
                <!-- Generate Audit Button -->
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">On-Demand Audit Generation</h3>
                            <p class="card-subtitle" style="margin-bottom: 0;">Generate comprehensive portfolio audits in real-time</p>
                        </div>
                        <div style="display: flex; gap: 1rem;">
                            <select class="control-select" id="audit-type-select" style="width: 200px;">
                                <option value="full">Full Portfolio Audit</option>
                                <option value="reconciliation">Reconciliation Audit</option>
                                <option value="compliance">Compliance Audit</option>
                                <option value="performance">Performance Audit</option>
                                <option value="risk">Risk Assessment Audit</option>
                                <option value="tax">Tax Lot Audit</option>
                            </select>
                            <button class="control-btn" onclick="generateAudit()">üìã Generate Audit</button>
                        </div>
                    </div>
                </div>
                
                <!-- Audit Schedule -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìÖ Automated Audit Schedule</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600;">Daily Audit</span>
                                    <span style="padding: 0.25rem 0.5rem; background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Runs every day at 06:00 UTC</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400); margin-top: 0.25rem;">‚Ä¢ Position reconciliation ‚Ä¢ NAV calculation ‚Ä¢ Trade verification ‚Ä¢ Cash balance check</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600;">Monthly Audit</span>
                                    <span style="padding: 0.25rem 0.5rem; background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Runs 1st of each month at 00:00 UTC</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400); margin-top: 0.25rem;">‚Ä¢ Full reconciliation ‚Ä¢ Fee calculation ‚Ä¢ Performance attribution ‚Ä¢ Investor statements</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600;">Quarterly Audit</span>
                                    <span style="padding: 0.25rem 0.5rem; background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                </div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Runs 1st of Jan, Apr, Jul, Oct at 00:00 UTC</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400); margin-top: 0.25rem;">‚Ä¢ Regulatory compliance ‚Ä¢ External audit prep ‚Ä¢ Risk framework review ‚Ä¢ SOC 2 controls</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìú Recent Audit Reports</h3>
                        <div id="audit-reports-list"></div>
                    </div>
                </div>
                
                <!-- Audit Metrics -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìä Audit Metrics & Reconciliation</h3>
                    <div class="three-col-grid" style="margin-bottom: 0;">
                        <div>
                            <h4 style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 1rem;">Position Reconciliation</h4>
                            <div id="position-reconciliation"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 1rem;">Cash & Custody Verification</h4>
                            <div id="cash-verification"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 1rem;">Compliance Checks</h4>
                            <div id="compliance-checks"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Generated Audit Display -->
                <div class="card" style="margin-top: 1.5rem;" id="audit-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã Generated Audit Report</h3>
                        <span style="font-size: 0.875rem; color: var(--gray-400);" id="audit-timestamp">--</span>
                    </div>
                    <div id="audit-report-content">
                        <div style="text-align: center; padding: 3rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üìã</div>
                            <p>Select an audit type and click "Generate Audit" to create a comprehensive report</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Security Page - NEW -->
            <div class="page" id="page-security">
                <!-- Security Status Overview -->
                <div class="stats-grid">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);">
                        <div class="stat-header">
                            <span class="stat-label">System Status</span>
                            <span class="stat-icon">üõ°Ô∏è</span>
                        </div>
                        <div class="stat-value small" style="color: var(--green-400);">SECURE</div>
                        <div class="stat-change positive">All systems nominal</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Threats Blocked (24h)</span>
                            <span class="stat-icon">üö´</span>
                        </div>
                        <div class="stat-value small">1,247</div>
                        <div class="stat-change neutral">+12% vs avg</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Active Alerts</span>
                            <span class="stat-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="stat-value small" id="active-alerts-count">3</div>
                        <div class="stat-change neutral">2 Low, 1 Medium</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Uptime</span>
                            <span class="stat-icon">‚è±Ô∏è</span>
                        </div>
                        <div class="stat-value small">99.99%</div>
                        <div class="stat-change positive">Last 30 days</div>
                    </div>
                </div>
                
                <!-- Real-Time Threat Detection -->
                <div class="two-col-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üî¥ Real-Time Threat Detection</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.875rem; color: var(--gray-400);">Monitoring Active</span>
                            </div>
                        </div>
                        <div id="threat-feed" style="max-height: 350px; overflow-y: auto;"></div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üîç Anomaly Detection</h3>
                        <div id="anomaly-detection"></div>
                    </div>
                </div>
                
                <!-- DDoS & Front Running -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üåê DDoS Protection Status</h3>
                        <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr); margin-bottom: 1rem;">
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">Active</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">CloudFlare Shield</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700;">2.4 Tbps</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">Mitigation Capacity</div>
                            </div>
                        </div>
                        <div id="ddos-metrics"></div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">‚ö° Front-Running Detection</h3>
                        <div id="frontrun-alerts"></div>
                    </div>
                </div>
                
                <!-- Wallet Tracking -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üëõ Company Wallet Tracking</h3>
                        <button class="control-btn secondary" onclick="refreshWallets()">üîÑ Refresh</button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="wallet-tracking-table">
                            <thead>
                                <tr>
                                    <th>Wallet Name</th>
                                    <th>Address</th>
                                    <th>Network</th>
                                    <th>Balance</th>
                                    <th>Last Activity</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="wallet-tracking-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Security Notifications & Alerts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîî Security Notifications</h3>
                        <div id="security-notifications" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìä Security Metrics (24h)</h3>
                        <div id="security-metrics"></div>
                    </div>
                </div>
                
                <!-- Access Control & Audit Log -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üîë Access Control & Authentication Log</h3>
                    <div id="access-log" style="max-height: 250px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <!-- Admin Panel Page -->
            <div class="page" id="page-admin">
                <!-- Admin Stats Overview -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Users</span>
                            <span class="stat-icon">üë•</span>
                        </div>
                        <div class="stat-value" id="admin-total-users">24</div>
                        <div class="stat-change positive">+3 this month</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Active Sessions</span>
                            <span class="stat-icon">üü¢</span>
                        </div>
                        <div class="stat-value" id="admin-active-sessions">18</div>
                        <div class="stat-change neutral">Currently online</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">API Keys Active</span>
                            <span class="stat-icon">üîë</span>
                        </div>
                        <div class="stat-value">12</div>
                        <div class="stat-change neutral">3 expiring soon</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">System Health</span>
                            <span class="stat-icon">üíö</span>
                        </div>
                        <div class="stat-value" style="color: var(--green-400);">99.99%</div>
                        <div class="stat-change positive">All systems operational</div>
                    </div>
                </div>
                
                <!-- User Management Section -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üë• User Management</h3>
                        <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                            <input type="text" class="control-input" id="user-search" placeholder="Search users..." style="width: 200px;" oninput="filterUsers()">
                            <select class="control-select" id="user-role-filter" style="width: 150px;" onchange="filterUsers()">
                                <option value="all">All Roles</option>
                                <option value="owner">Owner</option>
                                <option value="gp">General Partner</option>
                                <option value="pm">Portfolio Manager</option>
                                <option value="trader">Executing Trader</option>
                                <option value="analyst">Analyst</option>
                                <option value="security">Cybersecurity</option>
                            </select>
                            <button class="control-btn" onclick="showAddUserModal()">‚ûï Add User</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="users-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Last Active</th>
                                    <th>2FA</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Role Permissions Matrix -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üõ°Ô∏è Role Permissions Matrix</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="permissions-matrix">
                            <thead>
                                <tr>
                                    <th>Permission</th>
                                    <th>Owner</th>
                                    <th>General Partner</th>
                                    <th>Portfolio Manager</th>
                                    <th>Executing Trader</th>
                                    <th>Analyst</th>
                                    <th>Cybersecurity</th>
                                </tr>
                            </thead>
                            <tbody id="permissions-matrix-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Two Column Layout for Settings -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <!-- System Settings -->
                    <div class="card">
                        <h3 class="card-title">‚öôÔ∏è System Settings</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Platform Mode</label>
                                <select class="control-select" id="platform-mode" style="width: 100%;">
                                    <option value="live" selected>üü¢ Live Trading</option>
                                    <option value="paper">üìù Paper Trading</option>
                                    <option value="maintenance">üîß Maintenance Mode</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Max Concurrent Sessions per User</label>
                                <input type="number" class="control-input" value="3" min="1" max="10" style="width: 100%;">
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Session Timeout (minutes)</label>
                                <input type="number" class="control-input" value="30" min="5" max="120" style="width: 100%;">
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Require 2FA for All Users</label>
                                <select class="control-select" style="width: 100%;">
                                    <option value="yes" selected>Yes - Mandatory</option>
                                    <option value="gp">Only GP+ Roles</option>
                                    <option value="no">No - Optional</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Password Expiry (days)</label>
                                <input type="number" class="control-input" value="90" min="30" max="365" style="width: 100%;">
                            </div>
                            <button class="control-btn" style="margin-top: 0.5rem;" onclick="saveSystemSettings()">üíæ Save Settings</button>
                        </div>
                    </div>
                    
                    <!-- Trading Limits -->
                    <div class="card">
                        <h3 class="card-title">üìä Trading Limits</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Max Single Trade Size</label>
                                <input type="text" class="control-input" value="$10,000,000" style="width: 100%;">
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Daily Trading Limit</label>
                                <input type="text" class="control-input" value="$100,000,000" style="width: 100%;">
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Max Position Size (%)</label>
                                <input type="number" class="control-input" value="15" min="1" max="50" style="width: 100%;">
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Max Leverage</label>
                                <select class="control-select" style="width: 100%;">
                                    <option value="1">1x (No Leverage)</option>
                                    <option value="2">2x</option>
                                    <option value="3" selected>3x</option>
                                    <option value="5">5x</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--gray-400); font-size: 0.875rem;">Stop Loss Required</label>
                                <select class="control-select" style="width: 100%;">
                                    <option value="yes" selected>Yes - All Trades</option>
                                    <option value="manual">Manual Trades Only</option>
                                    <option value="no">No</option>
                                </select>
                            </div>
                            <button class="control-btn" style="margin-top: 0.5rem;" onclick="saveTradingLimits()">üíæ Save Limits</button>
                        </div>
                    </div>
                </div>
                
                <!-- API Key Management & Notifications -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <!-- API Key Management -->
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üîë API Key Management</h3>
                            <button class="control-btn secondary" onclick="generateApiKey()">‚ûï Generate Key</button>
                        </div>
                        <div id="api-keys-list" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                    
                    <!-- Notification Settings -->
                    <div class="card">
                        <h3 class="card-title">üîî Notification Settings</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                                <span>Trade Executions</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                                <span>Risk Alerts</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                                <span>Security Events</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                                <span>Daily Reports</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                                <span>User Login Alerts</span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                                <span>System Maintenance</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Activity Log & System Health -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <!-- Activity Log -->
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üìú Activity Log</h3>
                            <select class="control-select" id="activity-filter" style="width: 150px;" onchange="filterActivityLog()">
                                <option value="all">All Activities</option>
                                <option value="login">Logins</option>
                                <option value="trade">Trades</option>
                                <option value="settings">Settings</option>
                                <option value="user">User Changes</option>
                            </select>
                        </div>
                        <div id="activity-log" style="max-height: 350px; overflow-y: auto;"></div>
                    </div>
                    
                    <!-- System Health -->
                    <div class="card">
                        <h3 class="card-title">üíª System Health</h3>
                        <div id="system-health" style="display: flex; flex-direction: column; gap: 1rem;"></div>
                    </div>
                </div>
                
                <!-- Data Management & Backup -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üíæ Data Management & Backup</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                        <div style="padding: 1.5rem; background: var(--navy-800); border-radius: 12px; border: 1px solid var(--navy-600);">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 1.5rem;">üì¶</span>
                                <div>
                                    <div style="font-weight: 600;">Database Backup</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Last: Nov 28, 2025 06:00 UTC</div>
                                </div>
                            </div>
                            <button class="control-btn" style="width: 100%;" onclick="triggerBackup('database')">Run Backup Now</button>
                        </div>
                        <div style="padding: 1.5rem; background: var(--navy-800); border-radius: 12px; border: 1px solid var(--navy-600);">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 1.5rem;">üìä</span>
                                <div>
                                    <div style="font-weight: 600;">Trade History Export</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Export all trade records</div>
                                </div>
                            </div>
                            <button class="control-btn secondary" style="width: 100%;" onclick="exportTradeHistory()">Export CSV</button>
                        </div>
                        <div style="padding: 1.5rem; background: var(--navy-800); border-radius: 12px; border: 1px solid var(--navy-600);">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 1.5rem;">üîÑ</span>
                                <div>
                                    <div style="font-weight: 600;">System Restore</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Restore from backup</div>
                                </div>
                            </div>
                            <button class="control-btn secondary" style="width: 100%;" onclick="showRestoreModal()">Select Backup</button>
                        </div>
                        <div style="padding: 1.5rem; background: var(--navy-800); border-radius: 12px; border: 1px solid var(--navy-600);">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                                <span style="font-size: 1.5rem;">üóëÔ∏è</span>
                                <div>
                                    <div style="font-weight: 600;">Data Retention</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">7 years (regulatory compliance)</div>
                                </div>
                            </div>
                            <button class="control-btn secondary" style="width: 100%;" onclick="showRetentionSettings()">Configure</button>
                        </div>
                    </div>
                </div>
                
                <!-- Audit Trail -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã Admin Audit Trail</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <input type="date" class="control-input" id="audit-start-date">
                            <input type="date" class="control-input" id="audit-end-date">
                            <button class="control-btn secondary" onclick="exportAuditTrail()">üì• Export</button>
                        </div>
                    </div>
                    <div id="admin-audit-trail" style="max-height: 300px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <!-- ==================== AGENT MONITORING PAGE ==================== -->
            <div class="page" id="page-agent-monitoring">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Agents</span><span class="stat-icon">ü§ñ</span></div><div class="stat-value">96</div><div class="stat-change neutral">73 Active ‚Ä¢ 23 Dev</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Health Score</span><span class="stat-icon">üíö</span></div><div class="stat-value" style="color: var(--green-400);">94.2%</div><div class="stat-change positive">+2.1% vs last week</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Anomalies Detected</span><span class="stat-icon">‚ö†Ô∏è</span></div><div class="stat-value" style="color: var(--yellow-400);">2</div><div class="stat-change neutral">Under review</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">System Uptime</span><span class="stat-icon">‚è±Ô∏è</span></div><div class="stat-value" style="color: var(--green-400);">99.97%</div><div class="stat-change neutral">30-day average</div></div>
                </div>
                
                <!-- Agent Health Scoring -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üè• Agent Health Scoring Dashboard</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <select class="control-select" id="health-phase-filter" onchange="filterHealthByPhase()">
                                <option value="all">All Phases</option>
                                <option value="phase0">Phase 0 - Core</option>
                                <option value="phase1">Phase 1 - Data Intelligence</option>
                                <option value="phase2">Phase 2 - Execution</option>
                                <option value="phase2.5">Phase 2.5 - Risk</option>
                                <option value="phase3">Phase 3 - Monitoring</option>
                                <option value="phase4">Phase 4 - DeFi/Analytics</option>
                                <option value="phase5">Phase 5 - Ops/Compliance</option>
                            </select>
                            <button class="control-btn" onclick="generateAgentHealthReport()">üìÑ Generate Health Report</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(34,197,94,0.2), rgba(34,197,94,0.1)); border-radius: 10px; text-align: center; border: 1px solid rgba(34,197,94,0.3);">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Grade A (90-100%)</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: var(--green-400);" id="health-grade-a">45</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Excellent</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(74,222,128,0.15), rgba(74,222,128,0.05)); border-radius: 10px; text-align: center; border: 1px solid rgba(74,222,128,0.2);">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Grade B (80-89%)</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: #4ADE80;" id="health-grade-b">18</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Good</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(250,204,21,0.15), rgba(250,204,21,0.05)); border-radius: 10px; text-align: center; border: 1px solid rgba(250,204,21,0.2);">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Grade C (70-79%)</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: var(--yellow-400);" id="health-grade-c">7</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Fair</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(249,115,22,0.15), rgba(249,115,22,0.05)); border-radius: 10px; text-align: center; border: 1px solid rgba(249,115,22,0.2);">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Grade D (60-69%)</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: #F97316;" id="health-grade-d">3</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Needs Attention</div>
                        </div>
                        <div style="padding: 1rem; background: linear-gradient(135deg, rgba(239,68,68,0.15), rgba(239,68,68,0.05)); border-radius: 10px; text-align: center; border: 1px solid rgba(239,68,68,0.2);">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Grade F (&lt;60%)</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: var(--red-400);" id="health-grade-f">0</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Critical</div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 10px; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">In Development</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: var(--gray-400);" id="health-dev">23</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Pending</div>
                        </div>
                    </div>
                </div>
                
                <!-- Anomaly Detection -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üéØ Agent Anomaly Detection</h3>
                            <span style="padding: 0.25rem 0.75rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 20px; font-size: 0.75rem;">ML Monitoring Active</span>
                        </div>
                        <div id="anomaly-list" style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="padding: 1rem; background: rgba(250,204,21,0.1); border-left: 4px solid var(--yellow-400); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600;">Latency Spike Detected</div>
                                        <div style="font-size: 0.85rem; color: var(--gray-400);">Smart Order Router (#53) - 24ms vs 7.5ms avg</div>
                                    </div>
                                    <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="investigateAnomaly(53)">Investigate</button>
                                </div>
                            </div>
                            <div style="padding: 1rem; background: rgba(250,204,21,0.1); border-left: 4px solid var(--yellow-400); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600;">Memory Usage Above Threshold</div>
                                        <div style="font-size: 0.85rem; color: var(--gray-400);">Kafka Stream Processor (#46) - 78% (threshold: 75%)</div>
                                    </div>
                                    <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="investigateAnomaly(46)">Investigate</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üîî Live Agent Alerts</h3>
                            <div style="display: flex; gap: 0.5rem;">
                                <span style="padding: 0.25rem 0.5rem; background: rgba(239,68,68,0.2); color: var(--red-400); border-radius: 4px; font-size: 0.75rem;">1 Critical</span>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;">3 Warning</span>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">12 Info</span>
                            </div>
                        </div>
                        <div id="live-alerts" style="display: flex; flex-direction: column; gap: 0.5rem; max-height: 250px; overflow-y: auto;">
                            <div style="padding: 0.75rem; background: var(--navy-700); border-left: 4px solid var(--red-400); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600; color: var(--red-400);">üî¥ Connection Lost</span>
                                    <span style="font-size: 0.75rem; color: var(--gray-500);">2 min ago</span>
                                </div>
                                <div style="font-size: 0.85rem; color: var(--gray-400);">Deribit Connector (#13) - Attempting reconnect</div>
                            </div>
                            <div style="padding: 0.75rem; background: var(--navy-700); border-left: 4px solid var(--yellow-400); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600; color: var(--yellow-400);">üü° High CPU Usage</span>
                                    <span style="font-size: 0.75rem; color: var(--gray-500);">8 min ago</span>
                                </div>
                                <div style="font-size: 0.85rem; color: var(--gray-400);">Technical Agent (#3) - 85% CPU utilization</div>
                            </div>
                            <div style="padding: 0.75rem; background: var(--navy-700); border-left: 4px solid var(--green-400); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600; color: var(--green-400);">üü¢ Auto-Scaling Complete</span>
                                    <span style="font-size: 0.75rem; color: var(--gray-500);">15 min ago</span>
                                </div>
                                <div style="font-size: 0.85rem; color: var(--gray-400);">Data Cluster scaled from 6 to 8 nodes</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Agent Performance Matrix -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìä Agent Performance Matrix (Active Agents)</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="agent-performance-table">
                            <thead>
                                <tr>
                                    <th>Agent</th>
                                    <th>Phase</th>
                                    <th>Health</th>
                                    <th>Latency</th>
                                    <th>CPU</th>
                                    <th>Memory</th>
                                    <th>Version</th>
                                    <th>Uptime</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="agent-performance-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- ==================== DEFI PROTOCOLS PAGE ==================== -->
            <div class="page" id="page-defi-protocols">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">DeFi Agents</span><span class="stat-icon">üåæ</span></div><div class="stat-value">6</div><div class="stat-change neutral">In Development</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total DeFi TVL</span><span class="stat-icon">üí∞</span></div><div class="stat-value">$2.4B</div><div class="stat-change positive">+12.5% tracked</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Active Protocols</span><span class="stat-icon">üîó</span></div><div class="stat-value">24</div><div class="stat-change neutral">Monitored</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Yield Opportunities</span><span class="stat-icon">üìà</span></div><div class="stat-value">142</div><div class="stat-change positive">+18 new today</div></div>
                </div>
                
                <!-- DeFi Agents Grid -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üåæ Phase 4 - DeFi Protocol Agents</h3>
                    <div class="agents-grid" id="defi-agents-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;"></div>
                </div>
                
                <!-- Protocol Monitoring -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìä Top Yield Opportunities</h3>
                        <div id="yield-opportunities" style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                    <span style="font-size: 1.25rem;">ü™ê</span>
                                    <div>
                                        <div style="font-weight: 600;">Jupiter LP - SOL/USDC</div>
                                        <div style="font-size: 0.8rem; color: var(--gray-400);">Concentrated Liquidity</div>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-weight: 700; color: var(--green-400);">42.5% APY</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">$850M TVL</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                    <span style="font-size: 1.25rem;">‚òÄÔ∏è</span>
                                    <div>
                                        <div style="font-weight: 600;">Raydium CLMM - mSOL/SOL</div>
                                        <div style="font-size: 0.8rem; color: var(--gray-400);">Concentrated AMM</div>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-weight: 700; color: var(--green-400);">28.2% APY</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">$420M TVL</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                    <span style="font-size: 1.25rem;">üè¶</span>
                                    <div>
                                        <div style="font-weight: 600;">Kamino Finance - USDC</div>
                                        <div style="font-size: 0.8rem; color: var(--gray-400);">Lending Protocol</div>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-weight: 700; color: var(--green-400);">18.5% APY</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">$1.2B TVL</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üåâ Cross-Chain Bridge Status</h3>
                        <div id="bridge-status" style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Wormhole</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Solana ‚Üî ETH ‚Üî BSC</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">‚óè Active</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Portal Bridge</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Multi-chain transfers</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">‚óè Active</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">deBridge</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Cross-chain swaps</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">‚óè Active</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Protocol Risk Matrix -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üõ°Ô∏è Protocol Risk Assessment</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr><th>Protocol</th><th>Chain</th><th>TVL</th><th>Audit Score</th><th>Smart Contract Risk</th><th>Liquidity Risk</th><th>Overall Risk</th><th>Status</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Jupiter</strong></td>
                                    <td>Solana</td>
                                    <td>$2.8B</td>
                                    <td><span style="color: var(--green-400);">A+</span></td>
                                    <td><span style="color: var(--green-400);">Low</span></td>
                                    <td><span style="color: var(--green-400);">Low</span></td>
                                    <td><span style="padding: 0.2rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px;">Safe</span></td>
                                    <td>‚úÖ Approved</td>
                                </tr>
                                <tr>
                                    <td><strong>Raydium</strong></td>
                                    <td>Solana</td>
                                    <td>$680M</td>
                                    <td><span style="color: var(--green-400);">A</span></td>
                                    <td><span style="color: var(--green-400);">Low</span></td>
                                    <td><span style="color: var(--yellow-400);">Medium</span></td>
                                    <td><span style="padding: 0.2rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px;">Safe</span></td>
                                    <td>‚úÖ Approved</td>
                                </tr>
                                <tr>
                                    <td><strong>Orca</strong></td>
                                    <td>Solana</td>
                                    <td>$420M</td>
                                    <td><span style="color: var(--green-400);">A</span></td>
                                    <td><span style="color: var(--green-400);">Low</span></td>
                                    <td><span style="color: var(--green-400);">Low</span></td>
                                    <td><span style="padding: 0.2rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px;">Safe</span></td>
                                    <td>‚úÖ Approved</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- ==================== ADVANCED ANALYTICS PAGE ==================== -->
            <div class="page" id="page-advanced-analytics">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Analytics Agents</span><span class="stat-icon">üî¨</span></div><div class="stat-value">6</div><div class="stat-change neutral">In Development</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">ML Models Active</span><span class="stat-icon">ü§ñ</span></div><div class="stat-value">12</div><div class="stat-change positive">+2 trained today</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Prediction Accuracy</span><span class="stat-icon">üéØ</span></div><div class="stat-value">78.4%</div><div class="stat-change positive">+3.2% vs baseline</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Factors Tracked</span><span class="stat-icon">üìä</span></div><div class="stat-value">156</div><div class="stat-change neutral">Cross-asset</div></div>
                </div>
                
                <!-- Analytics Agents Grid -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üî¨ Phase 4 - Advanced Analytics Agents</h3>
                    <div class="agents-grid" id="analytics-agents-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;"></div>
                </div>
                
                <!-- Factor Analysis -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìê Factor Exposures</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;"><span>Momentum</span><span style="color: var(--green-400);">+0.72</span></div>
                                <div style="height: 8px; background: var(--navy-700); border-radius: 4px; overflow: hidden;"><div style="width: 72%; height: 100%; background: var(--green-400); border-radius: 4px;"></div></div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;"><span>Value</span><span style="color: var(--cyan-400);">+0.35</span></div>
                                <div style="height: 8px; background: var(--navy-700); border-radius: 4px; overflow: hidden;"><div style="width: 35%; height: 100%; background: var(--cyan-400); border-radius: 4px;"></div></div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;"><span>Quality</span><span style="color: var(--purple-400);">+0.58</span></div>
                                <div style="height: 8px; background: var(--navy-700); border-radius: 4px; overflow: hidden;"><div style="width: 58%; height: 100%; background: var(--purple-400); border-radius: 4px;"></div></div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;"><span>Volatility</span><span style="color: var(--yellow-400);">-0.28</span></div>
                                <div style="height: 8px; background: var(--navy-700); border-radius: 4px; overflow: hidden;"><div style="width: 28%; height: 100%; background: var(--yellow-400); border-radius: 4px;"></div></div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;"><span>Size</span><span style="color: #F97316;">+0.45</span></div>
                                <div style="height: 8px; background: var(--navy-700); border-radius: 4px; overflow: hidden;"><div style="width: 45%; height: 100%; background: #F97316; border-radius: 4px;"></div></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üîÑ Market Regime Detection</h3>
                        <div style="padding: 1.5rem; background: linear-gradient(135deg, rgba(34,197,94,0.15), rgba(34,197,94,0.05)); border-radius: 10px; border: 1px solid rgba(34,197,94,0.3); margin-bottom: 1rem; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Current Regime</div>
                            <div style="font-size: 1.75rem; font-weight: 700; color: var(--green-400);">RISK-ON</div>
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Confidence: 84%</div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                            <div style="padding: 0.75rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                                <div style="font-size: 0.8rem; color: var(--gray-400);">VIX Level</div>
                                <div style="font-weight: 600;">14.82</div>
                            </div>
                            <div style="padding: 0.75rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                                <div style="font-size: 0.8rem; color: var(--gray-400);">Fear & Greed</div>
                                <div style="font-weight: 600; color: var(--green-400);">72 (Greed)</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ML Models -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">ü§ñ Active ML Models</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr><th>Model</th><th>Type</th><th>Target</th><th>Accuracy</th><th>Sharpe Contrib.</th><th>Last Trained</th><th>Status</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Price Momentum</strong></td>
                                    <td>LSTM</td>
                                    <td>SOL/BTC/ETH</td>
                                    <td style="color: var(--green-400);">82.4%</td>
                                    <td>+0.42</td>
                                    <td>2 hours ago</td>
                                    <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Volatility Forecast</strong></td>
                                    <td>GARCH</td>
                                    <td>All Assets</td>
                                    <td style="color: var(--green-400);">78.8%</td>
                                    <td>+0.28</td>
                                    <td>4 hours ago</td>
                                    <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Sentiment Score</strong></td>
                                    <td>Transformer</td>
                                    <td>Social Data</td>
                                    <td style="color: var(--green-400);">75.2%</td>
                                    <td>+0.18</td>
                                    <td>1 hour ago</td>
                                    <td><span style="color: var(--green-400);">‚óè Active</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- ==================== OPERATIONS PAGE ==================== -->
            <div class="page" id="page-operations">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Operations Agents</span><span class="stat-icon">üîß</span></div><div class="stat-value">5</div><div class="stat-change neutral">In Development</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">System Uptime</span><span class="stat-icon">‚è±Ô∏è</span></div><div class="stat-value" style="color: var(--green-400);">99.99%</div><div class="stat-change positive">SLA: 99.9%</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">API Calls (24h)</span><span class="stat-icon">üì°</span></div><div class="stat-value">2.4M</div><div class="stat-change positive">+8.2%</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Data Processed</span><span class="stat-icon">üíæ</span></div><div class="stat-value">4.2TB</div><div class="stat-change neutral">Today</div></div>
                </div>
                
                <!-- Operations Agents Grid -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üîß Phase 5 - Operations Agents</h3>
                    <div class="agents-grid" id="ops-agents-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;"></div>
                </div>
                
                <!-- Infrastructure Status -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üñ•Ô∏è Infrastructure Health</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Primary Database (PostgreSQL)</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Redis Cache Cluster</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Kafka Message Queue</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>TimescaleDB (Time-series)</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>API Gateway</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚óè 8.2ms latency</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üîê Secret Management</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">API Keys</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">12 active keys</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Rotated 7d ago</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Wallet Keys</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">HSM protected</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Air-gapped</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Database Credentials</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Auto-rotation enabled</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">30d cycle</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Deployment & DR -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üöÄ Deployment & Disaster Recovery</h3>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem;">
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Last Deployment</div>
                            <div style="font-size: 1.25rem; font-weight: 600;">2 days ago</div>
                            <div style="font-size: 0.75rem; color: var(--green-400);">v1.4.2 stable</div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Blue/Green Status</div>
                            <div style="font-size: 1.25rem; font-weight: 600; color: var(--green-400);">Ready</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Instant rollback</div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Last DR Test</div>
                            <div style="font-size: 1.25rem; font-weight: 600;">14 days ago</div>
                            <div style="font-size: 0.75rem; color: var(--green-400);">RTO: 4 min</div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Backup Status</div>
                            <div style="font-size: 1.25rem; font-weight: 600; color: var(--green-400);">Complete</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Every 6 hours</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== COMPLIANCE AGENTS PAGE ==================== -->
            <div class="page" id="page-compliance-agents">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Compliance Agents</span><span class="stat-icon">‚úÖ</span></div><div class="stat-value">6</div><div class="stat-change neutral">In Development</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Compliance Score</span><span class="stat-icon">üìã</span></div><div class="stat-value" style="color: var(--green-400);">98.7%</div><div class="stat-change positive">+1.2% this quarter</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Regulatory Filings</span><span class="stat-icon">üìÑ</span></div><div class="stat-value">24</div><div class="stat-change neutral">On schedule</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Tax Lots Tracked</span><span class="stat-icon">üíµ</span></div><div class="stat-value">142K</div><div class="stat-change positive">FIFO optimized</div></div>
                </div>
                
                <!-- Compliance Agents Grid -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">‚úÖ Phase 5 - Compliance Agents</h3>
                    <div class="agents-grid" id="compliance-agents-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;"></div>
                </div>
                
                <!-- Regulatory Status -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìã Regulatory Filing Status</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Form PF</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Quarterly filing</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">‚úì Filed</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Form 13F</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Holdings report</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;">Due Jan 15</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">ADV Annual Amendment</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Advisor registration</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">‚úì Filed</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">üìä Investor Reporting Schedule</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Q4 2025 Report</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Performance & NAV</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;">Drafting</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Annual Tax Documents</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">K-1 preparation</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,211,238,0.2); color: #22D3EE; border-radius: 4px; font-size: 0.75rem;">In Progress</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">2025 Annual Report</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Comprehensive review</div>
                                </div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(107,114,128,0.2); color: var(--gray-400); border-radius: 4px; font-size: 0.75rem;">Pending</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Compliance Checks -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">‚úì Real-Time Compliance Checks</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr><th>Check</th><th>Frequency</th><th>Last Run</th><th>Status</th><th>Issues</th><th>Actions</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Position Limits</strong></td>
                                    <td>Real-time</td>
                                    <td>Just now</td>
                                    <td><span style="color: var(--green-400);">‚úì Passed</span></td>
                                    <td>0</td>
                                    <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">View</button></td>
                                </tr>
                                <tr>
                                    <td><strong>Leverage Limits</strong></td>
                                    <td>Real-time</td>
                                    <td>Just now</td>
                                    <td><span style="color: var(--green-400);">‚úì Passed</span></td>
                                    <td>0</td>
                                    <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">View</button></td>
                                </tr>
                                <tr>
                                    <td><strong>Counterparty Exposure</strong></td>
                                    <td>Hourly</td>
                                    <td>45 min ago</td>
                                    <td><span style="color: var(--green-400);">‚úì Passed</span></td>
                                    <td>0</td>
                                    <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">View</button></td>
                                </tr>
                                <tr>
                                    <td><strong>Best Execution</strong></td>
                                    <td>Daily</td>
                                    <td>6 hours ago</td>
                                    <td><span style="color: var(--green-400);">‚úì Passed</span></td>
                                    <td>0</td>
                                    <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Add/Edit User Modal -->
    <div class="modal-overlay" id="user-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="user-modal-title">Add New User</h3>
                <button class="modal-close" onclick="closeUserModal()">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-user-id">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" class="control-input" id="user-name" placeholder="Enter full name">
                </div>
                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" class="control-input" id="user-email" placeholder="user@maxamcapital.com">
                </div>
                <div class="form-group">
                    <label>Role *</label>
                    <select class="control-select" id="user-role">
                        <option value="">Select Role...</option>
                        <option value="owner">Owner</option>
                        <option value="gp">General Partner</option>
                        <option value="pm">Portfolio Manager</option>
                        <option value="trader">Executing Trader</option>
                        <option value="analyst">Analyst</option>
                        <option value="security">Cybersecurity</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Department</label>
                    <input type="text" class="control-input" id="user-department" placeholder="e.g., Trading, Research, Operations">
                </div>
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" class="control-input" id="user-phone" placeholder="+1 (555) 000-0000">
                </div>
                <div class="form-group">
                    <label>Status</label>
                    <select class="control-select" id="user-status">
                        <option value="active">Active</option>
                        <option value="pending">Pending Activation</option>
                        <option value="suspended">Suspended</option>
                    </select>
                </div>
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                        <input type="checkbox" id="user-2fa" style="width: auto;">
                        <span>Require Two-Factor Authentication</span>
                    </label>
                </div>
                <div class="form-group" id="password-group">
                    <label>Temporary Password *</label>
                    <div style="display: flex; gap: 0.5rem;">
                        <input type="text" class="control-input" id="user-password" placeholder="Enter temporary password" style="flex: 1;">
                        <button class="control-btn secondary" type="button" onclick="generatePassword()">Generate</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="control-btn secondary" onclick="closeUserModal()">Cancel</button>
                <button class="control-btn" onclick="saveUser()">Save User</button>
            </div>
        </div>
    </div>
    
    <!-- Delete User Confirmation Modal -->
    <div class="modal-overlay" id="delete-user-modal">
        <div class="modal" style="max-width: 450px;">
            <div class="modal-header">
                <h3 class="modal-title">‚ö†Ô∏è Confirm Delete User</h3>
                <button class="modal-close" onclick="closeDeleteUserModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="color: var(--gray-300); margin-bottom: 1rem;">Are you sure you want to delete this user? This action cannot be undone.</p>
                <div style="padding: 1rem; background: var(--navy-900); border-radius: 8px; border: 1px solid var(--red-400);">
                    <div style="font-weight: 600;" id="delete-user-name">User Name</div>
                    <div style="color: var(--gray-400); font-size: 0.875rem;" id="delete-user-email"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7500061007351018141c195b161a18">[email&#160;protected]</a></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="control-btn secondary" onclick="closeDeleteUserModal()">Cancel</button>
                <button class="control-btn" style="background-color: var(--red-400);" onclick="confirmDeleteUser()">Delete User</button>
            </div>
        </div>
    </div>
    
    <!-- API Key Modal -->
    <div class="modal-overlay" id="api-key-modal">
        <div class="modal" style="max-width: 550px;">
            <div class="modal-header">
                <h3 class="modal-title">üîë New API Key Generated</h3>
                <button class="modal-close" onclick="closeApiKeyModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="color: var(--maxam-gold); margin-bottom: 1rem;">‚ö†Ô∏è Copy this key now. You won't be able to see it again!</p>
                <div style="padding: 1rem; background: var(--navy-900); border-radius: 8px; font-family: monospace; word-break: break-all;" id="new-api-key">
                    maxam_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                </div>
                <div class="form-group" style="margin-top: 1rem;">
                    <label>Key Name</label>
                    <input type="text" class="control-input" id="api-key-name" placeholder="e.g., Production API">
                </div>
                <div class="form-group">
                    <label>Permissions</label>
                    <select class="control-select" id="api-key-permissions">
                        <option value="read">Read Only</option>
                        <option value="trade">Read + Trade</option>
                        <option value="full">Full Access</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="control-btn secondary" onclick="copyApiKey()">üìã Copy Key</button>
                <button class="control-btn" onclick="saveApiKey()">Save Key</button>
            </div>
        </div>
    </div>
    
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // ============================================
        // DATA - 96 AGENTS COMPLETE
        // ============================================
        
        // Legacy agents array (for backwards compatibility with dashboard)
        const agents = [
            { id: 'sentiment', name: 'Sentiment', category: 'Market Analysis', icon: 'üí≠', color: '#8B5CF6', confidence: 87, signal: 72 },
            { id: 'fundamental', name: 'Fundamental', category: 'Market Analysis', icon: 'üìä', color: '#06B6D4', confidence: 82, signal: 65 },
            { id: 'technical', name: 'Technical', category: 'Market Analysis', icon: 'üìà', color: '#10B981', confidence: 91, signal: 85 },
            { id: 'liquidity', name: 'Liquidity', category: 'Market Analysis', icon: 'üíß', color: '#3B82F6', confidence: 88, signal: 78 },
            { id: 'portfolio', name: 'Portfolio', category: 'Execution & Risk', icon: 'üéØ', color: '#8B5CF6', confidence: 92, signal: 88 },
            { id: 'risk', name: 'Risk', category: 'Execution & Risk', icon: 'üõ°Ô∏è', color: '#EF4444', confidence: 95, signal: 90 },
            { id: 'master', name: 'Master', category: 'Integration', icon: 'üß†', color: '#7C3AED', confidence: 94, signal: 88 }
        ];
        
        // ========== FULL 96 AGENT ARCHITECTURE ==========
        const allAgents = [];
        
        // Phase 0: Core Intelligence (7 Agents: #1-7)
        const phase0 = [
            { id: 1, agentId: '#1', name: 'Sentiment Agent', phase: 'phase0', icon: 'üí≠', function: 'NLP/social analysis', lines: 7500, status: 'active' },
            { id: 2, agentId: '#2', name: 'Fundamental Agent', phase: 'phase0', icon: 'üìä', function: 'Valuation analysis', lines: 7200, status: 'active' },
            { id: 3, agentId: '#3', name: 'Technical Agent', phase: 'phase0', icon: 'üìà', function: '50+ indicators', lines: 8100, status: 'active' },
            { id: 4, agentId: '#4', name: 'Liquidity Agent', phase: 'phase0', icon: 'üíß', function: 'Order routing', lines: 6800, status: 'active' },
            { id: 5, agentId: '#5', name: 'Portfolio Agent', phase: 'phase0', icon: 'üéØ', function: 'Optimization', lines: 7100, status: 'active' },
            { id: 6, agentId: '#6', name: 'Risk Agent', phase: 'phase0', icon: 'üõ°Ô∏è', function: 'VaR/CVaR', lines: 7800, status: 'active' },
            { id: 7, agentId: '#7', name: 'Master Agent', phase: 'phase0', icon: 'üß†', function: 'Orchestration', lines: 5500, status: 'active' }
        ];
        
        // Phase 1: Data Intelligence (44 Agents: #8-51)
        // CEX Connectors (8 agents: #8-15)
        const phase1CEX = [
            { id: 8, agentId: '#8', name: 'Binance Connector', phase: 'phase1', icon: 'üî∂', function: 'Binance OHLCV, orderbook', lines: 2200, status: 'active' },
            { id: 9, agentId: '#9', name: 'Coinbase Connector', phase: 'phase1', icon: 'üîµ', function: 'Coinbase market data', lines: 2100, status: 'active' },
            { id: 10, agentId: '#10', name: 'Kraken Connector', phase: 'phase1', icon: 'ü¶ë', function: 'Kraken spot & futures', lines: 2000, status: 'active' },
            { id: 11, agentId: '#11', name: 'OKX Connector', phase: 'phase1', icon: '‚≠ï', function: 'OKX derivatives', lines: 1900, status: 'active' },
            { id: 12, agentId: '#12', name: 'Bybit Connector', phase: 'phase1', icon: 'üü°', function: 'Bybit perps & options', lines: 1850, status: 'active' },
            { id: 13, agentId: '#13', name: 'Deribit Connector', phase: 'phase1', icon: 'üìä', function: 'Options & futures', lines: 2100, status: 'active' },
            { id: 14, agentId: '#14', name: 'KuCoin Connector', phase: 'phase1', icon: 'üü¢', function: 'KuCoin spot & margin', lines: 1800, status: 'active' },
            { id: 15, agentId: '#15', name: 'Gate.io Connector', phase: 'phase1', icon: 'üö™', function: 'Gate.io multi-chain', lines: 1750, status: 'active' }
        ];
        
        // DEX Connectors (6 agents: #16-21)
        const phase1DEX = [
            { id: 16, agentId: '#16', name: 'Jupiter Connector', phase: 'phase1', icon: 'ü™ê', function: 'Solana DEX aggregator', lines: 2400, status: 'active' },
            { id: 17, agentId: '#17', name: 'Raydium Connector', phase: 'phase1', icon: '‚òÄÔ∏è', function: 'Raydium AMM pools', lines: 2200, status: 'active' },
            { id: 18, agentId: '#18', name: 'Orca Connector', phase: 'phase1', icon: 'üêã', function: 'Orca whirlpools', lines: 2000, status: 'active' },
            { id: 19, agentId: '#19', name: 'Uniswap Connector', phase: 'phase1', icon: 'ü¶Ñ', function: 'Uniswap V2/V3', lines: 2300, status: 'active' },
            { id: 20, agentId: '#20', name: 'Curve Connector', phase: 'phase1', icon: 'üîÑ', function: 'Curve stablecoin', lines: 1900, status: 'active' },
            { id: 21, agentId: '#21', name: 'PancakeSwap Connector', phase: 'phase1', icon: 'ü•û', function: 'BSC multi-chain', lines: 1850, status: 'active' }
        ];
        
        // TradFi Connectors (6 agents: #22-27)
        const phase1TradFi = [
            { id: 22, agentId: '#22', name: 'Bloomberg Connector', phase: 'phase1', icon: 'üìà', function: 'B-PIPE quotes, news', lines: 2500, status: 'active' },
            { id: 23, agentId: '#23', name: 'Refinitiv Connector', phase: 'phase1', icon: 'üì∞', function: 'Reuters news, TradFi', lines: 2300, status: 'active' },
            { id: 24, agentId: '#24', name: 'CME Connector', phase: 'phase1', icon: 'üåæ', function: 'CME futures FIX', lines: 2400, status: 'active' },
            { id: 25, agentId: '#25', name: 'IBKR Connector', phase: 'phase1', icon: 'üè¶', function: 'Interactive Brokers', lines: 2200, status: 'active' },
            { id: 26, agentId: '#26', name: 'SEC EDGAR Connector', phase: 'phase1', icon: 'üìã', function: '13F, insider trades', lines: 1800, status: 'active' },
            { id: 27, agentId: '#27', name: 'FRED Connector', phase: 'phase1', icon: 'üèõÔ∏è', function: 'Fed economic data', lines: 1600, status: 'active' }
        ];
        
        // OnChain Processors (6 agents: #28-33)
        const phase1OnChain = [
            { id: 28, agentId: '#28', name: 'Helius Processor', phase: 'phase1', icon: '‚òÄÔ∏è', function: 'Solana transactions', lines: 2100, status: 'active' },
            { id: 29, agentId: '#29', name: 'Dune Analytics', phase: 'phase1', icon: 'üìä', function: 'SQL blockchain queries', lines: 1800, status: 'active' },
            { id: 30, agentId: '#30', name: 'Nansen Processor', phase: 'phase1', icon: 'üîç', function: 'Smart money tracking', lines: 2000, status: 'active' },
            { id: 31, agentId: '#31', name: 'Glassnode Processor', phase: 'phase1', icon: 'üîó', function: 'On-chain metrics', lines: 1900, status: 'active' },
            { id: 32, agentId: '#32', name: 'DefiLlama Processor', phase: 'phase1', icon: 'ü¶ô', function: 'TVL & protocol data', lines: 1700, status: 'active' },
            { id: 33, agentId: '#33', name: 'Flipside Processor', phase: 'phase1', icon: 'üìà', function: 'Cross-chain analytics', lines: 1650, status: 'active' }
        ];
        
        // Social & News (6 agents: #34-39)
        const phase1Social = [
            { id: 34, agentId: '#34', name: 'Twitter/X Analyzer', phase: 'phase1', icon: 'üê¶', function: 'Social sentiment', lines: 2200, status: 'active' },
            { id: 35, agentId: '#35', name: 'Discord Monitor', phase: 'phase1', icon: 'üí¨', function: 'Community tracking', lines: 1800, status: 'active' },
            { id: 36, agentId: '#36', name: 'Telegram Analyzer', phase: 'phase1', icon: '‚úàÔ∏è', function: 'Channel monitoring', lines: 1700, status: 'active' },
            { id: 37, agentId: '#37', name: 'Reddit Scraper', phase: 'phase1', icon: 'üî¥', function: 'Subreddit analysis', lines: 1600, status: 'active' },
            { id: 38, agentId: '#38', name: 'News Aggregator', phase: 'phase1', icon: 'üì∞', function: 'Multi-source news', lines: 2000, status: 'active' },
            { id: 39, agentId: '#39', name: 'Research Parser', phase: 'phase1', icon: 'üìö', function: 'Research reports', lines: 1900, status: 'active' }
        ];
        
        // Stream Processing (6 agents: #40-45)
        const phase1Stream = [
            { id: 40, agentId: '#40', name: 'WebSocket Manager', phase: 'phase1', icon: 'üîå', function: 'Connection pooling', lines: 2400, status: 'active' },
            { id: 41, agentId: '#41', name: 'Data Normalizer', phase: 'phase1', icon: '‚öôÔ∏è', function: 'Format standardization', lines: 2100, status: 'active' },
            { id: 42, agentId: '#42', name: 'Time Series Store', phase: 'phase1', icon: '‚è∞', function: 'TimescaleDB writes', lines: 1800, status: 'active' },
            { id: 43, agentId: '#43', name: 'Cache Manager', phase: 'phase1', icon: 'üíæ', function: 'Redis caching', lines: 1600, status: 'active' },
            { id: 44, agentId: '#44', name: 'Event Router', phase: 'phase1', icon: 'üîÄ', function: 'Message routing', lines: 1900, status: 'active' },
            { id: 45, agentId: '#45', name: 'Backfill Manager', phase: 'phase1', icon: 'üì•', function: 'Historical data', lines: 2000, status: 'active' }
        ];
        
        // Infrastructure (6 agents: #46-51)
        const phase1Infra = [
            { id: 46, agentId: '#46', name: 'Kafka Stream Processor', phase: 'phase1', icon: 'üì®', function: 'Event streaming', lines: 2200, status: 'active' },
            { id: 47, agentId: '#47', name: 'Schema Registry', phase: 'phase1', icon: 'üìã', function: 'Data schemas', lines: 1500, status: 'active' },
            { id: 48, agentId: '#48', name: 'Dead Letter Handler', phase: 'phase1', icon: 'üì≠', function: 'Error handling', lines: 1400, status: 'active' },
            { id: 49, agentId: '#49', name: 'Rate Limiter', phase: 'phase1', icon: 'üö¶', function: 'API rate limiting', lines: 1300, status: 'active' },
            { id: 50, agentId: '#50', name: 'Health Checker', phase: 'phase1', icon: 'üíì', function: 'Endpoint health', lines: 1200, status: 'active' },
            { id: 51, agentId: '#51', name: 'Metrics Collector', phase: 'phase1', icon: 'üìä', function: 'Prometheus metrics', lines: 1400, status: 'active' }
        ];
        
        // Phase 2: Execution Suite (7 Agents: #52-58)
        const phase2 = [
            { id: 52, agentId: '#52', name: 'Order Management System', phase: 'phase2', icon: 'üìù', function: 'Order lifecycle', lines: 8500, status: 'active' },
            { id: 53, agentId: '#53', name: 'Smart Order Router', phase: 'phase2', icon: 'üîÄ', function: 'Best execution', lines: 7800, status: 'active' },
            { id: 54, agentId: '#54', name: 'Execution Algorithm', phase: 'phase2', icon: '‚ö°', function: 'TWAP/VWAP/Iceberg', lines: 9200, status: 'active' },
            { id: 55, agentId: '#55', name: 'Fill Manager', phase: 'phase2', icon: '‚úÖ', function: 'Fill tracking', lines: 6500, status: 'active' },
            { id: 56, agentId: '#56', name: 'Trade Reconciliation', phase: 'phase2', icon: 'üîÑ', function: 'Position matching', lines: 7200, status: 'active' },
            { id: 57, agentId: '#57', name: 'Execution Analytics', phase: 'phase2', icon: 'üìà', function: 'TCA analysis', lines: 6800, status: 'active' },
            { id: 58, agentId: '#58', name: 'Arbitrage Agent', phase: 'phase2', icon: 'üíπ', function: 'Cross-venue arb', lines: 8100, status: 'active' }
        ];
        
        // Phase 2.5: Risk Enhancement (5 Agents: #59-63)
        const phase25 = [
            { id: 59, agentId: '#59', name: 'Front Running Detection', phase: 'phase2.5', icon: 'üèÉ', function: 'MEV protection', lines: 6000, status: 'active' },
            { id: 60, agentId: '#60', name: 'Back Running Detection', phase: 'phase2.5', icon: 'üëÄ', function: 'Copy trade detect', lines: 6000, status: 'active' },
            { id: 61, agentId: '#61', name: 'Counterparty Risk V2', phase: 'phase2.5', icon: 'üè¶', function: 'Health monitoring', lines: 6740, status: 'active' },
            { id: 62, agentId: '#62', name: 'Liquidity Risk V2', phase: 'phase2.5', icon: 'üíß', function: 'Stress testing', lines: 5334, status: 'active' },
            { id: 63, agentId: '#63', name: 'Insider Detection', phase: 'phase2.5', icon: 'üïµÔ∏è', function: 'Manipulation detect', lines: 6000, status: 'active' }
        ];
        
        // Phase 3: Monitoring Suite (10 Agents: #64-73)
        const phase3 = [
            { id: 64, agentId: '#64', name: 'Agent Health Monitor', phase: 'phase3', icon: 'üè•', function: 'Health monitoring', lines: 9500, status: 'active' },
            { id: 65, agentId: '#65', name: 'Vulnerability Scanner', phase: 'phase3', icon: 'üîí', function: 'Security scanning', lines: 10200, status: 'active' },
            { id: 66, agentId: '#66', name: 'Performance Analyzer', phase: 'phase3', icon: 'üìà', function: 'Profiling', lines: 9800, status: 'active' },
            { id: 67, agentId: '#67', name: 'Upgrade Recommender', phase: 'phase3', icon: '‚¨ÜÔ∏è', function: 'Version tracking', lines: 9400, status: 'active' },
            { id: 68, agentId: '#68', name: 'Orchestration Monitor', phase: 'phase3', icon: 'üé≠', function: 'Communication', lines: 10000, status: 'active' },
            { id: 69, agentId: '#69', name: 'Alpha Attribution', phase: 'phase3', icon: 'üí∞', function: 'ROI analysis', lines: 10100, status: 'active' },
            { id: 70, agentId: '#70', name: 'Anomaly Detector', phase: 'phase3', icon: 'üéØ', function: 'ML detection', lines: 5500, status: 'active' },
            { id: 71, agentId: '#71', name: 'Capacity Planner', phase: 'phase3', icon: 'üìä', function: 'Resource planning', lines: 4200, status: 'active' },
            { id: 72, agentId: '#72', name: 'Config Manager', phase: 'phase3', icon: '‚öôÔ∏è', function: 'Configuration', lines: 3800, status: 'active' },
            { id: 73, agentId: '#73', name: 'Audit Logger', phase: 'phase3', icon: 'üìù', function: 'Audit trails', lines: 4500, status: 'active' }
        ];
        
        // Phase 4: DeFi Protocols (6 Agents: #74-79) - Development
        const phase4Defi = [
            { id: 74, agentId: '#74', name: 'Yield Optimizer', phase: 'phase4-defi', icon: 'üåæ', function: 'Yield farming', lines: 6000, status: 'development' },
            { id: 75, agentId: '#75', name: 'LP Position Manager', phase: 'phase4-defi', icon: 'üíß', function: 'AMM positions', lines: 6000, status: 'development' },
            { id: 76, agentId: '#76', name: 'Lending Protocol', phase: 'phase4-defi', icon: 'üè¶', function: 'Aave/Compound', lines: 6000, status: 'development' },
            { id: 77, agentId: '#77', name: 'Staking Optimizer', phase: 'phase4-defi', icon: 'ü•©', function: 'Validator select', lines: 6000, status: 'development' },
            { id: 78, agentId: '#78', name: 'Bridge Monitor', phase: 'phase4-defi', icon: 'üåâ', function: 'Cross-chain', lines: 6000, status: 'development' },
            { id: 79, agentId: '#79', name: 'Governance Agent', phase: 'phase4-defi', icon: 'üó≥Ô∏è', function: 'DAO voting', lines: 6000, status: 'development' }
        ];
        
        // Phase 4: Advanced Analytics (6 Agents: #80-85) - Development
        const phase4Analytics = [
            { id: 80, agentId: '#80', name: 'Market Regime', phase: 'phase4-analytics', icon: 'üîÑ', function: 'Regime detection', lines: 6000, status: 'development' },
            { id: 81, agentId: '#81', name: 'Correlation Analyzer', phase: 'phase4-analytics', icon: 'üîó', function: 'Correlations', lines: 6000, status: 'development' },
            { id: 82, agentId: '#82', name: 'Factor Model', phase: 'phase4-analytics', icon: 'üìê', function: 'Factor models', lines: 6000, status: 'development' },
            { id: 83, agentId: '#83', name: 'Macro Intelligence', phase: 'phase4-analytics', icon: 'üåç', function: 'Fed analysis', lines: 6000, status: 'development' },
            { id: 84, agentId: '#84', name: 'Options Analytics', phase: 'phase4-analytics', icon: 'üìä', function: 'Greeks/vol', lines: 6000, status: 'development' },
            { id: 85, agentId: '#85', name: 'Predictive ML', phase: 'phase4-analytics', icon: 'ü§ñ', function: 'Price prediction', lines: 6000, status: 'development' }
        ];
        
        // Phase 5: Operations (5 Agents: #86-90) - Development
        const phase5Ops = [
            { id: 86, agentId: '#86', name: 'API Gateway', phase: 'phase5-ops', icon: 'üîå', function: 'API management', lines: 6000, status: 'development' },
            { id: 87, agentId: '#87', name: 'Data Lake Manager', phase: 'phase5-ops', icon: 'üóÑÔ∏è', function: 'Data management', lines: 6000, status: 'development' },
            { id: 88, agentId: '#88', name: 'Disaster Recovery', phase: 'phase5-ops', icon: 'üî•', function: 'Failover', lines: 6000, status: 'development' },
            { id: 89, agentId: '#89', name: 'Secret Manager', phase: 'phase5-ops', icon: 'üîê', function: 'Key rotation', lines: 6000, status: 'development' },
            { id: 90, agentId: '#90', name: 'Deployment Manager', phase: 'phase5-ops', icon: 'üöÄ', function: 'Blue-green deploy', lines: 6000, status: 'development' }
        ];
        
        // Phase 5: Compliance (6 Agents: #91-96) - Development
        const phase5Compliance = [
            { id: 91, agentId: '#91', name: 'Investor Reporting', phase: 'phase5-compliance', icon: 'üìÑ', function: 'NAV calculation', lines: 6000, status: 'development' },
            { id: 92, agentId: '#92', name: 'Tax Lot Tracker', phase: 'phase5-compliance', icon: 'üíµ', function: 'Tax optimization', lines: 6000, status: 'development' },
            { id: 93, agentId: '#93', name: 'Regulatory Reporter', phase: 'phase5-compliance', icon: 'üìã', function: 'Form PF/13F', lines: 6000, status: 'development' },
            { id: 94, agentId: '#94', name: 'Risk Report Gen', phase: 'phase5-compliance', icon: 'üìä', function: 'Risk reports', lines: 6000, status: 'development' },
            { id: 95, agentId: '#95', name: 'Performance Attribution', phase: 'phase5-compliance', icon: 'üìà', function: 'Brinson', lines: 6000, status: 'development' },
            { id: 96, agentId: '#96', name: 'Compliance Monitor', phase: 'phase5-compliance', icon: '‚úÖ', function: 'Real-time checks', lines: 6000, status: 'development' }
        ];
        
        // Combine all Phase 1 agents
        const phase1 = [...phase1CEX, ...phase1DEX, ...phase1TradFi, ...phase1OnChain, ...phase1Social, ...phase1Stream, ...phase1Infra];
        
        // Combine ALL agents
        allAgents.push(...phase0, ...phase1, ...phase2, ...phase25, ...phase3, ...phase4Defi, ...phase4Analytics, ...phase5Ops, ...phase5Compliance);
        
        // Add health scores and versions
        allAgents.forEach(agent => {
            if (agent.status === 'active') {
                agent.healthScore = 70 + Math.floor(Math.random() * 30);
                agent.version = `1.${Math.floor(Math.random() * 5)}.${Math.floor(Math.random() * 10)}`;
                agent.latestVersion = '1.4.0';
                agent.latency = 5 + Math.floor(Math.random() * 15);
                agent.cpu = 20 + Math.floor(Math.random() * 60);
                agent.memory = 30 + Math.floor(Math.random() * 50);
                agent.uptime = 99 + Math.random();
            } else {
                agent.healthScore = 0;
                agent.version = '-';
                agent.latestVersion = '1.0.0';
                agent.latency = 0;
                agent.cpu = 0;
                agent.memory = 0;
                agent.uptime = 0;
            }
        });
        
        // Phase summary
        const phases = [
            { id: 'phase0', name: 'Core Intelligence', count: 7, status: 'active' },
            { id: 'phase1', name: 'Data Intelligence', count: 44, status: 'active' },
            { id: 'phase2', name: 'Execution Suite', count: 7, status: 'active' },
            { id: 'phase2.5', name: 'Risk Enhancement', count: 5, status: 'active' },
            { id: 'phase3', name: 'Monitoring Suite', count: 10, status: 'active' },
            { id: 'phase4-defi', name: 'DeFi Protocols', count: 6, status: 'development' },
            { id: 'phase4-analytics', name: 'Advanced Analytics', count: 6, status: 'development' },
            { id: 'phase5-ops', name: 'Operations', count: 5, status: 'development' },
            { id: 'phase5-compliance', name: 'Compliance', count: 6, status: 'development' }
        ];
        
        // Expanded to 17 assets
        const assets = [
            { symbol: 'SOL', name: 'Solana', class: 'Crypto', price: 98.42, change: 4.2, allocation: 32.5, color: '#9945FF' },
            { symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', price: 97842.50, change: 1.8, allocation: 14.2, color: '#F7931A' },
            { symbol: 'ETH', name: 'Ethereum', class: 'Crypto', price: 3542.80, change: 2.1, allocation: 9.8, color: '#627EEA' },
            { symbol: 'XRP', name: 'XRP', class: 'Crypto', price: 1.42, change: 3.5, allocation: 4.2, color: '#23292F' },
            { symbol: 'BNB', name: 'BNB Chain', class: 'Crypto', price: 642.30, change: 1.2, allocation: 3.2, color: '#F3BA2F' },
            { symbol: 'ADA', name: 'Cardano', class: 'Crypto', price: 0.62, change: 2.8, allocation: 2.1, color: '#0033AD' },
            { symbol: 'XLM', name: 'Stellar', class: 'Crypto', price: 0.38, change: 1.5, allocation: 1.4, color: '#14B6E7' },
            { symbol: 'USDT', name: 'Tether', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 6.8, color: '#26A17B' },
            { symbol: 'USDC', name: 'USD Coin', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 5.2, color: '#2775CA' },
            { symbol: 'SPY', name: 'S&P 500 ETF', class: 'Equity', price: 598.42, change: 0.4, allocation: 5.2, color: '#22C55E' },
            { symbol: 'QQQ', name: 'Nasdaq 100 ETF', class: 'Equity', price: 518.25, change: 0.6, allocation: 2.8, color: '#0066FF' },
            { symbol: 'TLT', name: 'Treasury Bonds', class: 'Fixed Income', price: 92.15, change: -0.2, allocation: 4.8, color: '#0EA5E9' },
            { symbol: 'GLD', name: 'Gold ETF', class: 'Commodity', price: 242.80, change: 0.8, allocation: 3.2, color: '#EAB308' },
            { symbol: 'SLV', name: 'Silver ETF', class: 'Commodity', price: 28.42, change: 1.2, allocation: 1.5, color: '#C0C0C0' },
            { symbol: 'USO', name: 'Oil ETF', class: 'Commodity', price: 72.85, change: -0.8, allocation: 1.2, color: '#000000' },
            { symbol: 'VNQ', name: 'Real Estate ETF', class: 'REIT', price: 94.20, change: 0.3, allocation: 1.4, color: '#8B4513' },
            { symbol: 'VIX', name: 'Volatility Index', class: 'Derivative', price: 14.82, change: -2.4, allocation: 0.5, color: '#EF4444' }
        ];
        
        const allocationData = [
            { name: 'Crypto', value: 67.4, color: '#8B5CF6' },
            { name: 'Stablecoins', value: 12.0, color: '#6B7280' },
            { name: 'Equities', value: 8.0, color: '#22C55E' },
            { name: 'Fixed Income', value: 4.8, color: '#0EA5E9' },
            { name: 'Commodities', value: 5.9, color: '#EAB308' },
            { name: 'Other', value: 1.9, color: '#EC4899' }
        ];
        
        // Crypto exchanges
        const cryptoVenues = [
            { name: 'Jupiter', volume: 2.84, trades: 12450, fillRate: 99.2, icon: 'ü™ê' },
            { name: 'Binance', volume: 1.85, trades: 8920, fillRate: 99.8, icon: 'üî∂' },
            { name: 'Coinbase', volume: 0.92, trades: 4210, fillRate: 99.5, icon: 'üîµ' },
            { name: 'Kraken', volume: 0.68, trades: 3280, fillRate: 99.4, icon: 'ü¶ë' },
            { name: 'Crypto.com', volume: 0.52, trades: 2450, fillRate: 99.1, icon: 'üíé' },
            { name: 'Deribit', volume: 0.38, trades: 2100, fillRate: 98.8, icon: 'üìä' }
        ];
        
        // Traditional/Index venues
        const tradfiVenues = [
            { name: 'NASDAQ', volume: 1.24, trades: 4850, fillRate: 99.9, icon: 'üìà' },
            { name: 'NYSE', volume: 0.98, trades: 3920, fillRate: 99.9, icon: 'üèõÔ∏è' },
            { name: 'DOW', volume: 0.72, trades: 2840, fillRate: 99.8, icon: 'üìä' },
            { name: 'CME', volume: 0.45, trades: 1850, fillRate: 99.7, icon: 'üåæ' },
            { name: 'XAU (Gold)', volume: 0.38, trades: 1420, fillRate: 99.6, icon: 'ü•á' },
            { name: 'IBKR', volume: 0.28, trades: 980, fillRate: 99.9, icon: 'üè¶' }
        ];
        
        const tenYearData = [
            { year: '2026', return: 82.15 },
            { year: '2027', return: 12.38 },
            { year: '2028', return: 14.82 },
            { year: '2029', return: 84.23 },
            { year: '2030', return: 118.45 },
            { year: '2031', return: 6.92 },
            { year: '2032', return: 17.65 },
            { year: '2033', return: 79.82 },
            { year: '2034', return: 105.38 },
            { year: '2035', return: 9.87 }
        ];
        
        // ROI Comparison Data
        const roiComparison = [
            { name: 'Maxam Capital', roi: 62.8, color: '#1E40AF' },
            { name: 'BTC', roi: 28.5, color: '#F7931A' },
            { name: 'ETH', roi: 24.2, color: '#627EEA' },
            { name: 'SOL', roi: 45.8, color: '#9945FF' },
            { name: 'NASDAQ 100', roi: 12.4, color: '#0066FF' },
            { name: 'QQQ', roi: 11.8, color: '#22C55E' },
            { name: 'DOW', roi: 8.2, color: '#1E3A8A' },
            { name: 'Nifty 50', roi: 10.5, color: '#FF9933' },
            { name: 'XAU (Gold)', roi: 6.8, color: '#EAB308' },
            { name: 'Silver', roi: 4.2, color: '#C0C0C0' },
            { name: 'Real Estate', roi: 5.5, color: '#8B4513' },
            { name: 'CME Futures', roi: 7.2, color: '#14B8A6' }
        ];
        
        // Benchmark comparison
        const benchmarks = [
            { name: 'Maxam Capital (IQ-167)', y1: 82.15, y3: 52.4, y5: 62.8, y10: 65.8, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'NASDAQ 100', y1: 28.4, y3: 15.2, y5: 12.4, y10: 14.8, sharpe: 0.72, maxDD: -33.0 },
            { name: 'QQQ ETF', y1: 27.8, y3: 14.8, y5: 11.8, y10: 14.2, sharpe: 0.68, maxDD: -34.2 },
            { name: 'DOW Jones', y1: 12.5, y3: 9.2, y5: 8.2, y10: 9.8, sharpe: 0.58, maxDD: -22.8 },
            { name: 'Nifty 50', y1: 18.2, y3: 12.4, y5: 10.5, y10: 11.2, sharpe: 0.62, maxDD: -38.5 },
            { name: 'XAU (Gold)', y1: 8.5, y3: 7.2, y5: 6.8, y10: 7.5, sharpe: 0.42, maxDD: -18.4 },
            { name: 'Silver Index', y1: 5.2, y3: 4.8, y5: 4.2, y10: 5.5, sharpe: 0.28, maxDD: -42.5 },
            { name: 'Real Estate Index', y1: 4.8, y3: 5.2, y5: 5.5, y10: 6.2, sharpe: 0.45, maxDD: -28.2 },
            { name: 'CME Index', y1: 9.2, y3: 7.8, y5: 7.2, y10: 8.5, sharpe: 0.52, maxDD: -24.8 },
            { name: 'ETH', y1: 48.5, y3: 28.4, y5: 24.2, y10: 32.5, sharpe: 0.58, maxDD: -82.0 },
            { name: 'SOL', y1: 124.5, y3: 52.8, y5: 45.8, y10: 48.2, sharpe: 0.68, maxDD: -94.5 },
            { name: 'BTC', y1: 62.4, y3: 32.5, y5: 28.5, y10: 42.8, sharpe: 0.62, maxDD: -77.0 }
        ];
        
        // Investor comparison
        const investorComparisons = [
            { name: 'Maxam Capital', ytd: 82.15, y1: 82.15, y3: 52.4, vol: 28.4, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'Hedge Fund Index', ytd: 8.2, y1: 9.5, y3: 7.8, vol: 12.5, sharpe: 0.72, maxDD: -18.5 },
            { name: 'S&P 500', ytd: 24.5, y1: 26.2, y3: 10.8, vol: 15.8, sharpe: 0.65, maxDD: -24.5 },
            { name: 'NASDAQ 100', ytd: 28.4, y1: 32.5, y3: 15.2, vol: 22.4, sharpe: 0.72, maxDD: -33.0 },
            { name: 'DOW Jones', ytd: 12.5, y1: 14.8, y3: 9.2, vol: 14.2, sharpe: 0.58, maxDD: -22.8 },
            { name: 'XAU (Gold)', ytd: 8.5, y1: 12.2, y3: 7.2, vol: 14.2, sharpe: 0.42, maxDD: -18.4 },
            { name: 'Bitcoin', ytd: 62.4, y1: 85.2, y3: 32.5, vol: 72.5, sharpe: 0.62, maxDD: -77.0 },
            { name: 'Treasury Bonds', ytd: -2.5, y1: 1.8, y3: -1.2, vol: 8.5, sharpe: 0.22, maxDD: -18.2 }
        ];
        
        const riskLimits = [
            { name: 'Portfolio VaR', current: 0.9, limit: 2.0 },
            { name: 'Single Position', current: 12.8, limit: 15.0 },
            { name: 'Gross Leverage', current: 1.8, limit: 3.0 },
            { name: 'Crypto Exposure', current: 82, limit: 85.0 },
            { name: 'Counterparty', current: 18.5, limit: 25.0 },
            { name: 'Illiquid Assets', current: 4.2, limit: 10.0 }
        ];
        
        const phaseData = [
            { phase: 'Bull', return: 111.92, winRate: 78.5, sharpe: 3.12, color: '#22C55E' },
            { phase: 'Bear', return: 16.24, winRate: 74.8, sharpe: 2.45, color: '#EF4444' },
            { phase: 'Peak', return: 9.72, winRate: 72.1, sharpe: 1.89, color: '#F59E0B' },
            { phase: 'Recovery', return: 82.03, winRate: 76.2, sharpe: 2.78, color: '#8B5CF6' }
        ];
        
        // Trader P&L data
        const traderPnL = [
            { name: 'John Smith', pnl: 2450000, trades: 142, winRate: 68.5 },
            { name: 'Sarah Chen', pnl: 1820000, trades: 98, winRate: 72.4 },
            { name: 'Michael Ross', pnl: -450000, trades: 65, winRate: 52.3 },
            { name: 'Emily Davis', pnl: 980000, trades: 87, winRate: 64.8 },
            { name: 'James Wilson', pnl: 1240000, trades: 112, winRate: 66.2 }
        ];
        
        // Quarterly reports
        const quarterlyReports = [
            { name: 'Q3 2024 Report', date: 'Oct 15, 2024', type: 'pdf' },
            { name: 'Q2 2024 Report', date: 'Jul 15, 2024', type: 'pdf' },
            { name: 'Q1 2024 Report', date: 'Apr 15, 2024', type: 'pdf' },
            { name: 'Q4 2023 Report', date: 'Jan 15, 2024', type: 'pdf' },
            { name: 'Annual Report 2023', date: 'Feb 28, 2024', type: 'pdf' }
        ];
        
        // Automated AI Reports
        const automatedReports = [
            { id: 1, name: 'Full Market Analysis', time: '08:00 UTC', date: 'Today', status: 'delivered', assets: 17, signals: 42, topPick: 'SOL', sentiment: 'Bullish' },
            { id: 2, name: 'Full Market Analysis', time: '14:00 UTC', date: 'Today', status: 'delivered', assets: 17, signals: 38, topPick: 'BTC', sentiment: 'Bullish' },
            { id: 3, name: 'Full Market Analysis', time: '20:00 UTC', date: 'Yesterday', status: 'delivered', assets: 17, signals: 35, topPick: 'ETH', sentiment: 'Neutral' },
            { id: 4, name: 'Full Market Analysis', time: '14:00 UTC', date: 'Yesterday', status: 'delivered', assets: 17, signals: 41, topPick: 'SOL', sentiment: 'Bullish' },
            { id: 5, name: 'Full Market Analysis', time: '08:00 UTC', date: 'Yesterday', status: 'delivered', assets: 17, signals: 36, topPick: 'QQQ', sentiment: 'Bullish' }
        ];
        
        // Asset report data generator
        const assetReportData = {
            SOL: { sentiment: 85, technical: 78, fundamental: 82, risk: 72, recommendation: 'STRONG BUY', target: 142.50, stopLoss: 82.00, confidence: 87 },
            BTC: { sentiment: 72, technical: 68, fundamental: 85, risk: 65, recommendation: 'BUY', target: 125000, stopLoss: 85000, confidence: 82 },
            ETH: { sentiment: 68, technical: 72, fundamental: 78, risk: 68, recommendation: 'BUY', target: 4200, stopLoss: 3100, confidence: 79 },
            XRP: { sentiment: 62, technical: 58, fundamental: 55, risk: 52, recommendation: 'HOLD', target: 1.85, stopLoss: 1.10, confidence: 68 },
            BNB: { sentiment: 65, technical: 62, fundamental: 70, risk: 60, recommendation: 'HOLD', target: 720, stopLoss: 580, confidence: 72 },
            ADA: { sentiment: 55, technical: 48, fundamental: 52, risk: 45, recommendation: 'HOLD', target: 0.85, stopLoss: 0.48, confidence: 62 },
            XLM: { sentiment: 52, technical: 45, fundamental: 48, risk: 42, recommendation: 'HOLD', target: 0.52, stopLoss: 0.28, confidence: 58 },
            USDT: { sentiment: 50, technical: 50, fundamental: 95, risk: 85, recommendation: 'STABLE', target: 1.00, stopLoss: 0.99, confidence: 95 },
            USDC: { sentiment: 50, technical: 50, fundamental: 98, risk: 88, recommendation: 'STABLE', target: 1.00, stopLoss: 0.99, confidence: 98 },
            SPY: { sentiment: 68, technical: 72, fundamental: 75, risk: 70, recommendation: 'BUY', target: 650, stopLoss: 560, confidence: 78 },
            QQQ: { sentiment: 72, technical: 75, fundamental: 72, risk: 68, recommendation: 'BUY', target: 580, stopLoss: 480, confidence: 76 },
            TLT: { sentiment: 45, technical: 42, fundamental: 55, risk: 62, recommendation: 'HOLD', target: 98, stopLoss: 85, confidence: 65 },
            GLD: { sentiment: 62, technical: 58, fundamental: 68, risk: 72, recommendation: 'HOLD', target: 265, stopLoss: 225, confidence: 70 },
            SLV: { sentiment: 58, technical: 52, fundamental: 55, risk: 48, recommendation: 'HOLD', target: 32, stopLoss: 24, confidence: 62 },
            USO: { sentiment: 42, technical: 38, fundamental: 45, risk: 35, recommendation: 'SELL', target: 65, stopLoss: 78, confidence: 58 },
            VNQ: { sentiment: 55, technical: 52, fundamental: 58, risk: 55, recommendation: 'HOLD', target: 102, stopLoss: 85, confidence: 65 },
            VIX: { sentiment: 35, technical: 42, fundamental: 40, risk: 25, recommendation: 'HEDGE', target: 18, stopLoss: 12, confidence: 72 }
        };
        
        // Audit data
        const auditReports = [
            { id: 1, type: 'Daily', date: 'Nov 28, 2024', time: '06:00 UTC', status: 'passed', findings: 0, icon: 'üìÖ' },
            { id: 2, type: 'Daily', date: 'Nov 27, 2024', time: '06:00 UTC', status: 'passed', findings: 0, icon: 'üìÖ' },
            { id: 3, type: 'Monthly', date: 'Nov 1, 2024', time: '00:00 UTC', status: 'passed', findings: 2, icon: 'üìÜ' },
            { id: 4, type: 'Daily', date: 'Nov 26, 2024', time: '06:00 UTC', status: 'passed', findings: 0, icon: 'üìÖ' },
            { id: 5, type: 'Quarterly', date: 'Oct 1, 2024', time: '00:00 UTC', status: 'passed', findings: 1, icon: 'üìä' }
        ];
        
        const positionReconciliation = [
            { name: 'Crypto Positions', internal: '$6.14B', external: '$6.14B', variance: '0.00%', status: 'matched' },
            { name: 'Equity Positions', internal: '$729M', external: '$729M', variance: '0.00%', status: 'matched' },
            { name: 'Fixed Income', internal: '$437M', external: '$437M', variance: '0.00%', status: 'matched' },
            { name: 'Commodities', internal: '$538M', external: '$538M', variance: '0.00%', status: 'matched' },
            { name: 'Stablecoins', internal: '$1.09B', external: '$1.09B', variance: '0.00%', status: 'matched' }
        ];
        
        const cashVerification = [
            { custodian: 'Fireblocks', balance: '$485.2M', verified: true, lastCheck: '2 min ago' },
            { custodian: 'Coinbase Custody', balance: '$892.4M', verified: true, lastCheck: '2 min ago' },
            { custodian: 'BitGo', balance: '$324.8M', verified: true, lastCheck: '2 min ago' },
            { custodian: 'IBKR', balance: '$245.6M', verified: true, lastCheck: '5 min ago' },
            { custodian: 'Bank of America', balance: '$142.8M', verified: true, lastCheck: '1 hour ago' }
        ];
        
        const complianceChecks = [
            { name: 'Position Limits', status: 'passed', detail: 'All within limits' },
            { name: 'Leverage Ratio', status: 'passed', detail: '1.8x (Max 3.0x)' },
            { name: 'Counterparty Exposure', status: 'passed', detail: '18.5% (Max 25%)' },
            { name: 'Liquidity Coverage', status: 'passed', detail: '142% (Min 100%)' },
            { name: 'Regulatory Reporting', status: 'passed', detail: 'Up to date' },
            { name: 'KYC/AML Checks', status: 'passed', detail: 'All verified' }
        ];
        
        // Security data
        const threatFeed = [
            { time: '2 min ago', type: 'Blocked', severity: 'low', description: 'Suspicious IP blocked: 185.243.xxx.xxx (Russia)', icon: 'üö´' },
            { time: '8 min ago', type: 'Detected', severity: 'medium', description: 'Unusual API call pattern detected - Rate limited', icon: '‚ö†Ô∏è' },
            { time: '15 min ago', type: 'Blocked', severity: 'low', description: 'Failed SSH attempt: 45.142.xxx.xxx (China)', icon: 'üö´' },
            { time: '23 min ago', type: 'Info', severity: 'info', description: 'Firewall rules updated automatically', icon: '‚ÑπÔ∏è' },
            { time: '45 min ago', type: 'Blocked', severity: 'low', description: 'SQL injection attempt blocked on API endpoint', icon: 'üö´' },
            { time: '1 hour ago', type: 'Detected', severity: 'low', description: 'Port scan detected from 91.134.xxx.xxx', icon: 'üîç' },
            { time: '2 hours ago', type: 'Blocked', severity: 'medium', description: 'Brute force attack mitigated - 2,400 attempts', icon: 'üö´' }
        ];
        
        const anomalyDetection = [
            { metric: 'Trade Volume', status: 'normal', deviation: '+12%', description: 'Within expected range' },
            { metric: 'API Latency', status: 'normal', deviation: '+3ms', description: 'P99: 8.2ms' },
            { metric: 'Login Patterns', status: 'normal', deviation: '0%', description: 'No anomalies detected' },
            { metric: 'Withdrawal Requests', status: 'alert', deviation: '+45%', description: 'Elevated - Under review' },
            { metric: 'Network Traffic', status: 'normal', deviation: '+8%', description: 'Within baseline' },
            { metric: 'Error Rate', status: 'normal', deviation: '-2%', description: '0.02% error rate' }
        ];
        
        const ddosMetrics = [
            { metric: 'Requests/sec', value: '45,280', status: 'normal' },
            { metric: 'Blocked Requests (24h)', value: '892,450', status: 'normal' },
            { metric: 'Attack Attempts (24h)', value: '12', status: 'normal' },
            { metric: 'Largest Attack Mitigated', value: '1.2 Gbps', status: 'normal' }
        ];
        
        const frontrunAlerts = [
            { time: '3 hours ago', pair: 'SOL/USDC', type: 'Sandwich', amount: '$45,200', status: 'Blocked', action: 'Rerouted via private mempool' },
            { time: '8 hours ago', pair: 'ETH/USDT', type: 'Front-run', amount: '$128,500', status: 'Detected', action: 'Delayed execution' },
            { time: '1 day ago', pair: 'BTC/USDC', type: 'Sandwich', amount: '$892,000', status: 'Blocked', action: 'MEV protection active' },
            { time: '2 days ago', pair: 'SOL/USDC', type: 'Back-run', amount: '$34,800', status: 'Detected', action: 'No action needed' }
        ];
        
        const companyWallets = [
            { name: 'Hot Wallet (Trading)', address: '8xH4...9kPm', network: 'Solana', balance: '$485.2M', lastActivity: '2 min ago', status: 'active', multisig: '2/3' },
            { name: 'Hot Wallet (ETH)', address: '0x7F2...8e4D', network: 'Ethereum', balance: '$324.8M', lastActivity: '5 min ago', status: 'active', multisig: '2/3' },
            { name: 'Warm Wallet', address: 'bc1q...7xm2', network: 'Bitcoin', balance: '$892.4M', lastActivity: '2 hours ago', status: 'active', multisig: '3/5' },
            { name: 'Cold Storage 1', address: '3J98...xPz4', network: 'Bitcoin', balance: '$2.4B', lastActivity: '14 days ago', status: 'secure', multisig: '4/7' },
            { name: 'Cold Storage 2', address: 'DYw5...9pQm', network: 'Solana', balance: '$1.8B', lastActivity: '21 days ago', status: 'secure', multisig: '4/7' },
            { name: 'Treasury', address: '0x3A1...2bC9', network: 'Ethereum', balance: '$542.6M', lastActivity: '7 days ago', status: 'secure', multisig: '5/7' }
        ];
        
        const securityNotifications = [
            { time: '5 min ago', type: 'info', title: 'Scheduled Maintenance', message: 'Firewall update completed successfully', icon: '‚ÑπÔ∏è' },
            { time: '1 hour ago', type: 'warning', title: 'Elevated Activity', message: 'Withdrawal requests 45% above average - Monitoring', icon: '‚ö†Ô∏è' },
            { time: '3 hours ago', type: 'success', title: 'Security Scan Complete', message: 'No vulnerabilities detected in latest scan', icon: '‚úÖ' },
            { time: '6 hours ago', type: 'info', title: 'Certificate Renewed', message: 'SSL certificates auto-renewed for all domains', icon: '‚ÑπÔ∏è' },
            { time: '12 hours ago', type: 'warning', title: 'New IP Location', message: 'Admin login from new location (verified)', icon: '‚ö†Ô∏è' }
        ];
        
        const securityMetricsData = [
            { name: 'Failed Logins', value: '24', change: '-18%', icon: 'üîê' },
            { name: 'Blocked IPs', value: '1,247', change: '+12%', icon: 'üö´' },
            { name: 'API Calls', value: '48.2M', change: '+8%', icon: 'üì°' },
            { name: 'Firewall Events', value: '892K', change: '+5%', icon: 'üõ°Ô∏è' },
            { name: 'Auth Tokens Issued', value: '342', change: '+2%', icon: 'üîë' },
            { name: 'Vulnerability Scans', value: '4', change: '0%', icon: 'üîç' }
        ];
        
        const accessLog = [
            { time: '2 min ago', user: 'john.smith@maxam.capital', action: 'Login', ip: '192.168.1.xxx', location: 'New York, US', status: 'success' },
            { time: '15 min ago', user: 'sarah.chen@maxam.capital', action: 'API Key Generated', ip: '192.168.1.xxx', location: 'San Francisco, US', status: 'success' },
            { time: '32 min ago', user: 'system@maxam.capital', action: 'Automated Backup', ip: 'Internal', location: 'AWS us-east-1', status: 'success' },
            { time: '1 hour ago', user: 'michael.ross@maxam.capital', action: 'Trade Executed', ip: '192.168.1.xxx', location: 'Chicago, US', status: 'success' },
            { time: '2 hours ago', user: 'unknown', action: 'Login Attempt', ip: '185.243.xxx.xxx', location: 'Moscow, RU', status: 'blocked' },
            { time: '3 hours ago', user: 'emily.davis@maxam.capital', action: 'Report Downloaded', ip: '192.168.1.xxx', location: 'London, UK', status: 'success' }
        ];
        
        // Enhanced Risk Data
        const assetRiskScores = [
            { symbol: 'SOL', name: 'Solana', class: 'Crypto', riskScore: 72, var95: 4.2, volatility: 68.5, liquidity: 92, smartContract: 85, correlation: 0.82, status: 'moderate' },
            { symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', riskScore: 58, var95: 3.1, volatility: 52.4, liquidity: 98, smartContract: 95, correlation: 1.00, status: 'low' },
            { symbol: 'ETH', name: 'Ethereum', class: 'Crypto', riskScore: 62, var95: 3.5, volatility: 58.2, liquidity: 96, smartContract: 92, correlation: 0.88, status: 'moderate' },
            { symbol: 'XRP', name: 'Ripple', class: 'Crypto', riskScore: 68, var95: 3.8, volatility: 62.1, liquidity: 85, smartContract: 78, correlation: 0.72, status: 'moderate' },
            { symbol: 'BNB', name: 'Binance Coin', class: 'Crypto', riskScore: 65, var95: 3.6, volatility: 55.8, liquidity: 88, smartContract: 82, correlation: 0.78, status: 'moderate' },
            { symbol: 'ADA', name: 'Cardano', class: 'Crypto', riskScore: 70, var95: 4.0, volatility: 65.2, liquidity: 82, smartContract: 80, correlation: 0.75, status: 'moderate' },
            { symbol: 'XLM', name: 'Stellar', class: 'Crypto', riskScore: 72, var95: 4.1, volatility: 64.8, liquidity: 78, smartContract: 75, correlation: 0.68, status: 'moderate' },
            { symbol: 'USDT', name: 'Tether', class: 'Stablecoin', riskScore: 15, var95: 0.1, volatility: 0.8, liquidity: 99, smartContract: 88, correlation: 0.02, status: 'very-low' },
            { symbol: 'USDC', name: 'USD Coin', class: 'Stablecoin', riskScore: 12, var95: 0.05, volatility: 0.5, liquidity: 99, smartContract: 95, correlation: 0.01, status: 'very-low' },
            { symbol: 'SPY', name: 'S&P 500 ETF', class: 'Equity', riskScore: 35, var95: 1.8, volatility: 18.5, liquidity: 99, smartContract: null, correlation: 0.45, status: 'low' },
            { symbol: 'QQQ', name: 'Nasdaq 100', class: 'Equity', riskScore: 42, var95: 2.2, volatility: 24.2, liquidity: 99, smartContract: null, correlation: 0.52, status: 'low' },
            { symbol: 'TLT', name: 'Treasury Bonds', class: 'Fixed Income', riskScore: 28, var95: 1.4, volatility: 15.8, liquidity: 98, smartContract: null, correlation: -0.25, status: 'very-low' },
            { symbol: 'GLD', name: 'Gold ETF', class: 'Commodity', riskScore: 32, var95: 1.5, volatility: 14.2, liquidity: 97, smartContract: null, correlation: -0.15, status: 'low' },
            { symbol: 'SLV', name: 'Silver ETF', class: 'Commodity', riskScore: 48, var95: 2.4, volatility: 28.5, liquidity: 92, smartContract: null, correlation: 0.12, status: 'low' },
            { symbol: 'USO', name: 'Oil ETF', class: 'Commodity', riskScore: 55, var95: 2.8, volatility: 35.2, liquidity: 88, smartContract: null, correlation: 0.22, status: 'moderate' },
            { symbol: 'VNQ', name: 'Real Estate', class: 'REIT', riskScore: 38, var95: 1.9, volatility: 22.4, liquidity: 95, smartContract: null, correlation: 0.35, status: 'low' },
            { symbol: 'VIX', name: 'Volatility Index', class: 'Derivative', riskScore: 85, var95: 8.5, volatility: 125.0, liquidity: 85, smartContract: null, correlation: -0.72, status: 'high' }
        ];
        
        const exposureAnalysis = [
            { class: 'Crypto', exposure: '$6.14B', percentage: 67.4, limit: 85, status: 'ok' },
            { class: 'Stablecoins', exposure: '$1.09B', percentage: 12.0, limit: 30, status: 'ok' },
            { class: 'Equities', exposure: '$729M', percentage: 8.0, limit: 20, status: 'ok' },
            { class: 'Fixed Income', exposure: '$437M', percentage: 4.8, limit: 25, status: 'ok' },
            { class: 'Commodities', exposure: '$538M', percentage: 5.9, limit: 15, status: 'ok' },
            { class: 'REITs', exposure: '$91M', percentage: 1.0, limit: 10, status: 'ok' },
            { class: 'Derivatives', exposure: '$82M', percentage: 0.9, limit: 10, status: 'ok' }
        ];
        
        const topCorrelations = [
            { pair: 'SOL / ETH', correlation: 0.88, trend: 'stable' },
            { pair: 'BTC / ETH', correlation: 0.92, trend: 'stable' },
            { pair: 'SOL / BTC', correlation: 0.82, trend: 'increasing' },
            { pair: 'SPY / QQQ', correlation: 0.94, trend: 'stable' },
            { pair: 'TLT / GLD', correlation: 0.35, trend: 'decreasing' },
            { pair: 'VIX / SPY', correlation: -0.72, trend: 'stable' }
        ];
        
        const stressTests = [
            { scenario: 'Crypto -50% Crash', portfolioImpact: '-18.2%', probability: '5%', status: 'acceptable' },
            { scenario: 'Rate Hike +100bps', portfolioImpact: '-4.8%', probability: '15%', status: 'acceptable' },
            { scenario: 'Flash Crash (All Assets)', portfolioImpact: '-12.5%', probability: '2%', status: 'acceptable' },
            { scenario: 'Stablecoin Depeg', portfolioImpact: '-8.4%', probability: '3%', status: 'acceptable' },
            { scenario: '2022 Bear Replay', portfolioImpact: '-22.8%', probability: '8%', status: 'warning' },
            { scenario: 'Black Swan Event', portfolioImpact: '-35.0%', probability: '1%', status: 'critical' }
        ];
        
        const riskAlerts = [
            { severity: 'medium', title: 'Elevated SOL Volatility', description: 'SOL 30-day volatility increased to 68.5%, above 60% threshold', time: '2 hours ago', action: 'Review position size' },
            { severity: 'low', title: 'Correlation Shift Detected', description: 'BTC/ETH correlation increased from 0.88 to 0.92 over past week', time: '6 hours ago', action: 'Monitor for divergence' },
            { severity: 'low', title: 'Liquidity Warning: XLM', description: 'XLM liquidity score dropped to 78, approaching 75 threshold', time: '1 day ago', action: 'Consider reducing position' }
        ];
        
        const assetRiskDetails = {
            SOL: {
                overview: 'High-performance Layer 1 blockchain with significant DeFi ecosystem exposure',
                keyRisks: ['Smart contract vulnerabilities', 'Network congestion during high activity', 'Validator concentration', 'Token inflation from staking rewards'],
                metrics: { dailyVolume: '$2.84B', marketCap: '$48.2B', tvl: '$4.8B', stakingRatio: '72%' },
                historicalDrawdowns: [{ event: 'FTX Collapse', date: 'Nov 2022', drawdown: '-68%' }, { event: 'Luna Crash', date: 'May 2022', drawdown: '-52%' }]
            },
            BTC: {
                overview: 'Primary store of value cryptocurrency with highest market dominance',
                keyRisks: ['Regulatory uncertainty', 'Mining concentration', 'Macroeconomic correlation increasing', 'Halving cycle volatility'],
                metrics: { dailyVolume: '$28.5B', marketCap: '$1.95T', hashRate: '580 EH/s', dominance: '52%' },
                historicalDrawdowns: [{ event: '2022 Bear Market', date: 'Nov 2022', drawdown: '-77%' }, { event: 'Covid Crash', date: 'Mar 2020', drawdown: '-52%' }]
            },
            ETH: {
                overview: 'Leading smart contract platform with largest DeFi and NFT ecosystem',
                keyRisks: ['Gas fee volatility', 'Competition from L2s', 'Staking centralization', 'Regulatory classification'],
                metrics: { dailyVolume: '$15.2B', marketCap: '$420B', tvl: '$52B', stakingRatio: '28%' },
                historicalDrawdowns: [{ event: '2022 Bear Market', date: 'Jun 2022', drawdown: '-82%' }, { event: 'Covid Crash', date: 'Mar 2020', drawdown: '-55%' }]
            }
        };
        
        // Comprehensive Portfolio Position Data
        const portfolioPositions = [
            { 
                symbol: 'SOL', name: 'Solana', class: 'Crypto', 
                currentPrice: 98.45, avgEntry: 24.82, quantity: 34125000,
                positionValue: 3359506250, weight: 36.88, costBasis: 847143750,
                unrealizedPnL: 2512362500, pnlPercent: 296.57, 
                change24h: 4.82, change7d: 12.45, change30d: 28.92,
                targetWeight: 35.0, status: 'overweight'
            },
            { 
                symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', 
                currentPrice: 97842.50, avgEntry: 42500.00, quantity: 12450,
                positionValue: 1218139125, weight: 13.37, costBasis: 529125000,
                unrealizedPnL: 689014125, pnlPercent: 130.22, 
                change24h: 2.15, change7d: 5.82, change30d: 15.24,
                targetWeight: 14.0, status: 'normal'
            },
            { 
                symbol: 'ETH', name: 'Ethereum', class: 'Crypto', 
                currentPrice: 3485.20, avgEntry: 1850.00, quantity: 285000,
                positionValue: 993282000, weight: 10.90, costBasis: 527250000,
                unrealizedPnL: 466032000, pnlPercent: 88.39, 
                change24h: 1.92, change7d: 4.25, change30d: 18.45,
                targetWeight: 10.0, status: 'normal'
            },
            { 
                symbol: 'USDC', name: 'USD Coin', class: 'Stablecoin', 
                currentPrice: 1.00, avgEntry: 1.00, quantity: 685000000,
                positionValue: 685000000, weight: 7.52, costBasis: 685000000,
                unrealizedPnL: 0, pnlPercent: 0.00, 
                change24h: 0.00, change7d: 0.00, change30d: 0.00,
                targetWeight: 8.0, status: 'normal'
            },
            { 
                symbol: 'USDT', name: 'Tether', class: 'Stablecoin', 
                currentPrice: 1.00, avgEntry: 1.00, quantity: 408000000,
                positionValue: 408000000, weight: 4.48, costBasis: 408000000,
                unrealizedPnL: 0, pnlPercent: 0.00, 
                change24h: 0.01, change7d: 0.00, change30d: -0.01,
                targetWeight: 4.0, status: 'normal'
            },
            { 
                symbol: 'XRP', name: 'Ripple', class: 'Crypto', 
                currentPrice: 1.42, avgEntry: 0.52, quantity: 245000000,
                positionValue: 347900000, weight: 3.82, costBasis: 127400000,
                unrealizedPnL: 220500000, pnlPercent: 173.08, 
                change24h: 3.65, change7d: 8.92, change30d: 45.20,
                targetWeight: 3.0, status: 'overweight'
            },
            { 
                symbol: 'SPY', name: 'S&P 500 ETF', class: 'Equity', 
                currentPrice: 598.45, avgEntry: 445.20, quantity: 520000,
                positionValue: 311194000, weight: 3.42, costBasis: 231504000,
                unrealizedPnL: 79690000, pnlPercent: 34.43, 
                change24h: 0.85, change7d: 2.12, change30d: 4.85,
                targetWeight: 4.0, status: 'underweight'
            },
            { 
                symbol: 'BNB', name: 'Binance Coin', class: 'Crypto', 
                currentPrice: 642.80, avgEntry: 285.40, quantity: 425000,
                positionValue: 273190000, weight: 3.00, costBasis: 121295000,
                unrealizedPnL: 151895000, pnlPercent: 125.23, 
                change24h: 1.45, change7d: 3.82, change30d: 12.45,
                targetWeight: 3.0, status: 'normal'
            },
            { 
                symbol: 'GLD', name: 'Gold ETF', class: 'Commodity', 
                currentPrice: 242.85, avgEntry: 178.50, quantity: 980000,
                positionValue: 237993000, weight: 2.61, costBasis: 174930000,
                unrealizedPnL: 63063000, pnlPercent: 36.05, 
                change24h: 0.42, change7d: 1.85, change30d: 3.24,
                targetWeight: 3.0, status: 'underweight'
            },
            { 
                symbol: 'QQQ', name: 'Nasdaq 100 ETF', class: 'Equity', 
                currentPrice: 518.92, avgEntry: 365.80, quantity: 405000,
                positionValue: 210162600, weight: 2.31, costBasis: 148149000,
                unrealizedPnL: 62013600, pnlPercent: 41.86, 
                change24h: 1.12, change7d: 2.85, change30d: 6.42,
                targetWeight: 2.0, status: 'normal'
            },
            { 
                symbol: 'TLT', name: '20+ Year Treasury', class: 'Fixed Income', 
                currentPrice: 91.24, avgEntry: 102.50, quantity: 2150000,
                positionValue: 196166000, weight: 2.15, costBasis: 220375000,
                unrealizedPnL: -24209000, pnlPercent: -10.99, 
                change24h: -0.32, change7d: -1.24, change30d: -2.85,
                targetWeight: 3.0, status: 'underweight'
            },
            { 
                symbol: 'ADA', name: 'Cardano', class: 'Crypto', 
                currentPrice: 0.68, avgEntry: 0.42, quantity: 285000000,
                positionValue: 193800000, weight: 2.13, costBasis: 119700000,
                unrealizedPnL: 74100000, pnlPercent: 61.90, 
                change24h: 2.85, change7d: 6.45, change30d: 22.15,
                targetWeight: 2.0, status: 'normal'
            },
            { 
                symbol: 'SLV', name: 'Silver ETF', class: 'Commodity', 
                currentPrice: 28.45, avgEntry: 22.80, quantity: 4250000,
                positionValue: 120912500, weight: 1.33, costBasis: 96900000,
                unrealizedPnL: 24012500, pnlPercent: 24.78, 
                change24h: 0.92, change7d: 2.45, change30d: 5.82,
                targetWeight: 1.5, status: 'underweight'
            },
            { 
                symbol: 'VNQ', name: 'Real Estate ETF', class: 'REIT', 
                currentPrice: 94.28, avgEntry: 85.40, quantity: 985000,
                positionValue: 92865800, weight: 1.02, costBasis: 84119000,
                unrealizedPnL: 8746800, pnlPercent: 10.40, 
                change24h: 0.58, change7d: 1.42, change30d: 2.85,
                targetWeight: 1.0, status: 'normal'
            },
            { 
                symbol: 'XLM', name: 'Stellar', class: 'Crypto', 
                currentPrice: 0.38, avgEntry: 0.12, quantity: 225000000,
                positionValue: 85500000, weight: 0.94, costBasis: 27000000,
                unrealizedPnL: 58500000, pnlPercent: 216.67, 
                change24h: 4.25, change7d: 12.85, change30d: 85.42,
                targetWeight: 1.0, status: 'normal'
            },
            { 
                symbol: 'USO', name: 'Oil ETF', class: 'Commodity', 
                currentPrice: 72.45, avgEntry: 68.20, quantity: 850000,
                positionValue: 61582500, weight: 0.68, costBasis: 57970000,
                unrealizedPnL: 3612500, pnlPercent: 6.23, 
                change24h: -2.15, change7d: -4.82, change30d: -8.45,
                targetWeight: 1.0, status: 'underweight'
            },
            { 
                symbol: 'VIX', name: 'Volatility Index', class: 'Derivative', 
                currentPrice: 14.85, avgEntry: 18.20, quantity: 2450000,
                positionValue: 36382500, weight: 0.40, costBasis: 44590000,
                unrealizedPnL: -8207500, pnlPercent: -18.40, 
                change24h: -3.42, change7d: -8.25, change30d: -15.42,
                targetWeight: 0.5, status: 'underweight'
            }
        ];
        
        const allocationComparison = [
            { class: 'Crypto', actual: 70.84, target: 68.0, difference: 2.84, action: 'Reduce' },
            { class: 'Stablecoins', actual: 12.00, target: 12.0, difference: 0.00, action: 'Hold' },
            { class: 'Equities', actual: 5.73, target: 6.0, difference: -0.27, action: 'Increase' },
            { class: 'Fixed Income', actual: 2.15, target: 3.0, difference: -0.85, action: 'Increase' },
            { class: 'Commodities', actual: 4.62, target: 5.5, difference: -0.88, action: 'Increase' },
            { class: 'REITs', actual: 1.02, target: 1.0, difference: 0.02, action: 'Hold' },
            { class: 'Derivatives', actual: 0.40, target: 0.5, difference: -0.10, action: 'Hold' }
        ];
        
        const rebalancingRecommendations = [
            { action: 'SELL', symbol: 'SOL', amount: '$168M', reason: 'Overweight by 1.88%', priority: 'medium' },
            { action: 'SELL', symbol: 'XRP', amount: '$75M', reason: 'Overweight by 0.82%', priority: 'low' },
            { action: 'BUY', symbol: 'TLT', amount: '$77M', reason: 'Underweight by 0.85%', priority: 'medium' },
            { action: 'BUY', symbol: 'GLD', amount: '$35M', reason: 'Underweight by 0.39%', priority: 'low' },
            { action: 'BUY', symbol: 'SPY', amount: '$53M', reason: 'Underweight by 0.58%', priority: 'low' }
        ];
        
        const pnlByClass = [
            { class: 'Crypto', pnl: 4172403625, pnlPercent: 234.52, contribution: 62.85 },
            { class: 'Stablecoins', pnl: 0, pnlPercent: 0.00, contribution: 0.00 },
            { class: 'Equities', pnl: 141703600, pnlPercent: 37.32, contribution: 2.13 },
            { class: 'Fixed Income', pnl: -24209000, pnlPercent: -10.99, contribution: -0.36 },
            { class: 'Commodities', pnl: 90688000, pnlPercent: 27.52, contribution: 1.37 },
            { class: 'REITs', pnl: 8746800, pnlPercent: 10.40, contribution: 0.13 },
            { class: 'Derivatives', pnl: -8207500, pnlPercent: -18.40, contribution: -0.12 }
        ];
        
        const performanceAttribution = [
            { factor: 'Asset Selection', contribution: '+42.8%', description: 'Alpha from picking outperforming assets' },
            { factor: 'Market Timing', contribution: '+18.5%', description: 'Entry/exit timing decisions' },
            { factor: 'Sector Allocation', contribution: '+12.2%', description: 'Crypto overweight during bull market' },
            { factor: 'Risk Management', contribution: '+8.4%', description: 'Avoided major drawdowns' },
            { factor: 'Currency Effects', contribution: '+2.1%', description: 'USD strength impact' },
            { factor: 'Trading Costs', contribution: '-1.2%', description: 'Fees and slippage' }
        ];
        
        const recentPositionChanges = [
            { time: '14 min ago', action: 'BUY', symbol: 'SOL', amount: '+125,000', value: '$12.3M', price: '$98.42', agent: 'Technical Agent' },
            { time: '28 min ago', action: 'SELL', symbol: 'BTC', amount: '-45', value: '$4.4M', price: '$97,845', agent: 'Portfolio Agent' },
            { time: '1 hour ago', action: 'BUY', symbol: 'ETH', amount: '+1,850', value: '$6.4M', price: '$3,482', agent: 'Sentiment Agent' },
            { time: '2 hours ago', action: 'SELL', symbol: 'XRP', amount: '-2,500,000', value: '$3.5M', price: '$1.41', agent: 'Risk Agent' },
            { time: '3 hours ago', action: 'BUY', symbol: 'GLD', amount: '+15,000', value: '$3.6M', price: '$242.50', agent: 'Fundamental Agent' },
            { time: '4 hours ago', action: 'SELL', symbol: 'USO', amount: '-25,000', value: '$1.8M', price: '$72.80', agent: 'Technical Agent' }
        ];
        
        const positionAlerts = [
            { severity: 'warning', title: 'SOL Overweight', description: 'SOL position at 36.88% exceeds 35% target by 1.88%', time: '5 min ago', action: 'Consider reducing position' },
            { severity: 'info', title: 'TLT Underwater', description: 'TLT position showing -10.99% unrealized loss', time: '2 hours ago', action: 'Monitor for recovery' },
            { severity: 'warning', title: 'VIX Hedge Declining', description: 'VIX hedge position down -18.4%, review hedge ratio', time: '4 hours ago', action: 'Evaluate hedge effectiveness' },
            { severity: 'info', title: 'XRP Target Reached', description: 'XRP +173% gain, consider taking partial profits', time: '6 hours ago', action: 'Review profit-taking rules' }
        ];
        
        // ============================================
        // ADMIN PANEL DATA
        // ============================================
        let platformUsers = [
            { id: 1, name: 'Maxwell Chen', email: 'maxwell@maxamcapital.com', role: 'owner', status: 'active', lastActive: '2 min ago', twoFactor: true, created: 'Jan 15, 2024', department: 'Executive', phone: '+1 (555) 100-0001' },
            { id: 2, name: 'Sarah Williams', email: 'sarah.w@maxamcapital.com', role: 'gp', status: 'active', lastActive: '5 min ago', twoFactor: true, created: 'Jan 20, 2024', department: 'Executive', phone: '+1 (555) 100-0002' },
            { id: 3, name: 'David Rodriguez', email: 'david.r@maxamcapital.com', role: 'gp', status: 'active', lastActive: '12 min ago', twoFactor: true, created: 'Feb 1, 2024', department: 'Executive', phone: '+1 (555) 100-0003' },
            { id: 4, name: 'Jennifer Liu', email: 'jennifer.l@maxamcapital.com', role: 'pm', status: 'active', lastActive: '8 min ago', twoFactor: true, created: 'Feb 15, 2024', department: 'Portfolio Management', phone: '+1 (555) 200-0001' },
            { id: 5, name: 'Michael Thompson', email: 'michael.t@maxamcapital.com', role: 'pm', status: 'active', lastActive: '1 hour ago', twoFactor: true, created: 'Mar 1, 2024', department: 'Portfolio Management', phone: '+1 (555) 200-0002' },
            { id: 6, name: 'Emily Chang', email: 'emily.c@maxamcapital.com', role: 'trader', status: 'active', lastActive: '3 min ago', twoFactor: true, created: 'Mar 15, 2024', department: 'Trading', phone: '+1 (555) 300-0001' },
            { id: 7, name: 'Robert Kim', email: 'robert.k@maxamcapital.com', role: 'trader', status: 'active', lastActive: '15 min ago', twoFactor: true, created: 'Apr 1, 2024', department: 'Trading', phone: '+1 (555) 300-0002' },
            { id: 8, name: 'Amanda Foster', email: 'amanda.f@maxamcapital.com', role: 'trader', status: 'active', lastActive: '22 min ago', twoFactor: true, created: 'Apr 10, 2024', department: 'Trading', phone: '+1 (555) 300-0003' },
            { id: 9, name: 'James Wilson', email: 'james.w@maxamcapital.com', role: 'trader', status: 'active', lastActive: '45 min ago', twoFactor: false, created: 'May 1, 2024', department: 'Trading', phone: '+1 (555) 300-0004' },
            { id: 10, name: 'Lisa Martinez', email: 'lisa.m@maxamcapital.com', role: 'trader', status: 'active', lastActive: '1 hour ago', twoFactor: true, created: 'May 15, 2024', department: 'Trading', phone: '+1 (555) 300-0005' },
            { id: 11, name: 'Christopher Brown', email: 'chris.b@maxamcapital.com', role: 'analyst', status: 'active', lastActive: '30 min ago', twoFactor: true, created: 'Jun 1, 2024', department: 'Research', phone: '+1 (555) 400-0001' },
            { id: 12, name: 'Jessica Taylor', email: 'jessica.t@maxamcapital.com', role: 'analyst', status: 'active', lastActive: '2 hours ago', twoFactor: true, created: 'Jun 15, 2024', department: 'Research', phone: '+1 (555) 400-0002' },
            { id: 13, name: 'Daniel Garcia', email: 'daniel.g@maxamcapital.com', role: 'analyst', status: 'active', lastActive: '4 hours ago', twoFactor: false, created: 'Jul 1, 2024', department: 'Research', phone: '+1 (555) 400-0003' },
            { id: 14, name: 'Michelle Lee', email: 'michelle.l@maxamcapital.com', role: 'analyst', status: 'pending', lastActive: 'Never', twoFactor: false, created: 'Nov 20, 2025', department: 'Research', phone: '+1 (555) 400-0004' },
            { id: 15, name: 'Kevin Patel', email: 'kevin.p@maxamcapital.com', role: 'security', status: 'active', lastActive: '10 min ago', twoFactor: true, created: 'Aug 1, 2024', department: 'Cybersecurity', phone: '+1 (555) 500-0001' },
            { id: 16, name: 'Rachel Nguyen', email: 'rachel.n@maxamcapital.com', role: 'security', status: 'active', lastActive: '25 min ago', twoFactor: true, created: 'Aug 15, 2024', department: 'Cybersecurity', phone: '+1 (555) 500-0002' },
            { id: 17, name: 'Andrew Smith', email: 'andrew.s@maxamcapital.com', role: 'trader', status: 'suspended', lastActive: '2 days ago', twoFactor: true, created: 'Sep 1, 2024', department: 'Trading', phone: '+1 (555) 300-0006' },
            { id: 18, name: 'Nicole Johnson', email: 'nicole.j@maxamcapital.com', role: 'analyst', status: 'active', lastActive: '3 hours ago', twoFactor: true, created: 'Sep 15, 2024', department: 'Research', phone: '+1 (555) 400-0005' },
            { id: 19, name: 'Brandon Davis', email: 'brandon.d@maxamcapital.com', role: 'trader', status: 'active', lastActive: '1 hour ago', twoFactor: true, created: 'Oct 1, 2024', department: 'Trading', phone: '+1 (555) 300-0007' },
            { id: 20, name: 'Stephanie Clark', email: 'stephanie.c@maxamcapital.com', role: 'pm', status: 'active', lastActive: '35 min ago', twoFactor: true, created: 'Oct 15, 2024', department: 'Portfolio Management', phone: '+1 (555) 200-0003' },
            { id: 21, name: 'Patrick Moore', email: 'patrick.m@maxamcapital.com', role: 'analyst', status: 'active', lastActive: '2 hours ago', twoFactor: true, created: 'Nov 1, 2024', department: 'Research', phone: '+1 (555) 400-0006' },
            { id: 22, name: 'Samantha White', email: 'samantha.w@maxamcapital.com', role: 'trader', status: 'active', lastActive: '50 min ago', twoFactor: true, created: 'Nov 10, 2024', department: 'Trading', phone: '+1 (555) 300-0008' },
            { id: 23, name: 'Tyler Anderson', email: 'tyler.a@maxamcapital.com', role: 'security', status: 'active', lastActive: '5 min ago', twoFactor: true, created: 'Nov 15, 2024', department: 'Cybersecurity', phone: '+1 (555) 500-0003' },
            { id: 24, name: 'Maria Santos', email: 'maria.s@maxamcapital.com', role: 'analyst', status: 'pending', lastActive: 'Never', twoFactor: false, created: 'Nov 25, 2025', department: 'Research', phone: '+1 (555) 400-0007' }
        ];
        
        const roleLabels = {
            owner: 'Owner',
            gp: 'General Partner',
            pm: 'Portfolio Manager',
            trader: 'Executing Trader',
            analyst: 'Analyst',
            security: 'Cybersecurity'
        };
        
        const permissionsMatrix = [
            { permission: 'View Dashboard', owner: true, gp: true, pm: true, trader: true, analyst: true, security: true },
            { permission: 'View Trading', owner: true, gp: true, pm: true, trader: true, analyst: false, security: false },
            { permission: 'Execute Trades', owner: true, gp: true, pm: true, trader: true, analyst: false, security: false },
            { permission: 'Approve Large Trades (>$5M)', owner: true, gp: true, pm: true, trader: false, analyst: false, security: false },
            { permission: 'View Portfolio', owner: true, gp: true, pm: true, trader: true, analyst: true, security: false },
            { permission: 'Manage Portfolio', owner: true, gp: true, pm: true, trader: false, analyst: false, security: false },
            { permission: 'View Risk Management', owner: true, gp: true, pm: true, trader: true, analyst: true, security: true },
            { permission: 'Modify Risk Limits', owner: true, gp: true, pm: false, trader: false, analyst: false, security: false },
            { permission: 'View Analytics', owner: true, gp: true, pm: true, trader: true, analyst: true, security: true },
            { permission: 'View Investor Portal', owner: true, gp: true, pm: true, trader: false, analyst: true, security: false },
            { permission: 'View Research', owner: true, gp: true, pm: true, trader: true, analyst: true, security: false },
            { permission: 'Create Reports', owner: true, gp: true, pm: true, trader: false, analyst: true, security: false },
            { permission: 'View Auditing', owner: true, gp: true, pm: true, trader: false, analyst: false, security: true },
            { permission: 'Generate Audits', owner: true, gp: true, pm: false, trader: false, analyst: false, security: true },
            { permission: 'View Security', owner: true, gp: true, pm: false, trader: false, analyst: false, security: true },
            { permission: 'Manage Security Settings', owner: true, gp: false, pm: false, trader: false, analyst: false, security: true },
            { permission: 'Access Admin Panel', owner: true, gp: true, pm: false, trader: false, analyst: false, security: false },
            { permission: 'Manage Users', owner: true, gp: true, pm: false, trader: false, analyst: false, security: false },
            { permission: 'View API Keys', owner: true, gp: true, pm: false, trader: false, analyst: false, security: true },
            { permission: 'Generate API Keys', owner: true, gp: false, pm: false, trader: false, analyst: false, security: false },
            { permission: 'System Settings', owner: true, gp: false, pm: false, trader: false, analyst: false, security: false },
            { permission: 'Data Backup/Restore', owner: true, gp: false, pm: false, trader: false, analyst: false, security: false }
        ];
        
        let apiKeys = [
            { id: 1, name: 'Production Trading API', key: 'maxam_prod_...a8f2', permissions: 'full', created: 'Mar 15, 2024', lastUsed: '2 min ago', status: 'active' },
            { id: 2, name: 'Data Pipeline', key: 'maxam_prod_...b3c7', permissions: 'read', created: 'Apr 1, 2024', lastUsed: '5 min ago', status: 'active' },
            { id: 3, name: 'Analytics Dashboard', key: 'maxam_prod_...d9e1', permissions: 'read', created: 'May 10, 2024', lastUsed: '1 hour ago', status: 'active' },
            { id: 4, name: 'Mobile App', key: 'maxam_prod_...f4g2', permissions: 'trade', created: 'Jun 20, 2024', lastUsed: '15 min ago', status: 'active' },
            { id: 5, name: 'Research Tools', key: 'maxam_prod_...h7j8', permissions: 'read', created: 'Aug 5, 2024', lastUsed: '3 hours ago', status: 'active' },
            { id: 6, name: 'Backup System', key: 'maxam_prod_...k2l9', permissions: 'full', created: 'Sep 1, 2024', lastUsed: '6 hours ago', status: 'active' },
            { id: 7, name: 'Testing Environment', key: 'maxam_test_...m5n3', permissions: 'full', created: 'Oct 15, 2024', lastUsed: '2 days ago', status: 'active' },
            { id: 8, name: 'Legacy Integration', key: 'maxam_prod_...p8q1', permissions: 'read', created: 'Feb 1, 2024', lastUsed: '1 week ago', status: 'expiring' },
            { id: 9, name: 'External Audit', key: 'maxam_prod_...r3s6', permissions: 'read', created: 'Nov 1, 2024', lastUsed: '4 days ago', status: 'active' },
            { id: 10, name: 'Compliance Reporting', key: 'maxam_prod_...t7u4', permissions: 'read', created: 'Nov 10, 2024', lastUsed: '1 day ago', status: 'active' },
            { id: 11, name: 'Old Production Key', key: 'maxam_prod_...v2w8', permissions: 'full', created: 'Jan 5, 2024', lastUsed: 'Never', status: 'expiring' },
            { id: 12, name: 'Investor Portal', key: 'maxam_prod_...x9y5', permissions: 'read', created: 'Nov 20, 2024', lastUsed: '30 min ago', status: 'active' }
        ];
        
        const activityLog = [
            { time: '2 min ago', user: 'Maxwell Chen', action: 'login', details: 'Logged in from 192.168.1.xxx', type: 'login' },
            { time: '5 min ago', user: 'Emily Chang', action: 'trade', details: 'Executed BUY 125,000 SOL @ $98.42', type: 'trade' },
            { time: '8 min ago', user: 'Kevin Patel', action: 'security', details: 'Updated firewall rules', type: 'settings' },
            { time: '12 min ago', user: 'Jennifer Liu', action: 'settings', details: 'Modified risk limits for SOL', type: 'settings' },
            { time: '15 min ago', user: 'Robert Kim', action: 'trade', details: 'Executed SELL 45 BTC @ $97,845', type: 'trade' },
            { time: '22 min ago', user: 'Sarah Williams', action: 'user', details: 'Added new user: Maria Santos', type: 'user' },
            { time: '30 min ago', user: 'Christopher Brown', action: 'report', details: 'Generated Q4 performance report', type: 'settings' },
            { time: '45 min ago', user: 'Amanda Foster', action: 'trade', details: 'Executed BUY 1,850 ETH @ $3,482', type: 'trade' },
            { time: '1 hour ago', user: 'David Rodriguez', action: 'login', details: 'Logged in from mobile device', type: 'login' },
            { time: '1.5 hours ago', user: 'Lisa Martinez', action: 'trade', details: 'Executed SELL 2,500,000 XRP @ $1.41', type: 'trade' },
            { time: '2 hours ago', user: 'Maxwell Chen', action: 'settings', details: 'Updated trading limits', type: 'settings' },
            { time: '3 hours ago', user: 'Rachel Nguyen', action: 'security', details: 'Reviewed access logs', type: 'settings' }
        ];
        
        const systemHealth = [
            { name: 'API Server', status: 'healthy', uptime: '99.99%', latency: '8.2ms', icon: 'üñ•Ô∏è' },
            { name: 'Database Cluster', status: 'healthy', uptime: '99.99%', latency: '2.1ms', icon: 'üóÑÔ∏è' },
            { name: 'Trading Engine', status: 'healthy', uptime: '99.99%', latency: '0.8ms', icon: '‚ö°' },
            { name: 'Risk Engine', status: 'healthy', uptime: '99.99%', latency: '3.4ms', icon: 'üõ°Ô∏è' },
            { name: 'Data Pipeline', status: 'healthy', uptime: '99.98%', latency: '12.5ms', icon: 'üìä' },
            { name: 'Cache Layer', status: 'healthy', uptime: '99.99%', latency: '0.3ms', icon: 'üíæ' },
            { name: 'Message Queue', status: 'healthy', uptime: '99.99%', latency: '1.2ms', icon: 'üì¨' },
            { name: 'Load Balancer', status: 'healthy', uptime: '100%', latency: '0.5ms', icon: '‚öñÔ∏è' }
        ];
        
        const adminAuditTrail = [
            { time: 'Nov 28, 2025 14:32', user: 'Maxwell Chen', action: 'Modified system settings', details: 'Changed session timeout from 60 to 30 minutes', category: 'settings' },
            { time: 'Nov 28, 2025 12:15', user: 'Sarah Williams', action: 'Added user', details: 'Created account for Maria Santos (Analyst)', category: 'user' },
            { time: 'Nov 27, 2025 16:45', user: 'Maxwell Chen', action: 'Revoked API key', details: 'Revoked key: Deprecated Integration (maxam_prod_...z1a2)', category: 'api' },
            { time: 'Nov 27, 2025 11:20', user: 'David Rodriguez', action: 'Modified permissions', details: 'Updated role permissions for Analyst', category: 'permissions' },
            { time: 'Nov 26, 2025 09:30', user: 'Maxwell Chen', action: 'User suspended', details: 'Suspended Andrew Smith pending investigation', category: 'user' },
            { time: 'Nov 25, 2025 15:00', user: 'Sarah Williams', action: 'Trading limits update', details: 'Increased max single trade to $10M', category: 'settings' },
            { time: 'Nov 24, 2025 10:45', user: 'Maxwell Chen', action: 'Generated API key', details: 'Created key: Investor Portal (maxam_prod_...x9y5)', category: 'api' },
            { time: 'Nov 23, 2025 14:20', user: 'David Rodriguez', action: 'System backup', details: 'Initiated manual database backup', category: 'system' }
        ];
        
        let deleteUserId = null;
        let editUserId = null;
        
        let trades = [];
        
        // ============================================
        // UTILITIES
        // ============================================
        function formatPercent(value) {
            return (value >= 0 ? '+' : '') + value.toFixed(2) + '%';
        }
        
        function generateTrades() {
            const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD', 'TLT', 'QQQ', 'BNB', 'ADA'];
            const result = [];
            for (let i = 0; i < 20; i++) {
                result.push({
                    symbol: symbols[Math.floor(Math.random() * symbols.length)],
                    side: Math.random() > 0.4 ? 'BUY' : 'SELL',
                    value: Math.random() * 5000000 + 100000,
                    pnl: (Math.random() - 0.3) * 5,
                    time: new Date(Date.now() - i * 60000 * Math.random() * 10).toLocaleTimeString()
                });
            }
            return result;
        }
        
        function generatePerformanceData(timeframe = '30d') {
            const data = [];
            let value, startValue, days, dateFormat, volatility;
            
            // Configure based on timeframe
            switch(timeframe) {
                case '1d':
                    // 1 Day - hourly data points (24 hours)
                    days = 24;
                    startValue = 9.08;
                    volatility = 0.01;
                    dateFormat = (date) => date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
                    value = startValue;
                    for (let i = days; i >= 0; i--) {
                        const date = new Date();
                        date.setHours(date.getHours() - i);
                        value += (Math.random() - 0.45) * volatility;
                        value = Math.max(startValue - 0.1, Math.min(startValue + 0.1, value));
                        data.push({ date: dateFormat(date), value: value });
                    }
                    break;
                    
                case '7d':
                    // 7 Days - every 4 hours (42 data points)
                    days = 42;
                    startValue = 9.02;
                    volatility = 0.02;
                    value = startValue;
                    for (let i = days; i >= 0; i--) {
                        const date = new Date();
                        date.setHours(date.getHours() - (i * 4));
                        value += (Math.random() - 0.42) * volatility;
                        value = Math.max(startValue - 0.15, Math.min(startValue + 0.2, value));
                        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                        const time = date.toLocaleTimeString('en-US', { hour: '2-digit' });
                        data.push({ date: i % 6 === 0 ? dayName : '', value: value });
                    }
                    break;
                    
                case '30d':
                    // 30 Days - daily data points
                    days = 30;
                    startValue = 8.5;
                    volatility = 0.15;
                    value = startValue;
                    for (let i = days; i >= 0; i--) {
                        const date = new Date();
                        date.setDate(date.getDate() - i);
                        value += (Math.random() - 0.4) * volatility;
                        value = Math.max(8, Math.min(10, value));
                        data.push({
                            date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                            value: value
                        });
                    }
                    break;
                    
                case '90d':
                    // 90 Days - every 3 days
                    days = 30;
                    startValue = 7.8;
                    volatility = 0.25;
                    value = startValue;
                    for (let i = days; i >= 0; i--) {
                        const date = new Date();
                        date.setDate(date.getDate() - (i * 3));
                        value += (Math.random() - 0.35) * volatility;
                        value = Math.max(7, Math.min(10, value));
                        data.push({
                            date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                            value: value
                        });
                    }
                    break;
                    
                case '1y':
                    // 1 Year - weekly data points
                    days = 52;
                    startValue = 5.2;
                    volatility = 0.35;
                    value = startValue;
                    for (let i = days; i >= 0; i--) {
                        const date = new Date();
                        date.setDate(date.getDate() - (i * 7));
                        value += (Math.random() - 0.3) * volatility;
                        value = Math.max(4, Math.min(10, value));
                        data.push({
                            date: date.toLocaleDateString('en-US', { month: 'short', year: i % 4 === 0 ? '2-digit' : undefined }),
                            value: value
                        });
                    }
                    break;
                    
                case 'all':
                    // All Time - monthly data from fund inception (Jan 2024)
                    const months = [
                        { label: 'Jan 24', value: 0.5 },
                        { label: 'Feb 24', value: 0.62 },
                        { label: 'Mar 24', value: 0.85 },
                        { label: 'Apr 24', value: 1.12 },
                        { label: 'May 24', value: 1.45 },
                        { label: 'Jun 24', value: 1.78 },
                        { label: 'Jul 24', value: 2.24 },
                        { label: 'Aug 24', value: 2.65 },
                        { label: 'Sep 24', value: 3.42 },
                        { label: 'Oct 24', value: 4.28 },
                        { label: 'Nov 24', value: 5.85 },
                        { label: 'Dec 24', value: 6.92 },
                        { label: 'Jan 25', value: 7.45 },
                        { label: 'Feb 25', value: 7.82 },
                        { label: 'Mar 25', value: 8.15 },
                        { label: 'Apr 25', value: 8.42 },
                        { label: 'May 25', value: 8.68 },
                        { label: 'Jun 25', value: 8.85 },
                        { label: 'Jul 25', value: 8.92 },
                        { label: 'Aug 25', value: 8.78 },
                        { label: 'Sep 25', value: 8.95 },
                        { label: 'Oct 25', value: 9.02 },
                        { label: 'Nov 25', value: 9.11 }
                    ];
                    return months.map(m => ({ date: m.label, value: m.value }));
                    
                default:
                    return generatePerformanceData('30d');
            }
            
            return data;
        }
        
        function updatePerformanceChart() {
            const timeframe = document.getElementById('performance-timeframe').value;
            const newData = generatePerformanceData(timeframe);
            
            // Update chart data
            performanceChart.data.labels = newData.map(d => d.date);
            performanceChart.data.datasets[0].data = newData.map(d => d.value);
            
            // Adjust Y-axis based on data range
            const values = newData.map(d => d.value);
            const minVal = Math.min(...values);
            const maxVal = Math.max(...values);
            const padding = (maxVal - minVal) * 0.1;
            
            performanceChart.options.scales.y.min = Math.max(0, minVal - padding);
            performanceChart.options.scales.y.max = maxVal + padding;
            
            // Update chart
            performanceChart.update('active');
        }
        
        // ============================================
        // RENDER FUNCTIONS
        // ============================================
        function renderAgentCard(agent) {
            const signalText = agent.signal >= 70 ? 'BULLISH' : agent.signal >= 40 ? 'NEUTRAL' : 'BEARISH';
            const signalClass = agent.signal >= 70 ? 'signal-bullish' : agent.signal >= 40 ? 'signal-neutral' : 'signal-bearish';
            return `
                <div class="agent-card">
                    <div class="agent-header">
                        <span class="agent-icon">${agent.icon}</span>
                        <div class="agent-info">
                            <div class="agent-name">${agent.name}</div>
                            <div class="agent-category">${agent.category}</div>
                        </div>
                        <div class="agent-status-dot"></div>
                    </div>
                    <div class="agent-metrics">
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${agent.confidence}%; background-color: ${agent.color};"></div>
                        </div>
                        <div class="agent-metric-row">
                            <span class="metric-label">Confidence</span>
                            <span class="metric-value">${agent.confidence}%</span>
                        </div>
                        <div class="agent-metric-row">
                            <span class="metric-label">Signal</span>
                            <span class="metric-value ${signalClass}">${signalText}</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function renderAgents() {
            const container = document.getElementById('agents-grid');
            container.innerHTML = agents.slice(0, 12).map(renderAgentCard).join('');
        }
        
        function renderAgentsFull() {
            const container = document.getElementById('agents-full-list');
            if (!container) return;
            
            // Define all phase groups with their agents
            const phaseGroups = [
                { name: 'Phase 0: Core Intelligence', agents: phase0, color: '#8B5CF6', status: 'active' },
                { name: 'Phase 1: CEX Connectors', agents: phase1CEX, color: '#3B82F6', status: 'active' },
                { name: 'Phase 1: DEX Connectors', agents: phase1DEX, color: '#06B6D4', status: 'active' },
                { name: 'Phase 1: TradFi Connectors', agents: phase1TradFi, color: '#10B981', status: 'active' },
                { name: 'Phase 1: OnChain Processors', agents: phase1OnChain, color: '#14B8A6', status: 'active' },
                { name: 'Phase 1: Social & News', agents: phase1Social, color: '#EC4899', status: 'active' },
                { name: 'Phase 1: Stream Processing', agents: phase1Stream, color: '#F59E0B', status: 'active' },
                { name: 'Phase 1: Infrastructure', agents: phase1Infra, color: '#EAB308', status: 'active' },
                { name: 'Phase 2: Execution Suite', agents: phase2, color: '#22C55E', status: 'active' },
                { name: 'Phase 2.5: Risk Enhancement', agents: phase25, color: '#EF4444', status: 'active' },
                { name: 'Phase 3: Monitoring Suite', agents: phase3, color: '#F97316', status: 'active' },
                { name: 'Phase 4: DeFi Protocols', agents: phase4Defi, color: '#A855F7', status: 'development' },
                { name: 'Phase 4: Advanced Analytics', agents: phase4Analytics, color: '#6366F1', status: 'development' },
                { name: 'Phase 5: Operations', agents: phase5Ops, color: '#64748B', status: 'development' },
                { name: 'Phase 5: Compliance', agents: phase5Compliance, color: '#84CC16', status: 'development' }
            ];
            
            container.innerHTML = phaseGroups.map(group => `
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0; border-left: 4px solid ${group.color}; padding-left: 0.75rem;">${group.name}</h3>
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 0.85rem; color: var(--gray-400);">${group.agents.length} agents</span>
                            <span style="padding: 0.25rem 0.5rem; background: ${group.status === 'active' ? 'rgba(34,197,94,0.2)' : 'rgba(107,114,128,0.2)'}; color: ${group.status === 'active' ? 'var(--green-400)' : 'var(--gray-400)'}; border-radius: 4px; font-size: 0.75rem;">
                                ${group.status === 'active' ? '‚óè Active' : '‚óè Development'}
                            </span>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
                        ${group.agents.map(agent => renderFullAgentCard(agent)).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        // New: Render full 96-agent card
        function renderFullAgentCard(agent) {
            const statusColor = agent.status === 'active' ? 'var(--green-400)' : 'var(--gray-500)';
            const healthColor = agent.healthScore >= 90 ? 'var(--green-400)' : agent.healthScore >= 70 ? 'var(--yellow-400)' : 'var(--red-400)';
            return `
                <div class="agent-card" style="background: var(--navy-800); border-radius: 12px; padding: 1rem; border: 1px solid var(--navy-700);">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.75rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 1.5rem;">${agent.icon}</span>
                            <div>
                                <div style="font-weight: 600;">${agent.name}</div>
                                <div style="font-size: 0.75rem; color: var(--gray-500);">${agent.agentId}</div>
                            </div>
                        </div>
                        <span style="color: ${statusColor}; font-size: 0.75rem;">‚óè ${agent.status === 'active' ? 'Active' : 'Dev'}</span>
                    </div>
                    <div style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 0.75rem;">${agent.function}</div>
                    ${agent.status === 'active' ? `
                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem;">
                            <span>Health: <span style="color: ${healthColor};">${agent.healthScore}%</span></span>
                            <span>v${agent.version}</span>
                        </div>
                    ` : `<div style="font-size: 0.8rem; color: var(--gray-500);">${agent.lines.toLocaleString()} lines planned</div>`}
                </div>
            `;
        }
        
        // New: Render DeFi Agents Grid
        function renderDefiAgentsGrid() {
            const container = document.getElementById('defi-agents-grid');
            if (container) container.innerHTML = phase4Defi.map(renderFullAgentCard).join('');
        }
        
        // New: Render Analytics Agents Grid
        function renderAnalyticsAgentsGrid() {
            const container = document.getElementById('analytics-agents-grid');
            if (container) container.innerHTML = phase4Analytics.map(renderFullAgentCard).join('');
        }
        
        // New: Render Operations Agents Grid
        function renderOpsAgentsGrid() {
            const container = document.getElementById('ops-agents-grid');
            if (container) container.innerHTML = phase5Ops.map(renderFullAgentCard).join('');
        }
        
        // New: Render Compliance Agents Grid
        function renderComplianceAgentsGrid() {
            const container = document.getElementById('compliance-agents-grid');
            if (container) container.innerHTML = phase5Compliance.map(renderFullAgentCard).join('');
        }
        
        // New: Render Agent Performance Table
        function renderAgentPerformanceTable() {
            const tbody = document.getElementById('agent-performance-body');
            if (!tbody) return;
            
            const activeAgents = allAgents.filter(a => a.status === 'active').slice(0, 20);
            tbody.innerHTML = activeAgents.map(agent => {
                const healthColor = agent.healthScore >= 90 ? 'var(--green-400)' : agent.healthScore >= 70 ? 'var(--yellow-400)' : 'var(--red-400)';
                return `
                    <tr>
                        <td><strong>${agent.icon} ${agent.name}</strong><br><span style="font-size: 0.75rem; color: var(--gray-500);">${agent.agentId}</span></td>
                        <td><span style="padding: 0.2rem 0.4rem; background: var(--navy-700); border-radius: 4px; font-size: 0.75rem;">${agent.phase}</span></td>
                        <td><span style="color: ${healthColor}; font-weight: 600;">${agent.healthScore}%</span></td>
                        <td>${agent.latency}ms</td>
                        <td>${agent.cpu}%</td>
                        <td>${agent.memory}%</td>
                        <td>v${agent.version}</td>
                        <td style="color: var(--green-400);">${agent.uptime.toFixed(2)}%</td>
                        <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="viewAgentDetails(${agent.id})">Details</button></td>
                    </tr>
                `;
            }).join('');
        }
        
        // Agent utility functions
        function generateAgentHealthReport() { alert('üìÑ Agent Health Report generated for all 96 agents'); }
        function filterHealthByPhase() { console.log('Filtering health by phase'); }
        function investigateAnomaly(agentId) { alert(`üîç Opening investigation panel for Agent #${agentId}`); }
        function viewAgentDetails(agentId) { alert(`üìä Viewing details for Agent #${agentId}`); }
        
        // ============================================
        // ADVANCED PORTFOLIO MANAGEMENT FUNCTIONS
        // ============================================
        
        // Trader data store
        const tradersData = {
            'trader-1': { name: 'Marcus Chen', role: 'Senior Crypto Trader', capital: 280, poolPct: 15.4, pnl: 8.4, winRate: 72, trades: 156, sharpe: 2.12, maxDD: -2.8, capitalUsed: 85 },
            'trader-2': { name: 'Sarah Williams', role: 'DeFi Specialist', capital: 245, poolPct: 13.5, pnl: 6.2, winRate: 68, trades: 124, sharpe: 1.95, maxDD: -3.5, capitalUsed: 72 },
            'trader-3': { name: 'James Rodriguez', role: 'Derivatives Trader', capital: 310, poolPct: 17.0, pnl: 12.8, winRate: 64, trades: 198, sharpe: 2.45, maxDD: -4.2, capitalUsed: 91 },
            'trader-4': { name: 'Emily Park', role: 'Quantitative Analyst', capital: 225, poolPct: 12.4, pnl: 4.2, winRate: 71, trades: 142, sharpe: 1.85, maxDD: -3.2, capitalUsed: 78 },
            'trader-5': { name: 'Michael Thompson', role: 'TradFi Specialist', capital: 260, poolPct: 14.3, pnl: 5.8, winRate: 69, trades: 118, sharpe: 1.72, maxDD: -2.9, capitalUsed: 68 },
            'trader-6': { name: 'Lisa Chang', role: 'Risk Manager', capital: 180, poolPct: 9.9, pnl: 2.1, winRate: 75, trades: 86, sharpe: 1.58, maxDD: -1.8, capitalUsed: 52 },
            'trader-7': { name: 'David Kim', role: 'Arbitrage Specialist', capital: 220, poolPct: 12.1, pnl: 9.5, winRate: 78, trades: 245, sharpe: 2.65, maxDD: -2.1, capitalUsed: 88 },
            'trader-8': { name: 'Rachel Foster', role: 'Junior Trader', capital: 100, poolPct: 5.5, pnl: -0.8, winRate: 52, trades: 64, sharpe: 0.42, maxDD: -6.8, capitalUsed: 45 }
        };
        
        // Master allocation update
        function updateMasterAllocation(value) {
            const agentPct = parseInt(value);
            const humanPct = 100 - agentPct;
            const totalAUM = 9.11; // $9.11B
            
            const agentAmount = (totalAUM * agentPct / 100).toFixed(2);
            const humanAmount = (totalAUM * humanPct / 100).toFixed(2);
            
            // Update displays
            document.getElementById('agent-alloc-display').textContent = '$' + agentAmount + 'B';
            document.getElementById('agent-alloc-pct').textContent = agentPct;
            document.getElementById('human-alloc-display').textContent = '$' + humanAmount + 'B';
            document.getElementById('human-alloc-pct').textContent = humanPct;
            document.getElementById('agent-slider-label').textContent = agentPct + '%';
            document.getElementById('human-slider-label').textContent = humanPct + '%';
            
            // Update slider gradient
            const slider = document.getElementById('master-allocation-slider');
            slider.style.background = `linear-gradient(to right, #8B5CF6 ${agentPct}%, #22C55E ${agentPct}%)`;
            
            // Update agent capital input
            document.getElementById('agent-capital-input').value = agentAmount;
        }
        
        // Update agent capital from input
        function updateAgentCapital() {
            const agentCapital = parseFloat(document.getElementById('agent-capital-input').value);
            const totalAUM = 9.11;
            const agentPct = Math.round((agentCapital / totalAUM) * 100);
            
            document.getElementById('master-allocation-slider').value = agentPct;
            updateMasterAllocation(agentPct);
        }
        
        // Load trader configuration
        function loadTraderConfig(traderId) {
            const panel = document.getElementById('trader-config-panel');
            
            if (!traderId) {
                panel.style.display = 'none';
                return;
            }
            
            panel.style.display = 'block';
            const trader = tradersData[traderId];
            
            if (trader) {
                document.getElementById('trader-capital').value = trader.capital;
                document.getElementById('trader-pool-pct').value = trader.poolPct;
                document.getElementById('trader-pool-pct-display').textContent = trader.poolPct + '%';
                document.getElementById('trader-pnl-display').textContent = (trader.pnl >= 0 ? '+' : '') + '$' + Math.abs(trader.pnl) + 'M';
                document.getElementById('trader-pnl-display').style.color = trader.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                document.getElementById('trader-winrate-display').textContent = trader.winRate + '%';
                document.getElementById('trader-trades-display').textContent = trader.trades;
                document.getElementById('trader-sharpe-display').textContent = trader.sharpe.toFixed(2);
                document.getElementById('trader-dd-display').textContent = trader.maxDD + '%';
                document.getElementById('trader-capital-used-display').textContent = trader.capitalUsed + '%';
            }
        }
        
        // Select trader from table
        function selectTrader(traderId) {
            document.getElementById('trader-select').value = traderId;
            loadTraderConfig(traderId);
            
            // Scroll to config panel
            document.getElementById('trader-config-panel').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Update trader pool percentage display
        function updateTraderPoolPct() {
            const value = document.getElementById('trader-pool-pct').value;
            document.getElementById('trader-pool-pct-display').textContent = value + '%';
        }
        
        // Apply trader configuration
        function applyTraderConfig() {
            const traderId = document.getElementById('trader-select').value;
            if (!traderId) {
                alert('‚ö†Ô∏è Please select a trader first');
                return;
            }
            
            const capital = document.getElementById('trader-capital').value;
            const poolPct = document.getElementById('trader-pool-pct').value;
            
            alert(`‚úÖ Configuration applied for ${tradersData[traderId].name}:\n‚Ä¢ Capital: $${capital}M\n‚Ä¢ Pool Allocation: ${poolPct}%`);
        }
        
        // View trader history
        function viewTraderHistory() {
            const traderId = document.getElementById('trader-select').value;
            if (!traderId) {
                alert('‚ö†Ô∏è Please select a trader first');
                return;
            }
            alert(`üìä Opening trading history for ${tradersData[traderId].name}...`);
        }
        
        // Add new trader
        function addNewTrader() {
            const name = prompt('Enter new trader name:');
            if (name) {
                alert(`‚úÖ New trader "${name}" added. Please configure their settings.`);
            }
        }
        
        // Reset all allocations
        function resetAllAllocations() {
            if (confirm('Are you sure you want to reset all allocations to defaults?')) {
                document.getElementById('master-allocation-slider').value = 80;
                updateMasterAllocation(80);
                document.getElementById('trader-select').value = '';
                document.getElementById('trader-config-panel').style.display = 'none';
                alert('‚úÖ All allocations reset to defaults');
            }
        }
        
        // Save all allocations
        function saveAllAllocations() {
            const agentPct = document.getElementById('master-allocation-slider').value;
            const agentCapital = document.getElementById('agent-capital-input').value;
            
            alert(`üíæ Configuration Saved:\n\n‚Ä¢ Agent Allocation: ${agentPct}% ($${agentCapital}B)\n‚Ä¢ Human Allocation: ${100 - agentPct}% ($${(9.11 - agentCapital).toFixed(2)}B)\n\nAll trader configurations have been saved.`);
        }
        
        function renderTrade(trade) {
            const pnlClass = trade.pnl >= 0 ? 'positive' : 'negative';
            return `
                <div class="trade-item">
                    <div class="trade-left">
                        <div class="trade-indicator ${trade.side.toLowerCase()}"></div>
                        <div>
                            <div class="trade-symbol">${trade.symbol}</div>
                            <div class="trade-time">${trade.time}</div>
                        </div>
                    </div>
                    <div class="trade-right">
                        <div class="trade-value">${formatCurrency(trade.value)}</div>
                        <div class="trade-pnl ${pnlClass}">${formatPercent(trade.pnl)}</div>
                    </div>
                </div>
            `;
        }
        
        function renderTrades() {
            document.getElementById('trade-list').innerHTML = trades.slice(0, 10).map(renderTrade).join('');
            document.getElementById('trading-trade-list').innerHTML = trades.map(renderTrade).join('');
        }
        
        function renderAssets() {
            const tbody = document.getElementById('assets-tbody');
            tbody.innerHTML = assets.map(asset => {
                const changeClass = asset.change >= 0 ? 'positive' : 'negative';
                const priceFormatted = asset.price >= 1000 ? '$' + asset.price.toLocaleString() : 
                                       asset.price >= 1 ? '$' + asset.price.toFixed(2) : 
                                       '$' + asset.price.toFixed(4);
                return `
                    <tr>
                        <td>
                            <div class="asset-cell">
                                <div class="asset-icon" style="background-color: ${asset.color};">${asset.symbol.slice(0, 2)}</div>
                                <div>
                                    <div class="asset-name">${asset.symbol}</div>
                                    <div class="asset-fullname">${asset.name}</div>
                                </div>
                            </div>
                        </td>
                        <td class="price-cell">${priceFormatted}</td>
                        <td class="change-cell ${changeClass}">${formatPercent(asset.change)}</td>
                        <td class="class-cell"><span class="class-badge">${asset.class}</span></td>
                        <td>
                            <div class="allocation-cell">
                                <div class="allocation-bar">
                                    <div class="allocation-fill" style="width: ${asset.allocation * 2.5}%; background-color: ${asset.color};"></div>
                                </div>
                                <span class="allocation-value">${asset.allocation}%</span>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        function renderVenueCard(venue) {
            return `
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">${venue.name}</span>
                        <span class="stat-icon">${venue.icon}</span>
                    </div>
                    <div class="stat-value small">${formatCurrency(venue.volume * 1e9)}</div>
                    <div class="stat-change neutral">${venue.trades.toLocaleString()} trades ‚Ä¢ ${venue.fillRate}% fill</div>
                </div>
            `;
        }
        
        function renderVenues() {
            document.getElementById('crypto-venues-grid').innerHTML = cryptoVenues.map(renderVenueCard).join('');
            document.getElementById('tradfi-venues-grid').innerHTML = tradfiVenues.map(renderVenueCard).join('');
        }
        
        function renderRiskLimits() {
            const container = document.getElementById('risk-limits');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    ${riskLimits.map(limit => {
                        const utilization = (limit.current / limit.limit) * 100;
                        const barColor = utilization > 90 ? '#EF4444' : utilization > 70 ? '#F59E0B' : '#22C55E';
                        return `
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="color: var(--gray-400);">${limit.name}</span>
                                    <span>${limit.current} / ${limit.limit}</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; background-color: ${barColor}; border-radius: 4px; width: ${Math.min(utilization, 100)}%;"></div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }
        
        function renderPhaseStats() {
            const container = document.getElementById('phase-stats');
            container.innerHTML = phaseData.map(phase => `
                <div class="card">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                        <div style="width: 12px; height: 12px; border-radius: 50%; background-color: ${phase.color};"></div>
                        <span style="font-weight: 600;">${phase.phase} Market</span>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--gray-400); font-size: 0.875rem;">Avg Return</span>
                            <span style="font-weight: 700;">${formatPercent(phase.return)}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--gray-400); font-size: 0.875rem;">Win Rate</span>
                            <span style="font-weight: 500;">${phase.winRate}%</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--gray-400); font-size: 0.875rem;">Sharpe</span>
                            <span style="font-weight: 500;">${phase.sharpe}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderAllocationLegend() {
            const legend = document.getElementById('allocation-legend');
            legend.innerHTML = allocationData.map(item => `
                <div class="legend-item">
                    <div class="legend-color" style="background-color: ${item.color};"></div>
                    <span class="legend-label">${item.name}</span>
                    <span class="legend-value">${item.value}%</span>
                </div>
            `).join('');
        }
        
        function renderBenchmarkComparison() {
            const tbody = document.getElementById('benchmark-comparison');
            tbody.innerHTML = benchmarks.map(b => `
                <tr class="${b.highlight ? 'highlight-row' : ''}">
                    <td>${b.name}</td>
                    <td style="color: ${b.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y1)}</td>
                    <td style="color: ${b.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y3)}</td>
                    <td style="color: ${b.y5 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y5)}</td>
                    <td style="color: ${b.y10 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y10)}</td>
                    <td>${b.sharpe.toFixed(2)}</td>
                    <td style="color: var(--red-400);">${b.maxDD}%</td>
                </tr>
            `).join('');
        }
        
        function renderInvestorComparison() {
            const tbody = document.getElementById('investor-comparison-table');
            tbody.innerHTML = investorComparisons.map(c => `
                <tr class="${c.highlight ? 'highlight-row' : ''}">
                    <td>${c.name}</td>
                    <td style="color: ${c.ytd >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.ytd)}</td>
                    <td style="color: ${c.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y1)}</td>
                    <td style="color: ${c.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y3)}</td>
                    <td>${c.vol.toFixed(1)}%</td>
                    <td>${c.sharpe.toFixed(2)}</td>
                    <td style="color: var(--red-400);">${c.maxDD}%</td>
                </tr>
            `).join('');
        }
        
        function renderTraderPnL() {
            const container = document.getElementById('trader-pnl-list');
            container.innerHTML = traderPnL.map(trader => `
                <div class="pnl-item">
                    <div>
                        <div style="font-weight: 500;">${trader.name}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-500);">${trader.trades} trades ‚Ä¢ ${trader.winRate}% win</div>
                    </div>
                    <span class="pnl-value ${trader.pnl >= 0 ? 'positive' : 'negative'}">${formatCurrency(trader.pnl)}</span>
                </div>
            `).join('');
        }
        
        function renderQuarterlyReports() {
            const container = document.getElementById('quarterly-reports');
            container.innerHTML = quarterlyReports.map(report => `
                <div class="report-item">
                    <div class="report-info">
                        <span class="report-icon">üìÑ</span>
                        <div>
                            <div class="report-name">${report.name}</div>
                            <div class="report-date">${report.date}</div>
                        </div>
                    </div>
                    <button class="report-btn">Download</button>
                </div>
            `).join('');
        }
        
        function renderAutomatedReports() {
            const container = document.getElementById('automated-reports-list');
            container.innerHTML = automatedReports.map(report => `
                <div class="report-item" style="margin-bottom: 0.75rem;">
                    <div class="report-info">
                        <span class="report-icon">ü§ñ</span>
                        <div>
                            <div class="report-name">${report.name} - ${report.time}</div>
                            <div class="report-date">${report.date} ‚Ä¢ ${report.assets} assets ‚Ä¢ ${report.signals} signals ‚Ä¢ Top: ${report.topPick}</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="padding: 0.25rem 0.5rem; background-color: ${report.sentiment === 'Bullish' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(250, 204, 21, 0.2)'}; color: ${report.sentiment === 'Bullish' ? 'var(--green-400)' : 'var(--yellow-400)'}; border-radius: 4px; font-size: 0.75rem;">${report.sentiment}</span>
                        <button class="report-btn">View</button>
                    </div>
                </div>
            `).join('');
        }
        
        function generateAssetReport() {
            const asset = document.getElementById('research-asset-select').value;
            const reportType = document.getElementById('research-report-type').value;
            const timeframe = document.getElementById('research-timeframe').value;
            const data = assetReportData[asset] || assetReportData['BTC'];
            const assetInfo = assets.find(a => a.symbol === asset) || { name: asset, price: 0, change: 0 };
            
            const recColor = data.recommendation.includes('BUY') ? 'var(--green-400)' : 
                            data.recommendation.includes('SELL') ? 'var(--red-400)' : 'var(--yellow-400)';
            
            const timestamp = new Date().toLocaleString();
            document.getElementById('report-timestamp').textContent = `Generated: ${timestamp}`;
            
            const reportHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <!-- Left Column - Scores & Analysis -->
                    <div>
                        <h4 style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;">${asset === 'BTC' ? '‚Çø' : asset === 'ETH' ? 'Œû' : 'üìà'}</span>
                            ${asset} - ${assetInfo.name}
                        </h4>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.25rem;">Current Price</div>
                                <div style="font-size: 1.25rem; font-weight: 700;">$${assetInfo.price.toLocaleString()}</div>
                                <div style="font-size: 0.875rem; color: ${assetInfo.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${assetInfo.change >= 0 ? '+' : ''}${assetInfo.change}%</div>
                            </div>
                            <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px;">
                                <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.25rem;">AI Confidence</div>
                                <div style="font-size: 1.25rem; font-weight: 700;">${data.confidence}%</div>
                                <div style="font-size: 0.875rem; color: var(--gray-400);">19 agents consensus</div>
                            </div>
                        </div>
                        
                        <h5 style="margin-bottom: 0.75rem; color: var(--gray-400);">Agent Analysis Scores</h5>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üí≠ Sentiment Analysis</span>
                                    <span style="font-weight: 600; color: ${data.sentiment >= 70 ? 'var(--green-400)' : data.sentiment >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.sentiment}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.sentiment}%; background-color: ${data.sentiment >= 70 ? 'var(--green-400)' : data.sentiment >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üìà Technical Analysis</span>
                                    <span style="font-weight: 600; color: ${data.technical >= 70 ? 'var(--green-400)' : data.technical >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.technical}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.technical}%; background-color: ${data.technical >= 70 ? 'var(--green-400)' : data.technical >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üìä Fundamental Analysis</span>
                                    <span style="font-weight: 600; color: ${data.fundamental >= 70 ? 'var(--green-400)' : data.fundamental >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.fundamental}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.fundamental}%; background-color: ${data.fundamental >= 70 ? 'var(--green-400)' : data.fundamental >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span style="font-size: 0.875rem;">üõ°Ô∏è Risk Assessment</span>
                                    <span style="font-weight: 600; color: ${data.risk >= 70 ? 'var(--green-400)' : data.risk >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${data.risk}/100</span>
                                </div>
                                <div style="height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                                    <div style="height: 100%; width: ${data.risk}%; background-color: ${data.risk >= 70 ? 'var(--green-400)' : data.risk >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'}; border-radius: 4px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column - Recommendation -->
                    <div>
                        <div style="background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(217, 119, 6, 0.1)); border: 1px solid rgba(30, 64, 175, 0.3); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.5rem;">AI RECOMMENDATION</div>
                            <div style="font-size: 2rem; font-weight: 700; color: ${recColor}; margin-bottom: 1rem;">${data.recommendation}</div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                                <div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Target Price</div>
                                    <div style="font-size: 1.25rem; font-weight: 600; color: var(--green-400);">$${data.target.toLocaleString()}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.75rem; color: var(--gray-400);">Stop Loss</div>
                                    <div style="font-size: 1.25rem; font-weight: 600; color: var(--red-400);">$${data.stopLoss.toLocaleString()}</div>
                                </div>
                            </div>
                        </div>
                        
                        <h5 style="margin-bottom: 0.75rem; color: var(--gray-400);">Trade Setup</h5>
                        <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="color: var(--gray-400);">Entry Zone</span>
                                <span style="font-family: monospace;">$${(assetInfo.price * 0.98).toFixed(2)} - $${(assetInfo.price * 1.02).toFixed(2)}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="color: var(--gray-400);">Risk/Reward</span>
                                <span style="font-family: monospace; color: var(--green-400);">1:${((data.target - assetInfo.price) / (assetInfo.price - data.stopLoss)).toFixed(1)}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="color: var(--gray-400);">Position Size</span>
                                <span style="font-family: monospace;">2-5% of portfolio</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--gray-400);">Timeframe</span>
                                <span style="font-family: monospace;">${timeframe === '1h' ? '1-4 hours' : timeframe === '4h' ? '4-12 hours' : timeframe === '1d' ? '1-3 days' : timeframe === '1w' ? '1-2 weeks' : '2-4 weeks'}</span>
                            </div>
                        </div>
                        
                        <h5 style="margin-bottom: 0.75rem; color: var(--gray-400);">Contributing Agents</h5>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            ${agents.slice(0, 8).map(a => `<span style="padding: 0.25rem 0.5rem; background-color: var(--navy-700); border-radius: 4px; font-size: 0.75rem;">${a.icon} ${a.name}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('asset-report-content').innerHTML = reportHTML;
        }
        
        function generateFullMarketReport() {
            const timestamp = new Date().toLocaleString();
            document.getElementById('market-report-timestamp').textContent = `Generated: ${timestamp}`;
            
            // Calculate market summary
            const bullishAssets = Object.entries(assetReportData).filter(([k, v]) => v.sentiment >= 65).length;
            const bearishAssets = Object.entries(assetReportData).filter(([k, v]) => v.sentiment < 45).length;
            const neutralAssets = 17 - bullishAssets - bearishAssets;
            
            const topPicks = Object.entries(assetReportData)
                .sort((a, b) => b[1].confidence - a[1].confidence)
                .slice(0, 5);
            
            const reportHTML = `
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--green-400);">${bullishAssets}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Bullish Assets</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--yellow-400);">${neutralAssets}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Neutral Assets</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--red-400);">${bearishAssets}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Bearish Assets</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--maxam-gold);">19</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Active Agents</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">üèÜ Top 5 Opportunities</h4>
                        ${topPicks.map(([symbol, data], i) => {
                            const asset = assets.find(a => a.symbol === symbol) || { name: symbol, price: 0 };
                            const recColor = data.recommendation.includes('BUY') ? 'var(--green-400)' : 
                                            data.recommendation.includes('SELL') ? 'var(--red-400)' : 'var(--yellow-400)';
                            return `
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                                        <span style="font-size: 1.25rem; font-weight: 700; color: var(--maxam-gold);">#${i + 1}</span>
                                        <div>
                                            <div style="font-weight: 600;">${symbol}</div>
                                            <div style="font-size: 0.75rem; color: var(--gray-500);">${asset.name}</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-weight: 600; color: ${recColor};">${data.recommendation}</div>
                                        <div style="font-size: 0.75rem; color: var(--gray-400);">${data.confidence}% confidence</div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">üìä Market Sector Analysis</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Crypto</span>
                                    <span style="color: var(--green-400);">BULLISH</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 78%; background-color: var(--green-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Equities</span>
                                    <span style="color: var(--green-400);">BULLISH</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 72%; background-color: var(--green-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Commodities</span>
                                    <span style="color: var(--yellow-400);">NEUTRAL</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 55%; background-color: var(--yellow-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>Fixed Income</span>
                                    <span style="color: var(--yellow-400);">NEUTRAL</span>
                                </div>
                                <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: 48%; background-color: var(--yellow-400); border-radius: 3px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem; padding: 1rem; background-color: var(--navy-700); border-radius: 8px;">
                    <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">ü§ñ Agent Consensus Summary</h4>
                    <p style="color: var(--gray-300); line-height: 1.6;">
                        The 19-agent AI system has analyzed all 17 assets across crypto, equities, commodities, and fixed income markets. 
                        <strong style="color: var(--green-400);">Overall market sentiment is BULLISH</strong> with a weighted confidence score of 76.4%. 
                        Primary opportunities are concentrated in the cryptocurrency sector, with <strong>SOL</strong> receiving the highest conviction rating. 
                        Risk agents have flagged elevated volatility in commodities due to geopolitical factors. 
                        Portfolio allocation recommendations favor maintaining current crypto exposure while reducing fixed income positions by 2-3%.
                    </p>
                </div>
            `;
            
            document.getElementById('market-report-content').innerHTML = reportHTML;
        }
        
        // ============================================
        // AUDITING FUNCTIONS
        // ============================================
        function renderAuditReports() {
            const container = document.getElementById('audit-reports-list');
            container.innerHTML = auditReports.map(report => `
                <div class="report-item" style="margin-bottom: 0.75rem;">
                    <div class="report-info">
                        <span class="report-icon">${report.icon}</span>
                        <div>
                            <div class="report-name">${report.type} Audit - ${report.date}</div>
                            <div class="report-date">${report.time} ‚Ä¢ ${report.findings} findings</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="padding: 0.25rem 0.5rem; background-color: ${report.status === 'passed' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${report.status === 'passed' ? 'var(--green-400)' : 'var(--red-400)'}; border-radius: 4px; font-size: 0.75rem;">‚úì Passed</span>
                        <button class="report-btn">View</button>
                    </div>
                </div>
            `).join('');
        }
        
        function renderPositionReconciliation() {
            const container = document.getElementById('position-reconciliation');
            container.innerHTML = positionReconciliation.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <span>${item.name}</span>
                    <span style="color: var(--green-400);">‚úì ${item.variance}</span>
                </div>
            `).join('');
        }
        
        function renderCashVerification() {
            const container = document.getElementById('cash-verification');
            container.innerHTML = cashVerification.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <span>${item.custodian}</span>
                    <div style="text-align: right;">
                        <div style="color: var(--green-400);">‚úì ${item.balance}</div>
                        <div style="font-size: 0.7rem; color: var(--gray-500);">${item.lastCheck}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderComplianceChecks() {
            const container = document.getElementById('compliance-checks');
            container.innerHTML = complianceChecks.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <span>${item.name}</span>
                    <span style="color: var(--green-400);">‚úì</span>
                </div>
            `).join('');
        }
        
        function generateAudit() {
            const auditType = document.getElementById('audit-type-select').value;
            const timestamp = new Date().toLocaleString();
            document.getElementById('audit-timestamp').textContent = `Generated: ${timestamp}`;
            
            const auditNames = {
                full: 'Full Portfolio Audit',
                reconciliation: 'Reconciliation Audit',
                compliance: 'Compliance Audit',
                performance: 'Performance Audit',
                risk: 'Risk Assessment Audit',
                tax: 'Tax Lot Audit'
            };
            
            const auditHTML = `
                <div style="border-left: 4px solid var(--green-400); padding-left: 1rem; margin-bottom: 1.5rem;">
                    <div style="font-size: 1.25rem; font-weight: 700; color: var(--green-400); margin-bottom: 0.25rem;">AUDIT PASSED</div>
                    <div style="color: var(--gray-400);">${auditNames[auditType]} completed successfully</div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700;">$9.11B</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Total AUM Verified</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">0</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Discrepancies</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700;">17</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Assets Audited</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700;">6</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">Custodians Verified</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">‚úÖ Verification Summary</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Position Reconciliation</span>
                                <span style="color: var(--green-400);">‚úì Matched</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>NAV Calculation</span>
                                <span style="color: var(--green-400);">‚úì Verified</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Trade Confirmations</span>
                                <span style="color: var(--green-400);">‚úì 23,847 verified</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Cash Balances</span>
                                <span style="color: var(--green-400);">‚úì $2.09B verified</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Fee Calculations</span>
                                <span style="color: var(--green-400);">‚úì Accurate</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem; color: var(--gray-400);">üìã Compliance Status</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>SEC Regulation D</span>
                                <span style="color: var(--green-400);">‚úì Compliant</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>AML/KYC Requirements</span>
                                <span style="color: var(--green-400);">‚úì Compliant</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>SOC 2 Type II Controls</span>
                                <span style="color: var(--green-400);">‚úì Compliant</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Risk Limits</span>
                                <span style="color: var(--green-400);">‚úì Within bounds</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                                <span>Investor Accreditation</span>
                                <span style="color: var(--green-400);">‚úì 100% verified</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem; padding: 1rem; background-color: var(--navy-700); border-radius: 8px;">
                    <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">üìù Auditor Notes</h4>
                    <p style="color: var(--gray-300); line-height: 1.6; margin-bottom: 0.5rem;">
                        The portfolio has been fully reconciled across all custodians and trading venues. All positions match between internal records and external statements. 
                        NAV calculations have been verified using independent pricing sources. No material discrepancies were identified.
                    </p>
                    <p style="color: var(--gray-300); line-height: 1.6;">
                        <strong>Recommendation:</strong> Continue current operational procedures. Next scheduled comprehensive audit: Q1 2025.
                    </p>
                </div>
                
                <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                    <button class="control-btn">üì• Download Full Report (PDF)</button>
                    <button class="control-btn secondary">üìß Email to Stakeholders</button>
                </div>
            `;
            
            document.getElementById('audit-report-content').innerHTML = auditHTML;
        }
        
        // ============================================
        // SECURITY FUNCTIONS
        // ============================================
        function renderThreatFeed() {
            const container = document.getElementById('threat-feed');
            container.innerHTML = threatFeed.map(threat => {
                const severityColors = {
                    low: 'var(--green-400)',
                    medium: 'var(--yellow-400)',
                    high: 'var(--red-400)',
                    info: 'var(--gray-400)'
                };
                return `
                    <div style="display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${severityColors[threat.severity]};">
                        <span style="font-size: 1.25rem;">${threat.icon}</span>
                        <div style="flex: 1;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                <span style="font-weight: 500;">${threat.type}</span>
                                <span style="font-size: 0.75rem; color: var(--gray-500);">${threat.time}</span>
                            </div>
                            <div style="font-size: 0.875rem; color: var(--gray-400);">${threat.description}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderAnomalyDetection() {
            const container = document.getElementById('anomaly-detection');
            container.innerHTML = anomalyDetection.map(item => {
                const statusColors = {
                    normal: 'var(--green-400)',
                    alert: 'var(--yellow-400)',
                    critical: 'var(--red-400)'
                };
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                        <div>
                            <div style="font-weight: 500;">${item.metric}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">${item.description}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: 600; color: ${statusColors[item.status]};">${item.status.toUpperCase()}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">${item.deviation}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderDDoSMetrics() {
            const container = document.getElementById('ddos-metrics');
            container.innerHTML = ddosMetrics.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                    <span style="color: var(--gray-400);">${item.metric}</span>
                    <span style="font-weight: 600;">${item.value}</span>
                </div>
            `).join('');
        }
        
        function renderFrontrunAlerts() {
            const container = document.getElementById('frontrun-alerts');
            container.innerHTML = frontrunAlerts.map(alert => `
                <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span style="font-weight: 500;">${alert.pair} - ${alert.type}</span>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${alert.status === 'Blocked' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(250, 204, 21, 0.2)'}; color: ${alert.status === 'Blocked' ? 'var(--green-400)' : 'var(--yellow-400)'}; border-radius: 4px; font-size: 0.75rem;">${alert.status}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.875rem; color: var(--gray-400);">
                        <span>${alert.amount}</span>
                        <span>${alert.time}</span>
                    </div>
                    <div style="font-size: 0.75rem; color: var(--gray-500); margin-top: 0.25rem;">${alert.action}</div>
                </div>
            `).join('');
        }
        
        function renderWalletTracking() {
            const container = document.getElementById('wallet-tracking-body');
            container.innerHTML = companyWallets.map(wallet => `
                <tr>
                    <td>
                        <div style="font-weight: 500;">${wallet.name}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-500);">Multi-sig: ${wallet.multisig}</div>
                    </td>
                    <td style="font-family: monospace;">${wallet.address}</td>
                    <td><span class="class-badge">${wallet.network}</span></td>
                    <td style="font-weight: 600;">${wallet.balance}</td>
                    <td style="color: var(--gray-400);">${wallet.lastActivity}</td>
                    <td>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${wallet.status === 'active' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(30, 64, 175, 0.2)'}; color: ${wallet.status === 'active' ? 'var(--green-400)' : 'var(--maxam-blue)'}; border-radius: 4px; font-size: 0.75rem;">${wallet.status}</span>
                    </td>
                    <td>
                        <button class="report-btn" style="padding: 0.25rem 0.5rem; font-size: 0.7rem;">View</button>
                    </td>
                </tr>
            `).join('');
        }
        
        function renderSecurityNotifications() {
            const container = document.getElementById('security-notifications');
            const typeColors = {
                info: { bg: 'rgba(59, 130, 246, 0.2)', color: '#3B82F6' },
                warning: { bg: 'rgba(250, 204, 21, 0.2)', color: 'var(--yellow-400)' },
                success: { bg: 'rgba(34, 197, 94, 0.2)', color: 'var(--green-400)' },
                error: { bg: 'rgba(239, 68, 68, 0.2)', color: 'var(--red-400)' }
            };
            container.innerHTML = securityNotifications.map(notif => `
                <div style="display: flex; gap: 0.75rem; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${typeColors[notif.type].color};">
                    <span style="font-size: 1.25rem;">${notif.icon}</span>
                    <div style="flex: 1;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                            <span style="font-weight: 500;">${notif.title}</span>
                            <span style="font-size: 0.75rem; color: var(--gray-500);">${notif.time}</span>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">${notif.message}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderSecurityMetrics() {
            const container = document.getElementById('security-metrics');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                    ${securityMetricsData.map(metric => `
                        <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 1.25rem;">${metric.icon}</span>
                                <span style="font-size: 0.75rem; color: ${metric.change.startsWith('+') ? 'var(--green-400)' : metric.change.startsWith('-') ? 'var(--red-400)' : 'var(--gray-400)'};">${metric.change}</span>
                            </div>
                            <div style="font-size: 1.25rem; font-weight: 700; margin: 0.25rem 0;">${metric.value}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">${metric.name}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        function renderAccessLog() {
            const container = document.getElementById('access-log');
            container.innerHTML = accessLog.map(log => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; font-size: 0.875rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="width: 80px; color: var(--gray-500);">${log.time}</span>
                        <span style="font-weight: 500;">${log.user}</span>
                        <span style="color: var(--gray-400);">${log.action}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="color: var(--gray-500);">${log.location}</span>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${log.status === 'success' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${log.status === 'success' ? 'var(--green-400)' : 'var(--red-400)'}; border-radius: 4px; font-size: 0.75rem;">${log.status}</span>
                    </div>
                </div>
            `).join('');
        }
        
        function refreshWallets() {
            // Simulate refresh animation
            const btn = event.target;
            btn.textContent = '‚è≥ Refreshing...';
            setTimeout(() => {
                btn.textContent = 'üîÑ Refresh';
                renderWalletTracking();
            }, 1000);
        }
        
        // ============================================
        // ENHANCED RISK MANAGEMENT FUNCTIONS
        // ============================================
        function renderRiskScores() {
            const container = document.getElementById('risk-scores-body');
            container.innerHTML = assetRiskScores.map(asset => {
                const riskColor = asset.riskScore >= 70 ? 'var(--red-400)' : asset.riskScore >= 40 ? 'var(--yellow-400)' : 'var(--green-400)';
                const statusColors = {
                    'very-low': 'rgba(34, 197, 94, 0.2)',
                    'low': 'rgba(34, 197, 94, 0.15)',
                    'moderate': 'rgba(250, 204, 21, 0.2)',
                    'high': 'rgba(239, 68, 68, 0.2)'
                };
                const statusTextColors = {
                    'very-low': 'var(--green-400)',
                    'low': 'var(--green-400)',
                    'moderate': 'var(--yellow-400)',
                    'high': 'var(--red-400)'
                };
                return `
                    <tr>
                        <td>
                            <div style="font-weight: 600;">${asset.symbol}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">${asset.name}</div>
                        </td>
                        <td><span class="class-badge">${asset.class}</span></td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 60px; height: 6px; background-color: var(--navy-600); border-radius: 3px;">
                                    <div style="height: 100%; width: ${asset.riskScore}%; background-color: ${riskColor}; border-radius: 3px;"></div>
                                </div>
                                <span style="font-weight: 600; color: ${riskColor};">${asset.riskScore}</span>
                            </div>
                        </td>
                        <td>${asset.var95}%</td>
                        <td>${asset.volatility}%</td>
                        <td>${asset.liquidity}/100</td>
                        <td>${asset.smartContract ? asset.smartContract + '/100' : 'N/A'}</td>
                        <td style="color: ${asset.correlation >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${asset.correlation.toFixed(2)}</td>
                        <td>
                            <span style="padding: 0.2rem 0.5rem; background-color: ${statusColors[asset.status]}; color: ${statusTextColors[asset.status]}; border-radius: 4px; font-size: 0.75rem; text-transform: uppercase;">${asset.status.replace('-', ' ')}</span>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        function renderExposureAnalysis() {
            const container = document.getElementById('exposure-analysis');
            container.innerHTML = exposureAnalysis.map(item => `
                <div style="margin-bottom: 0.75rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>${item.class}</span>
                        <span style="font-weight: 600;">${item.percentage}% <span style="color: var(--gray-500); font-weight: 400;">(${item.exposure})</span></span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="flex: 1; height: 8px; background-color: var(--navy-600); border-radius: 4px; position: relative;">
                            <div style="height: 100%; width: ${(item.percentage / item.limit) * 100}%; background-color: ${item.percentage / item.limit > 0.8 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 4px;"></div>
                            <div style="position: absolute; right: 0; top: -2px; bottom: -2px; width: 2px; background-color: var(--red-400);" title="Limit: ${item.limit}%"></div>
                        </div>
                        <span style="font-size: 0.75rem; color: var(--gray-500); width: 50px;">/${item.limit}%</span>
                    </div>
                </div>
            `).join('');
        }
        
        function renderCorrelationMatrix() {
            const container = document.getElementById('correlation-matrix');
            container.innerHTML = topCorrelations.map(item => {
                const corrColor = Math.abs(item.correlation) >= 0.7 ? (item.correlation >= 0 ? 'var(--red-400)' : 'var(--green-400)') : 'var(--yellow-400)';
                const trendIcon = item.trend === 'increasing' ? '‚Üë' : item.trend === 'decreasing' ? '‚Üì' : '‚Üí';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                        <span style="font-weight: 500;">${item.pair}</span>
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-weight: 600; color: ${corrColor};">${item.correlation.toFixed(2)}</span>
                            <span style="font-size: 0.875rem; color: var(--gray-400);">${trendIcon}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderStressTests() {
            const container = document.getElementById('stress-tests');
            const statusColors = {
                acceptable: { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)' },
                warning: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)' },
                critical: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)' }
            };
            container.innerHTML = stressTests.map(test => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                    <div>
                        <div style="font-weight: 500;">${test.scenario}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-500);">Probability: ${test.probability}</div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <span style="font-weight: 600; color: var(--red-400);">${test.portfolioImpact}</span>
                        <span style="padding: 0.2rem 0.5rem; background-color: ${statusColors[test.status].bg}; color: ${statusColors[test.status].text}; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase;">${test.status}</span>
                    </div>
                </div>
            `).join('');
        }
        
        function renderRiskAlerts() {
            const container = document.getElementById('risk-alerts');
            const severityColors = {
                low: { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)', border: 'var(--green-400)' },
                medium: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)', border: 'var(--yellow-400)' },
                high: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)', border: 'var(--red-400)' }
            };
            container.innerHTML = riskAlerts.map(alert => `
                <div style="display: flex; gap: 1rem; padding: 1rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.75rem; border-left: 3px solid ${severityColors[alert.severity].border};">
                    <div style="flex: 1;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600;">${alert.title}</span>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <span style="padding: 0.2rem 0.5rem; background-color: ${severityColors[alert.severity].bg}; color: ${severityColors[alert.severity].text}; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase;">${alert.severity}</span>
                                <span style="font-size: 0.75rem; color: var(--gray-500);">${alert.time}</span>
                            </div>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.5rem;">${alert.description}</div>
                        <div style="font-size: 0.75rem; color: var(--maxam-gold);">Recommended: ${alert.action}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function filterRiskAssets() {
            const assetClass = document.getElementById('risk-asset-class').value;
            const select = document.getElementById('risk-asset-select');
            
            const assetsByClass = {
                all: ['SOL', 'BTC', 'ETH', 'XRP', 'BNB', 'ADA', 'XLM', 'USDT', 'USDC', 'SPY', 'QQQ', 'TLT', 'GLD', 'SLV', 'USO', 'VNQ', 'VIX'],
                crypto: ['SOL', 'BTC', 'ETH', 'XRP', 'BNB', 'ADA', 'XLM'],
                stablecoin: ['USDT', 'USDC'],
                equity: ['SPY', 'QQQ'],
                'fixed-income': ['TLT'],
                commodity: ['GLD', 'SLV', 'USO'],
                reit: ['VNQ'],
                derivative: ['VIX']
            };
            
            const assetNames = {
                SOL: 'Solana', BTC: 'Bitcoin', ETH: 'Ethereum', XRP: 'Ripple', BNB: 'Binance Coin',
                ADA: 'Cardano', XLM: 'Stellar', USDT: 'Tether', USDC: 'USD Coin', SPY: 'S&P 500 ETF',
                QQQ: 'Nasdaq 100', TLT: 'Treasury Bonds', GLD: 'Gold ETF', SLV: 'Silver ETF',
                USO: 'Oil ETF', VNQ: 'Real Estate', VIX: 'Volatility Index'
            };
            
            const filteredAssets = assetsByClass[assetClass] || assetsByClass.all;
            select.innerHTML = filteredAssets.map(symbol => 
                `<option value="${symbol}">${symbol} - ${assetNames[symbol]}</option>`
            ).join('');
        }
        
        function generateRiskAssessment() {
            const symbol = document.getElementById('risk-asset-select').value;
            const timeframe = document.getElementById('risk-timeframe').value;
            const timestamp = new Date().toLocaleString();
            document.getElementById('risk-assessment-timestamp').textContent = `Generated: ${timestamp}`;
            
            const assetData = assetRiskScores.find(a => a.symbol === symbol);
            const detailedData = assetRiskDetails[symbol] || {
                overview: `${assetData.name} risk analysis based on current market conditions`,
                keyRisks: ['Market volatility', 'Liquidity risk', 'Correlation risk', 'Regulatory risk'],
                metrics: { dailyVolume: 'N/A', marketCap: 'N/A' },
                historicalDrawdowns: []
            };
            
            const riskColor = assetData.riskScore >= 70 ? 'var(--red-400)' : assetData.riskScore >= 40 ? 'var(--yellow-400)' : 'var(--green-400)';
            const riskLevel = assetData.riskScore >= 70 ? 'HIGH' : assetData.riskScore >= 40 ? 'MODERATE' : 'LOW';
            
            const timeframeLabels = { '1d': '1 Day', '7d': '7 Days', '30d': '30 Days', '90d': '90 Days', '1y': '1 Year' };
            
            const assessmentHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--navy-600);">
                    <div>
                        <div style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;">${symbol} - ${assetData.name}</div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">${assetData.class} ‚Ä¢ Timeframe: ${timeframeLabels[timeframe]}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.25rem;">Overall Risk Score</div>
                        <div style="font-size: 2.5rem; font-weight: 700; color: ${riskColor};">${assetData.riskScore}</div>
                        <div style="padding: 0.25rem 0.75rem; background-color: ${riskColor}20; color: ${riskColor}; border-radius: 4px; font-size: 0.875rem; font-weight: 600;">${riskLevel} RISK</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700;">${assetData.var95}%</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">VaR (95%)</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700;">${assetData.volatility}%</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">30d Volatility</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700;">${assetData.liquidity}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">Liquidity Score</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.25rem; font-weight: 700; color: ${assetData.correlation >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${assetData.correlation.toFixed(2)}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400);">BTC Correlation</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                    <div>
                        <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">üìã Asset Overview</h4>
                        <p style="color: var(--gray-300); line-height: 1.6; font-size: 0.875rem;">${detailedData.overview}</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">‚ö†Ô∏è Key Risk Factors</h4>
                        <ul style="color: var(--gray-300); font-size: 0.875rem; padding-left: 1.25rem; margin: 0;">
                            ${detailedData.keyRisks.map(risk => `<li style="margin-bottom: 0.25rem;">${risk}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Market Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${assetData.volatility}%; max-width: 100%; background-color: ${assetData.volatility > 50 ? 'var(--red-400)' : assetData.volatility > 25 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${assetData.volatility > 50 ? 'High' : assetData.volatility > 25 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Liquidity Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${100 - assetData.liquidity}%; background-color: ${assetData.liquidity < 80 ? 'var(--red-400)' : assetData.liquidity < 90 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${assetData.liquidity < 80 ? 'High' : assetData.liquidity < 90 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Smart Contract</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${assetData.smartContract ? (100 - assetData.smartContract) : 0}%; background-color: ${!assetData.smartContract ? 'var(--gray-500)' : assetData.smartContract < 80 ? 'var(--red-400)' : assetData.smartContract < 90 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${!assetData.smartContract ? 'N/A' : assetData.smartContract < 80 ? 'High' : assetData.smartContract < 90 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Correlation Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${Math.abs(assetData.correlation) * 100}%; background-color: ${Math.abs(assetData.correlation) > 0.8 ? 'var(--red-400)' : Math.abs(assetData.correlation) > 0.5 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${Math.abs(assetData.correlation) > 0.8 ? 'High' : Math.abs(assetData.correlation) > 0.5 ? 'Medium' : 'Low'}</div>
                    </div>
                    <div style="background-color: var(--navy-700); padding: 0.75rem; border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--gray-500); margin-bottom: 0.25rem;">Tail Risk</div>
                        <div style="height: 6px; background-color: var(--navy-600); border-radius: 3px; margin-bottom: 0.25rem;">
                            <div style="height: 100%; width: ${assetData.var95 * 15}%; background-color: ${assetData.var95 > 5 ? 'var(--red-400)' : assetData.var95 > 2.5 ? 'var(--yellow-400)' : 'var(--green-400)'}; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 0.875rem; font-weight: 600;">${assetData.var95 > 5 ? 'High' : assetData.var95 > 2.5 ? 'Medium' : 'Low'}</div>
                    </div>
                </div>
                
                <div style="padding: 1rem; background: linear-gradient(135deg, var(--navy-700) 0%, var(--navy-800) 100%); border-radius: 8px;">
                    <h4 style="margin-bottom: 0.75rem; color: var(--gray-400);">üéØ Risk Management Recommendations</h4>
                    <ul style="color: var(--gray-300); font-size: 0.875rem; padding-left: 1.25rem; margin: 0;">
                        <li style="margin-bottom: 0.5rem;"><strong>Position Sizing:</strong> ${assetData.riskScore >= 70 ? 'Reduce exposure to <3% of portfolio' : assetData.riskScore >= 40 ? 'Maintain at 3-5% of portfolio' : 'Can hold up to 8% of portfolio'}</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Stop Loss:</strong> Set at ${(assetData.var95 * 2.5).toFixed(1)}% below entry (2.5x daily VaR)</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Hedging:</strong> ${Math.abs(assetData.correlation) > 0.7 ? 'Consider hedging with inverse correlated assets' : 'Current correlation provides natural diversification'}</li>
                        <li><strong>Monitoring:</strong> ${assetData.riskScore >= 70 ? 'Daily review required' : assetData.riskScore >= 40 ? 'Weekly review recommended' : 'Standard monitoring sufficient'}</li>
                    </ul>
                </div>
            `;
            
            document.getElementById('risk-assessment-content').innerHTML = assessmentHTML;
        }
        
        function refreshRiskScores() {
            const btn = event.target;
            btn.textContent = '‚è≥ Updating...';
            
            // Simulate real-time updates with small random variations
            assetRiskScores.forEach(asset => {
                asset.riskScore = Math.max(5, Math.min(95, asset.riskScore + (Math.random() - 0.5) * 4));
                asset.var95 = Math.max(0.05, asset.var95 + (Math.random() - 0.5) * 0.2).toFixed(2);
                asset.volatility = Math.max(0.5, asset.volatility + (Math.random() - 0.5) * 2).toFixed(1);
            });
            
            setTimeout(() => {
                btn.textContent = 'üîÑ Refresh';
                renderRiskScores();
            }, 800);
        }
        
        // Start real-time risk score updates
        function startRiskScoreUpdates() {
            setInterval(() => {
                assetRiskScores.forEach(asset => {
                    // Small random variations to simulate live data
                    const variation = (Math.random() - 0.5) * 2;
                    asset.riskScore = Math.round(Math.max(5, Math.min(95, asset.riskScore + variation)));
                });
                renderRiskScores();
            }, 5000); // Update every 5 seconds
        }
        
        // ============================================
        // PORTFOLIO MANAGEMENT FUNCTIONS
        // ============================================
        function formatCurrency(value, decimals = 0) {
            if (Math.abs(value) >= 1e9) {
                return '$' + (value / 1e9).toFixed(2) + 'B';
            } else if (Math.abs(value) >= 1e6) {
                return '$' + (value / 1e6).toFixed(2) + 'M';
            } else if (Math.abs(value) >= 1e3) {
                return '$' + (value / 1e3).toFixed(1) + 'K';
            }
            return '$' + value.toFixed(decimals);
        }
        
        function formatNumber(value, decimals = 2) {
            if (Math.abs(value) >= 1e9) {
                return (value / 1e9).toFixed(2) + 'B';
            } else if (Math.abs(value) >= 1e6) {
                return (value / 1e6).toFixed(2) + 'M';
            } else if (Math.abs(value) >= 1e3) {
                return (value / 1e3).toFixed(1) + 'K';
            }
            return value.toFixed(decimals);
        }
        
        function renderPositionsTable() {
            const container = document.getElementById('positions-table-body');
            const footer = document.getElementById('positions-table-footer');
            
            // Calculate totals
            const totals = portfolioPositions.reduce((acc, pos) => {
                acc.positionValue += pos.positionValue;
                acc.costBasis += pos.costBasis;
                acc.unrealizedPnL += pos.unrealizedPnL;
                return acc;
            }, { positionValue: 0, costBasis: 0, unrealizedPnL: 0 });
            
            container.innerHTML = portfolioPositions.map(pos => {
                const pnlColor = pos.unrealizedPnL >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                const change24hColor = pos.change24h >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                const change7dColor = pos.change7d >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                const statusColors = {
                    'overweight': { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)' },
                    'underweight': { bg: 'rgba(59, 130, 246, 0.2)', text: '#3B82F6' },
                    'normal': { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)' }
                };
                
                return `
                    <tr>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div>
                                    <div style="font-weight: 600;">${pos.symbol}</div>
                                    <div style="font-size: 0.7rem; color: var(--gray-500);">${pos.name}</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="class-badge">${pos.class}</span></td>
                        <td style="font-weight: 500;">$${pos.currentPrice < 1 ? pos.currentPrice.toFixed(4) : pos.currentPrice.toLocaleString()}</td>
                        <td style="color: var(--gray-400);">$${pos.avgEntry < 1 ? pos.avgEntry.toFixed(4) : pos.avgEntry.toLocaleString()}</td>
                        <td>${formatNumber(pos.quantity, 0)}</td>
                        <td style="font-weight: 600;">${formatCurrency(pos.positionValue)}</td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 40px; height: 4px; background-color: var(--navy-600); border-radius: 2px;">
                                    <div style="height: 100%; width: ${Math.min(pos.weight * 2.7, 100)}%; background-color: var(--maxam-gold); border-radius: 2px;"></div>
                                </div>
                                <span style="font-weight: 500;">${pos.weight.toFixed(2)}%</span>
                            </div>
                        </td>
                        <td style="color: var(--gray-400);">${formatCurrency(pos.costBasis)}</td>
                        <td style="font-weight: 600; color: ${pnlColor};">${pos.unrealizedPnL >= 0 ? '+' : ''}${formatCurrency(pos.unrealizedPnL)}</td>
                        <td style="color: ${pnlColor};">${pos.pnlPercent >= 0 ? '+' : ''}${pos.pnlPercent.toFixed(2)}%</td>
                        <td style="color: ${change24hColor};">${pos.change24h >= 0 ? '+' : ''}${pos.change24h.toFixed(2)}%</td>
                        <td style="color: ${change7dColor};">${pos.change7d >= 0 ? '+' : ''}${pos.change7d.toFixed(2)}%</td>
                        <td style="color: var(--gray-400);">${pos.targetWeight.toFixed(1)}%</td>
                        <td>
                            <span style="padding: 0.2rem 0.4rem; background-color: ${statusColors[pos.status].bg}; color: ${statusColors[pos.status].text}; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase;">${pos.status}</span>
                        </td>
                    </tr>
                `;
            }).join('');
            
            // Footer with totals
            const totalPnlPercent = (totals.unrealizedPnL / totals.costBasis * 100);
            footer.innerHTML = `
                <tr style="background-color: var(--navy-700); font-weight: 600;">
                    <td colspan="5" style="text-align: right; padding-right: 1rem;">TOTAL</td>
                    <td>${formatCurrency(totals.positionValue)}</td>
                    <td>100.00%</td>
                    <td>${formatCurrency(totals.costBasis)}</td>
                    <td style="color: var(--green-400);">+${formatCurrency(totals.unrealizedPnL)}</td>
                    <td style="color: var(--green-400);">+${totalPnlPercent.toFixed(2)}%</td>
                    <td colspan="4"></td>
                </tr>
            `;
        }
        
        function renderAllocationComparison() {
            const container = document.getElementById('allocation-comparison');
            container.innerHTML = allocationComparison.map(item => {
                const diffColor = item.difference > 0 ? 'var(--red-400)' : item.difference < 0 ? '#3B82F6' : 'var(--gray-400)';
                const actionColor = item.action === 'Reduce' ? 'var(--red-400)' : item.action === 'Increase' ? 'var(--green-400)' : 'var(--gray-400)';
                return `
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                            <span>${item.class}</span>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <span style="color: ${diffColor}; font-size: 0.875rem;">${item.difference >= 0 ? '+' : ''}${item.difference.toFixed(2)}%</span>
                                <span style="color: ${actionColor}; font-size: 0.75rem; font-weight: 500;">${item.action}</span>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem; height: 20px;">
                            <div style="flex: 1; display: flex; align-items: center; position: relative; height: 8px; background-color: var(--navy-600); border-radius: 4px;">
                                <div style="height: 100%; width: ${item.actual}%; background-color: var(--maxam-gold); border-radius: 4px;"></div>
                                <div style="position: absolute; left: ${item.target}%; top: -4px; bottom: -4px; width: 2px; background-color: var(--green-400);" title="Target: ${item.target}%"></div>
                            </div>
                            <span style="font-size: 0.75rem; color: var(--gray-400); min-width: 80px;">${item.actual.toFixed(2)}% / ${item.target}%</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderRebalancingRecommendations() {
            const container = document.getElementById('rebalancing-recommendations');
            const priorityColors = {
                high: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)' },
                medium: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)' },
                low: { bg: 'rgba(34, 197, 94, 0.2)', text: 'var(--green-400)' }
            };
            container.innerHTML = rebalancingRecommendations.map(rec => {
                const actionColor = rec.action === 'BUY' ? 'var(--green-400)' : 'var(--red-400)';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="padding: 0.25rem 0.5rem; background-color: ${rec.action === 'BUY' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${actionColor}; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">${rec.action}</span>
                            <span style="font-weight: 600;">${rec.symbol}</span>
                            <span style="color: var(--gray-400);">${rec.amount}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 0.75rem; color: var(--gray-500);">${rec.reason}</span>
                            <span style="padding: 0.2rem 0.4rem; background-color: ${priorityColors[rec.priority].bg}; color: ${priorityColors[rec.priority].text}; border-radius: 4px; font-size: 0.65rem; text-transform: uppercase;">${rec.priority}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPnLByClass() {
            const container = document.getElementById('pnl-by-class');
            container.innerHTML = pnlByClass.map(item => {
                const pnlColor = item.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                        <span>${item.class}</span>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="font-weight: 600; color: ${pnlColor};">${item.pnl >= 0 ? '+' : ''}${formatCurrency(item.pnl)}</span>
                            <span style="font-size: 0.75rem; color: ${pnlColor};">(${item.pnlPercent >= 0 ? '+' : ''}${item.pnlPercent.toFixed(2)}%)</span>
                            <span style="font-size: 0.7rem; color: var(--gray-500); min-width: 50px; text-align: right;">${item.contribution >= 0 ? '+' : ''}${item.contribution.toFixed(2)}%</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPerformanceAttribution() {
            const container = document.getElementById('performance-attribution');
            container.innerHTML = performanceAttribution.map(item => {
                const isPositive = item.contribution.startsWith('+');
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background-color: var(--navy-700); border-radius: 6px; margin-bottom: 0.5rem;">
                        <div>
                            <div style="font-weight: 500;">${item.factor}</div>
                            <div style="font-size: 0.7rem; color: var(--gray-500);">${item.description}</div>
                        </div>
                        <span style="font-weight: 600; color: ${isPositive ? 'var(--green-400)' : 'var(--red-400)'};">${item.contribution}</span>
                    </div>
                `;
            }).join('');
        }
        
        function renderRecentPositionChanges() {
            const container = document.getElementById('recent-position-changes');
            container.innerHTML = recentPositionChanges.map(change => {
                const actionColor = change.action === 'BUY' ? 'var(--green-400)' : 'var(--red-400)';
                return `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <span style="padding: 0.25rem 0.5rem; background-color: ${change.action === 'BUY' ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}; color: ${actionColor}; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">${change.action}</span>
                            <div>
                                <div style="font-weight: 600;">${change.symbol} <span style="color: ${actionColor};">${change.amount}</span></div>
                                <div style="font-size: 0.7rem; color: var(--gray-500);">${change.value} @ ${change.price}</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">${change.time}</div>
                            <div style="font-size: 0.7rem; color: var(--gray-500);">${change.agent}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPositionAlerts() {
            const container = document.getElementById('position-alerts');
            const severityColors = {
                warning: { bg: 'rgba(250, 204, 21, 0.2)', text: 'var(--yellow-400)', border: 'var(--yellow-400)' },
                info: { bg: 'rgba(59, 130, 246, 0.2)', text: '#3B82F6', border: '#3B82F6' },
                critical: { bg: 'rgba(239, 68, 68, 0.2)', text: 'var(--red-400)', border: 'var(--red-400)' }
            };
            container.innerHTML = positionAlerts.map(alert => `
                <div style="padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${severityColors[alert.severity].border};">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                        <span style="font-weight: 600;">${alert.title}</span>
                        <span style="font-size: 0.7rem; color: var(--gray-500);">${alert.time}</span>
                    </div>
                    <div style="font-size: 0.875rem; color: var(--gray-400); margin-bottom: 0.25rem;">${alert.description}</div>
                    <div style="font-size: 0.75rem; color: var(--maxam-gold);">üí° ${alert.action}</div>
                </div>
            `).join('');
        }
        
        function filterPositions() {
            const filter = document.getElementById('position-view-filter').value;
            // In a real implementation, this would filter the table
            console.log('Filtering positions by:', filter);
            renderPositionsTable();
        }
        
        function sortPositions() {
            const sortBy = document.getElementById('position-sort').value;
            // Sort the positions array based on selection
            switch(sortBy) {
                case 'value-desc':
                    portfolioPositions.sort((a, b) => b.positionValue - a.positionValue);
                    break;
                case 'value-asc':
                    portfolioPositions.sort((a, b) => a.positionValue - b.positionValue);
                    break;
                case 'pnl-desc':
                    portfolioPositions.sort((a, b) => b.unrealizedPnL - a.unrealizedPnL);
                    break;
                case 'pnl-asc':
                    portfolioPositions.sort((a, b) => a.unrealizedPnL - b.unrealizedPnL);
                    break;
                case 'weight-desc':
                    portfolioPositions.sort((a, b) => b.weight - a.weight);
                    break;
                case 'change-desc':
                    portfolioPositions.sort((a, b) => b.change24h - a.change24h);
                    break;
            }
            renderPositionsTable();
        }
        
        function refreshPositions() {
            const btn = event.target;
            btn.textContent = '‚è≥ Updating...';
            
            // Simulate real-time price updates
            portfolioPositions.forEach(pos => {
                const priceChange = (Math.random() - 0.5) * 0.02; // ¬±1% change
                pos.currentPrice = pos.currentPrice * (1 + priceChange);
                pos.positionValue = pos.currentPrice * pos.quantity;
                pos.unrealizedPnL = pos.positionValue - pos.costBasis;
                pos.pnlPercent = (pos.unrealizedPnL / pos.costBasis) * 100;
                pos.change24h = pos.change24h + (Math.random() - 0.5) * 0.5;
            });
            
            // Recalculate weights
            const totalValue = portfolioPositions.reduce((sum, pos) => sum + pos.positionValue, 0);
            portfolioPositions.forEach(pos => {
                pos.weight = (pos.positionValue / totalValue) * 100;
            });
            
            setTimeout(() => {
                btn.textContent = 'üîÑ Refresh';
                document.getElementById('position-last-update').textContent = `Last update: Just now`;
                renderPositionsTable();
                updatePortfolioStats();
            }, 800);
        }
        
        function updatePortfolioStats() {
            const totalValue = portfolioPositions.reduce((sum, pos) => sum + pos.positionValue, 0);
            const totalPnL = portfolioPositions.reduce((sum, pos) => sum + pos.unrealizedPnL, 0);
            
            document.getElementById('total-portfolio-value').textContent = formatCurrency(totalValue);
            document.getElementById('total-unrealized-pnl').textContent = '+' + formatCurrency(totalPnL);
            
            // Find best/worst performers
            const sorted24h = [...portfolioPositions].sort((a, b) => b.change24h - a.change24h);
            document.getElementById('best-performer-24h').textContent = sorted24h[0].symbol;
            document.getElementById('best-performer-24h-change').textContent = '+' + sorted24h[0].change24h.toFixed(2) + '%';
            document.getElementById('worst-performer-24h').textContent = sorted24h[sorted24h.length - 1].symbol;
            document.getElementById('worst-performer-24h-change').textContent = sorted24h[sorted24h.length - 1].change24h.toFixed(2) + '%';
            
            // Largest position
            const sortedByValue = [...portfolioPositions].sort((a, b) => b.positionValue - a.positionValue);
            document.getElementById('largest-position').textContent = sortedByValue[0].symbol;
            document.getElementById('largest-position-weight').textContent = sortedByValue[0].weight.toFixed(1) + '% of portfolio';
            
            // Most profitable
            const sortedByPnL = [...portfolioPositions].sort((a, b) => b.unrealizedPnL - a.unrealizedPnL);
            document.getElementById('most-profitable').textContent = sortedByPnL[0].symbol;
            document.getElementById('most-profitable-pnl').textContent = '+' + formatCurrency(sortedByPnL[0].unrealizedPnL) + ' total';
        }
        
        function exportPositions() {
            alert('Exporting positions to CSV...\n\nIn production, this would download a file with all position data.');
        }
        
        // Start real-time position updates
        function startPositionUpdates() {
            setInterval(() => {
                // Simulate small price movements
                portfolioPositions.forEach(pos => {
                    if (pos.class !== 'Stablecoin') {
                        const priceChange = (Math.random() - 0.5) * 0.005; // ¬±0.25% change
                        pos.currentPrice = pos.currentPrice * (1 + priceChange);
                        pos.positionValue = pos.currentPrice * pos.quantity;
                        pos.unrealizedPnL = pos.positionValue - pos.costBasis;
                        pos.pnlPercent = (pos.unrealizedPnL / pos.costBasis) * 100;
                        pos.change24h = pos.change24h + (Math.random() - 0.5) * 0.1;
                    }
                });
                
                // Recalculate weights
                const totalValue = portfolioPositions.reduce((sum, pos) => sum + pos.positionValue, 0);
                portfolioPositions.forEach(pos => {
                    pos.weight = (pos.positionValue / totalValue) * 100;
                });
                
                renderPositionsTable();
                updatePortfolioStats();
                
                // Update timestamp
                const now = new Date();
                document.getElementById('position-last-update').textContent = `Last update: ${now.toLocaleTimeString()}`;
            }, 3000); // Update every 3 seconds
        }
        
        // ============================================
        // ADMIN PANEL FUNCTIONS
        // ============================================
        function renderUsersTable() {
            const tbody = document.getElementById('users-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = platformUsers.map(user => `
                <tr>
                    <td>
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <div style="width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, var(--maxam-blue), var(--maxam-gold)); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem;">
                                ${user.name.split(' ').map(n => n[0]).join('')}
                            </div>
                            <div>
                                <div style="font-weight: 500;">${user.name}</div>
                                <div style="font-size: 0.75rem; color: var(--gray-400);">${user.department}</div>
                            </div>
                        </div>
                    </td>
                    <td style="font-family: monospace; font-size: 0.85rem;">${user.email}</td>
                    <td><span class="role-badge role-${user.role}">${roleLabels[user.role]}</span></td>
                    <td><span class="user-status-${user.status}" style="text-transform: capitalize;">${user.status}</span></td>
                    <td style="color: var(--gray-400);">${user.lastActive}</td>
                    <td>${user.twoFactor ? '<span style="color: var(--green-400);">‚úì Enabled</span>' : '<span style="color: var(--red-400);">‚úó Disabled</span>'}</td>
                    <td style="color: var(--gray-400);">${user.created}</td>
                    <td>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="control-btn secondary" style="padding: 0.3rem 0.6rem; font-size: 0.75rem;" onclick="editUser(${user.id})">Edit</button>
                            <button class="control-btn secondary" style="padding: 0.3rem 0.6rem; font-size: 0.75rem; color: var(--red-400);" onclick="showDeleteUserModal(${user.id})">Delete</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        function renderPermissionsMatrix() {
            const tbody = document.getElementById('permissions-matrix-body');
            if (!tbody) return;
            
            tbody.innerHTML = permissionsMatrix.map(row => `
                <tr>
                    <td style="font-weight: 500;">${row.permission}</td>
                    <td style="text-align: center;">${row.owner ? '<span style="color: var(--green-400);">‚úì</span>' : '<span style="color: var(--gray-600);">‚Äî</span>'}</td>
                    <td style="text-align: center;">${row.gp ? '<span style="color: var(--green-400);">‚úì</span>' : '<span style="color: var(--gray-600);">‚Äî</span>'}</td>
                    <td style="text-align: center;">${row.pm ? '<span style="color: var(--green-400);">‚úì</span>' : '<span style="color: var(--gray-600);">‚Äî</span>'}</td>
                    <td style="text-align: center;">${row.trader ? '<span style="color: var(--green-400);">‚úì</span>' : '<span style="color: var(--gray-600);">‚Äî</span>'}</td>
                    <td style="text-align: center;">${row.analyst ? '<span style="color: var(--green-400);">‚úì</span>' : '<span style="color: var(--gray-600);">‚Äî</span>'}</td>
                    <td style="text-align: center;">${row.security ? '<span style="color: var(--green-400);">‚úì</span>' : '<span style="color: var(--gray-600);">‚Äî</span>'}</td>
                </tr>
            `).join('');
        }
        
        function renderApiKeys() {
            const container = document.getElementById('api-keys-list');
            if (!container) return;
            
            container.innerHTML = apiKeys.map(key => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid ${key.status === 'expiring' ? 'var(--maxam-gold)' : 'var(--green-400)'};">
                    <div>
                        <div style="font-weight: 500; margin-bottom: 0.25rem;">${key.name}</div>
                        <div style="font-size: 0.75rem; color: var(--gray-400); font-family: monospace;">${key.key}</div>
                        <div style="font-size: 0.7rem; color: var(--gray-500); margin-top: 0.25rem;">
                            ${key.permissions.toUpperCase()} ‚Ä¢ Created: ${key.created} ‚Ä¢ Last used: ${key.lastUsed}
                        </div>
                    </div>
                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                        ${key.status === 'expiring' ? '<span style="font-size: 0.7rem; padding: 0.2rem 0.5rem; background: rgba(250, 204, 21, 0.2); color: var(--maxam-gold); border-radius: 4px;">Expiring</span>' : ''}
                        <button class="control-btn secondary" style="padding: 0.3rem 0.6rem; font-size: 0.75rem; color: var(--red-400);" onclick="revokeApiKey(${key.id})">Revoke</button>
                    </div>
                </div>
            `).join('');
        }
        
        function renderActivityLog() {
            const container = document.getElementById('activity-log');
            if (!container) return;
            
            const filter = document.getElementById('activity-filter')?.value || 'all';
            const filtered = filter === 'all' ? activityLog : activityLog.filter(a => a.type === filter);
            
            const actionIcons = {
                login: 'üîê',
                trade: 'üíπ',
                settings: '‚öôÔ∏è',
                user: 'üë§',
                security: 'üõ°Ô∏è',
                report: 'üìä'
            };
            
            container.innerHTML = filtered.map(activity => `
                <div style="display: flex; gap: 0.75rem; padding: 0.75rem; background: var(--navy-800); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div style="font-size: 1.25rem;">${actionIcons[activity.type] || 'üìå'}</div>
                    <div style="flex: 1;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                            <span style="font-weight: 500;">${activity.user}</span>
                            <span style="font-size: 0.7rem; color: var(--gray-500);">${activity.time}</span>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">${activity.details}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderSystemHealth() {
            const container = document.getElementById('system-health');
            if (!container) return;
            
            container.innerHTML = systemHealth.map(system => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-800); border-radius: 8px;">
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <span style="font-size: 1.25rem;">${system.icon}</span>
                        <div>
                            <div style="font-weight: 500;">${system.name}</div>
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Latency: ${system.latency}</div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: var(--green-400); font-weight: 500;">${system.uptime}</div>
                        <div style="font-size: 0.7rem; color: var(--green-400);">‚óè Healthy</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderAdminAuditTrail() {
            const container = document.getElementById('admin-audit-trail');
            if (!container) return;
            
            container.innerHTML = adminAuditTrail.map(entry => `
                <div style="display: flex; gap: 0.75rem; padding: 0.75rem; background: var(--navy-800); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div style="flex: 1;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                            <span style="font-weight: 500;">${entry.action}</span>
                            <span style="font-size: 0.7rem; color: var(--gray-500);">${entry.time}</span>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--gray-400);">${entry.details}</div>
                        <div style="font-size: 0.75rem; color: var(--maxam-gold); margin-top: 0.25rem;">By: ${entry.user}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function filterUsers() {
            const search = document.getElementById('user-search').value.toLowerCase();
            const roleFilter = document.getElementById('user-role-filter').value;
            
            const tbody = document.getElementById('users-table-body');
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const name = row.cells[0].textContent.toLowerCase();
                const email = row.cells[1].textContent.toLowerCase();
                const role = row.cells[2].textContent.toLowerCase();
                
                const matchesSearch = name.includes(search) || email.includes(search);
                const matchesRole = roleFilter === 'all' || role.includes(roleLabels[roleFilter]?.toLowerCase() || '');
                
                row.style.display = matchesSearch && matchesRole ? '' : 'none';
            }
        }
        
        function filterActivityLog() {
            renderActivityLog();
        }
        
        function showAddUserModal() {
            editUserId = null;
            document.getElementById('user-modal-title').textContent = 'Add New User';
            document.getElementById('edit-user-id').value = '';
            document.getElementById('user-name').value = '';
            document.getElementById('user-email').value = '';
            document.getElementById('user-role').value = '';
            document.getElementById('user-department').value = '';
            document.getElementById('user-phone').value = '';
            document.getElementById('user-status').value = 'pending';
            document.getElementById('user-2fa').checked = true;
            document.getElementById('user-password').value = '';
            document.getElementById('password-group').style.display = 'block';
            document.getElementById('user-modal').classList.add('active');
        }
        
        function editUser(userId) {
            const user = platformUsers.find(u => u.id === userId);
            if (!user) return;
            
            editUserId = userId;
            document.getElementById('user-modal-title').textContent = 'Edit User';
            document.getElementById('edit-user-id').value = userId;
            document.getElementById('user-name').value = user.name;
            document.getElementById('user-email').value = user.email;
            document.getElementById('user-role').value = user.role;
            document.getElementById('user-department').value = user.department;
            document.getElementById('user-phone').value = user.phone;
            document.getElementById('user-status').value = user.status;
            document.getElementById('user-2fa').checked = user.twoFactor;
            document.getElementById('password-group').style.display = 'none';
            document.getElementById('user-modal').classList.add('active');
        }
        
        function closeUserModal() {
            document.getElementById('user-modal').classList.remove('active');
        }
        
        function generatePassword() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789!@#$%';
            let password = '';
            for (let i = 0; i < 16; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('user-password').value = password;
        }
        
        function saveUser() {
            const name = document.getElementById('user-name').value.trim();
            const email = document.getElementById('user-email').value.trim();
            const role = document.getElementById('user-role').value;
            
            if (!name || !email || !role) {
                alert('Please fill in all required fields (Name, Email, Role)');
                return;
            }
            
            if (editUserId) {
                // Update existing user
                const user = platformUsers.find(u => u.id === editUserId);
                if (user) {
                    user.name = name;
                    user.email = email;
                    user.role = role;
                    user.department = document.getElementById('user-department').value;
                    user.phone = document.getElementById('user-phone').value;
                    user.status = document.getElementById('user-status').value;
                    user.twoFactor = document.getElementById('user-2fa').checked;
                }
            } else {
                // Add new user
                const newUser = {
                    id: Math.max(...platformUsers.map(u => u.id)) + 1,
                    name: name,
                    email: email,
                    role: role,
                    department: document.getElementById('user-department').value,
                    phone: document.getElementById('user-phone').value,
                    status: document.getElementById('user-status').value,
                    twoFactor: document.getElementById('user-2fa').checked,
                    lastActive: 'Never',
                    created: new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })
                };
                platformUsers.push(newUser);
            }
            
            closeUserModal();
            renderUsersTable();
            document.getElementById('admin-total-users').textContent = platformUsers.length;
        }
        
        function showDeleteUserModal(userId) {
            const user = platformUsers.find(u => u.id === userId);
            if (!user) return;
            
            deleteUserId = userId;
            document.getElementById('delete-user-name').textContent = user.name;
            document.getElementById('delete-user-email').textContent = user.email;
            document.getElementById('delete-user-modal').classList.add('active');
        }
        
        function closeDeleteUserModal() {
            document.getElementById('delete-user-modal').classList.remove('active');
            deleteUserId = null;
        }
        
        function confirmDeleteUser() {
            if (deleteUserId) {
                platformUsers = platformUsers.filter(u => u.id !== deleteUserId);
                renderUsersTable();
                document.getElementById('admin-total-users').textContent = platformUsers.length;
            }
            closeDeleteUserModal();
        }
        
        function generateApiKey() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let key = 'maxam_prod_';
            for (let i = 0; i < 40; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('new-api-key').textContent = key;
            document.getElementById('api-key-name').value = '';
            document.getElementById('api-key-permissions').value = 'read';
            document.getElementById('api-key-modal').classList.add('active');
        }
        
        function closeApiKeyModal() {
            document.getElementById('api-key-modal').classList.remove('active');
        }
        
        function copyApiKey() {
            const key = document.getElementById('new-api-key').textContent;
            navigator.clipboard.writeText(key).then(() => {
                alert('API key copied to clipboard!');
            });
        }
        
        function saveApiKey() {
            const name = document.getElementById('api-key-name').value.trim();
            const permissions = document.getElementById('api-key-permissions').value;
            const key = document.getElementById('new-api-key').textContent;
            
            if (!name) {
                alert('Please enter a name for the API key');
                return;
            }
            
            apiKeys.push({
                id: Math.max(...apiKeys.map(k => k.id)) + 1,
                name: name,
                key: key.substring(0, 12) + '...' + key.substring(key.length - 4),
                permissions: permissions,
                created: new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                lastUsed: 'Never',
                status: 'active'
            });
            
            closeApiKeyModal();
            renderApiKeys();
        }
        
        function revokeApiKey(keyId) {
            if (confirm('Are you sure you want to revoke this API key? This action cannot be undone.')) {
                apiKeys = apiKeys.filter(k => k.id !== keyId);
                renderApiKeys();
            }
        }
        
        function saveSystemSettings() {
            alert('System settings saved successfully!');
        }
        
        function saveTradingLimits() {
            alert('Trading limits saved successfully!');
        }
        
        function triggerBackup(type) {
            alert(`${type.charAt(0).toUpperCase() + type.slice(1)} backup initiated. You will be notified when complete.`);
        }
        
        function exportTradeHistory() {
            alert('Trade history export started. Download will begin shortly.');
        }
        
        function showRestoreModal() {
            alert('System restore functionality - Select a backup point to restore from.');
        }
        
        function showRetentionSettings() {
            alert('Data retention settings - Currently set to 7 years (regulatory compliance).');
        }
        
        function exportAuditTrail() {
            alert('Audit trail export started. Download will begin shortly.');
        }
        
        function renderAssetClassBreakdown() {
            const container = document.getElementById('asset-class-breakdown');
            container.innerHTML = allocationData.map(item => `
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <div style="width: 12px; height: 12px; border-radius: 2px; background-color: ${item.color};"></div>
                        <span>${item.name}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="width: 100px; height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%; background-color: ${item.color}; width: ${item.value}%;"></div>
                        </div>
                        <span style="width: 50px; text-align: right; font-family: monospace;">${item.value}%</span>
                    </div>
                </div>
            `).join('');
        }
        
        function renderPortfolioAllocationDetails() {
            const container = document.getElementById('portfolio-allocation-details');
            const totalValue = 9110000000;
            container.innerHTML = allocationData.map(item => {
                const value = totalValue * (item.value / 100);
                return `
                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--navy-700);">
                        <span style="color: var(--gray-400);">${item.name}</span>
                        <span style="font-family: monospace;">${formatCurrency(value)}</span>
                    </div>
                `;
            }).join('');
        }
        
        // ============================================
        // CHARTS
        // ============================================
        let performanceChart = null;
        let allocationChart = null;
        let projectionsChart = null;
        let roiComparisonChart = null;
        let portfolioAllocationChart = null;
        let investorComparisonChart = null;
        
        function initCharts() {
            // Performance Chart
            const perfData = generatePerformanceData();
            const perfCtx = document.getElementById('performanceChart').getContext('2d');
            performanceChart = new Chart(perfCtx, {
                type: 'line',
                data: {
                    labels: perfData.map(d => d.date),
                    datasets: [{
                        label: 'AUM ($B)',
                        data: perfData.map(d => d.value),
                        borderColor: '#1E40AF',
                        backgroundColor: 'rgba(30, 64, 175, 0.2)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF' } },
                        y: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => '$' + value.toFixed(1) + 'B' } }
                    }
                }
            });
            
            // Allocation Chart
            const allocCtx = document.getElementById('allocationChart').getContext('2d');
            allocationChart = new Chart(allocCtx, {
                type: 'doughnut',
                data: {
                    labels: allocationData.map(d => d.name),
                    datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '65%' }
            });
            
            // Projections Chart
            const projCtx = document.getElementById('projectionsChart').getContext('2d');
            projectionsChart = new Chart(projCtx, {
                type: 'bar',
                data: {
                    labels: tenYearData.map(d => d.year),
                    datasets: [{ label: 'Annual Return (%)', data: tenYearData.map(d => d.return), backgroundColor: '#1E40AF', borderRadius: 4 }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF' } },
                        y: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => value + '%' } }
                    }
                }
            });
            
            // ROI Comparison Chart
            const roiCtx = document.getElementById('roiComparisonChart').getContext('2d');
            roiComparisonChart = new Chart(roiCtx, {
                type: 'bar',
                data: {
                    labels: roiComparison.map(d => d.name),
                    datasets: [{ label: 'Avg Annual ROI (%)', data: roiComparison.map(d => d.roi), backgroundColor: roiComparison.map(d => d.color), borderRadius: 4 }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => value + '%' } },
                        y: { grid: { display: false }, ticks: { color: '#9CA3AF', font: { size: 11 } } }
                    }
                }
            });
            
            // Portfolio Allocation Chart
            const portCtx = document.getElementById('portfolioAllocationChart').getContext('2d');
            portfolioAllocationChart = new Chart(portCtx, {
                type: 'doughnut',
                data: {
                    labels: allocationData.map(d => d.name),
                    datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '60%' }
            });
            
            // Investor Comparison Chart
            const invCtx = document.getElementById('investorComparisonChart').getContext('2d');
            investorComparisonChart = new Chart(invCtx, {
                type: 'bar',
                data: {
                    labels: investorComparisons.map(d => d.name),
                    datasets: [
                        { label: 'YTD Return', data: investorComparisons.map(d => d.ytd), backgroundColor: '#1E40AF', borderRadius: 4 },
                        { label: '1Y Return', data: investorComparisons.map(d => d.y1), backgroundColor: '#D97706', borderRadius: 4 },
                        { label: '3Y CAGR', data: investorComparisons.map(d => d.y3), backgroundColor: '#059669', borderRadius: 4 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'top', labels: { color: '#9CA3AF' } } },
                    scales: {
                        x: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', font: { size: 10 } } },
                        y: { grid: { color: 'rgba(51, 65, 85, 0.5)' }, ticks: { color: '#9CA3AF', callback: value => value + '%' } }
                    }
                }
            });
        }
        
        // ============================================
        // MOBILE MENU
        // ============================================
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            const toggle = document.getElementById('mobile-menu-toggle');
            
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
            
            // Change hamburger to X when open
            if (sidebar.classList.contains('open')) {
                toggle.innerHTML = '‚úï';
            } else {
                toggle.innerHTML = '‚ò∞';
            }
        }
        
        function closeMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            const toggle = document.getElementById('mobile-menu-toggle');
            
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
            toggle.innerHTML = '‚ò∞';
        }
        
        // ============================================
        // NAVIGATION
        // ============================================
        function switchPage(pageName) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.toggle('active', link.dataset.page === pageName);
            });
            document.querySelectorAll('.page').forEach(page => {
                page.classList.toggle('active', page.id === 'page-' + pageName);
            });
            const titles = {
                'dashboard': 'Dashboard',
                'agents': 'AI Agents (96)',
                'agent-monitoring': 'Agent Monitoring',
                'trading': 'Trading',
                'risk': 'Risk Management',
                'analytics': 'Analytics',
                'defi-protocols': 'DeFi Protocols',
                'advanced-analytics': 'Advanced Analytics',
                'operations': 'Operations',
                'compliance-agents': 'Compliance Agents',
                'portfolio': 'Portfolio Management',
                'investor': 'Investor Portal',
                'research': 'Research',
                'auditing': 'Auditing',
                'security': 'Security',
                'admin': 'Admin Panel'
            };
            document.getElementById('page-title').textContent = titles[pageName] || pageName;
            
            // Close mobile menu after navigation
            closeMobileMenu();
        }
        
        // ============================================
        // REAL-TIME UPDATES
        // ============================================
        function updateDateTime() {
            document.getElementById('datetime').textContent = new Date().toLocaleString();
        }
        
        function simulateUpdates() {
            if (Math.random() > 0.6) {
                const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD', 'TLT', 'QQQ', 'BNB', 'ADA'];
                trades.unshift({
                    symbol: symbols[Math.floor(Math.random() * symbols.length)],
                    side: Math.random() > 0.4 ? 'BUY' : 'SELL',
                    value: Math.random() * 5000000 + 100000,
                    pnl: (Math.random() - 0.3) * 5,
                    time: new Date().toLocaleTimeString()
                });
                trades = trades.slice(0, 30);
                renderTrades();
            }
            const pnl = 42850000 + (Math.random() - 0.45) * 2000000;
            const pnlPct = pnl / 9110000000 * 100;
            document.getElementById('stat-pnl').textContent = formatCurrency(pnl);
            document.getElementById('stat-pnl-pct').textContent = formatPercent(pnlPct);
            document.getElementById('stat-pnl-pct').className = 'stat-change ' + (pnlPct >= 0 ? 'positive' : 'negative');
        }
        
        // ============================================
        // INITIALIZE
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            trades = generateTrades();
            
            renderAgents();
            renderAgentsFull();
            renderTrades();
            renderAssets();
            renderVenues();
            renderRiskLimits();
            renderPhaseStats();
            renderAllocationLegend();
            renderBenchmarkComparison();
            renderInvestorComparison();
            renderTraderPnL();
            renderQuarterlyReports();
            renderAssetClassBreakdown();
            renderPortfolioAllocationDetails();
            renderAutomatedReports();
            
            // Auditing page
            renderAuditReports();
            renderPositionReconciliation();
            renderCashVerification();
            renderComplianceChecks();
            
            // Security page
            renderThreatFeed();
            renderAnomalyDetection();
            renderDDoSMetrics();
            renderFrontrunAlerts();
            renderWalletTracking();
            renderSecurityNotifications();
            renderSecurityMetrics();
            renderAccessLog();
            
            // Enhanced Risk page
            renderRiskScores();
            renderExposureAnalysis();
            renderCorrelationMatrix();
            renderStressTests();
            renderRiskAlerts();
            startRiskScoreUpdates();
            
            // Portfolio Management page
            renderPositionsTable();
            renderAllocationComparison();
            renderRebalancingRecommendations();
            renderPnLByClass();
            renderPerformanceAttribution();
            renderRecentPositionChanges();
            renderPositionAlerts();
            updatePortfolioStats();
            startPositionUpdates();
            
            // Admin Panel page
            renderUsersTable();
            renderPermissionsMatrix();
            renderApiKeys();
            renderActivityLog();
            renderSystemHealth();
            renderAdminAuditTrail();
            
            // New pages - Agent Monitoring, DeFi, Analytics, Operations, Compliance
            renderDefiAgentsGrid();
            renderAnalyticsAgentsGrid();
            renderOpsAgentsGrid();
            renderComplianceAgentsGrid();
            renderAgentPerformanceTable();
            
            initCharts();
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => switchPage(link.dataset.page));
            });
            
            updateDateTime();
            setInterval(updateDateTime, 1000);
            setInterval(simulateUpdates, 3000);
        });
    </script>
</body>
</html>
