<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ-167 V5.0 ULTRA | Maxam Capital Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --navy-900: #0F172A; --navy-800: #1E293B; --navy-700: #334155; --navy-600: #475569;
            --maxam-blue: #1E40AF; --maxam-gold: #D97706; --maxam-green: #059669;
            --green-400: #4ADE80; --green-500: #22C55E; --red-400: #F87171; --red-500: #EF4444;
            --yellow-400: #FACC15; --yellow-500: #EAB308; --purple-400: #C084FC; --purple-500: #A855F7;
            --cyan-400: #22D3EE; --gray-400: #9CA3AF; --gray-500: #6B7280; --orange-400: #FB923C;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--navy-900); color: white; min-height: 100vh; }
        .app-container { display: flex; min-height: 100vh; }
        
        /* Sidebar */
        .sidebar { width: 280px; background-color: var(--navy-800); border-right: 1px solid var(--navy-700); padding: 1rem; position: fixed; height: 100vh; display: flex; flex-direction: column; overflow-y: auto; z-index: 100; }
        .logo-container { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; margin-bottom: 1.5rem; }
        .logo-icon { width: 44px; height: 44px; background: linear-gradient(135deg, var(--maxam-blue), var(--maxam-gold)); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.25rem; }
        .logo-text { font-weight: 700; font-size: 0.9rem; }
        .logo-subtitle { font-size: 0.7rem; color: var(--maxam-gold); font-weight: 600; }
        .nav-list { list-style: none; flex: 1; }
        .nav-section { margin-bottom: 0.75rem; }
        .nav-section-title { font-size: 0.65rem; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.08em; padding: 0.5rem 1rem; margin-top: 0.5rem; font-weight: 600; }
        .nav-item { margin-bottom: 0.15rem; }
        .nav-link { display: flex; align-items: center; gap: 0.75rem; padding: 0.6rem 1rem; border-radius: 8px; color: var(--gray-400); cursor: pointer; transition: all 0.2s; border: none; background: none; width: 100%; font-size: 0.85rem; font-family: inherit; }
        .nav-link:hover { background-color: var(--navy-700); color: white; }
        .nav-link.active { background: linear-gradient(135deg, var(--maxam-blue), rgba(30, 64, 175, 0.7)); color: white; }
        .nav-icon { font-size: 1rem; width: 20px; text-align: center; }
        .nav-badge { margin-left: auto; padding: 0.15rem 0.5rem; background-color: var(--maxam-gold); color: var(--navy-900); border-radius: 10px; font-size: 0.65rem; font-weight: 700; }
        .nav-badge.dev { background-color: var(--navy-600); color: var(--gray-400); }
        .system-status { border-top: 1px solid var(--navy-700); padding-top: 1rem; margin-top: 1rem; }
        .status-indicator { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; }
        .status-dot { width: 8px; height: 8px; background-color: var(--green-400); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .status-text { font-size: 0.8rem; color: var(--gray-400); }
        .latency-text { font-size: 0.7rem; color: var(--gray-500); padding-left: 1rem; }
        
        /* Main Content */
        .main-content { flex: 1; margin-left: 280px; padding: 1.5rem; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .page-title { font-size: 1.5rem; font-weight: 700; }
        .page-subtitle { font-size: 0.85rem; color: var(--gray-400); }
        .header-right { display: flex; align-items: center; gap: 1rem; }
        .live-badge { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0.75rem; background-color: var(--navy-800); border-radius: 8px; border: 1px solid var(--navy-700); }
        .datetime { font-size: 0.85rem; color: var(--gray-400); font-family: 'JetBrains Mono', monospace; }
        
        /* Cards & Stats */
        .card { background-color: var(--navy-800); border: 1px solid var(--navy-700); border-radius: 12px; padding: 1.25rem; margin-bottom: 1.25rem; }
        .card-title { font-size: 0.95rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem; }
        .stat-card { background-color: var(--navy-800); border: 1px solid var(--navy-700); border-radius: 12px; padding: 1.25rem; }
        .stat-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem; }
        .stat-label { font-size: 0.8rem; color: var(--gray-400); }
        .stat-icon { font-size: 1.25rem; }
        .stat-value { font-size: 1.75rem; font-weight: 700; }
        .stat-value.small { font-size: 1.25rem; }
        .stat-change { font-size: 0.8rem; margin-top: 0.25rem; }
        .stat-change.positive { color: var(--green-400); }
        .stat-change.negative { color: var(--red-400); }
        .stat-change.neutral { color: var(--gray-400); }
        
        /* Grids */
        .two-col-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.25rem; }
        .three-col-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.25rem; }
        .agents-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; }
        .charts-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 1.25rem; margin-bottom: 1.5rem; }
        
        /* Agent Cards */
        .agent-card { background-color: var(--navy-700); border-radius: 10px; padding: 1rem; transition: all 0.2s; cursor: pointer; border: 1px solid transparent; }
        .agent-card:hover { transform: translateY(-2px); border-color: var(--maxam-blue); }
        .agent-card.development { opacity: 0.6; background: repeating-linear-gradient(45deg, var(--navy-700), var(--navy-700) 10px, rgba(51, 65, 85, 0.8) 10px, rgba(51, 65, 85, 0.8) 20px); }
        .agent-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem; }
        .agent-icon { font-size: 1.5rem; }
        .agent-info { flex: 1; }
        .agent-name { font-weight: 600; font-size: 0.9rem; }
        .agent-id { font-size: 0.7rem; color: var(--gray-500); font-family: 'JetBrains Mono', monospace; }
        .agent-status-dot { width: 10px; height: 10px; background-color: var(--green-400); border-radius: 50%; animation: pulse 2s infinite; }
        .agent-status-dot.warning { background-color: var(--yellow-400); }
        .agent-status-dot.development { background-color: var(--gray-500); animation: none; }
        .health-bar { height: 6px; background-color: var(--navy-600); border-radius: 3px; overflow: hidden; margin-bottom: 0.5rem; }
        .health-fill { height: 100%; border-radius: 3px; transition: width 0.5s ease; }
        .agent-metric-row { display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 0.25rem; }
        .metric-label { color: var(--gray-400); }
        .metric-value { font-weight: 600; font-family: 'JetBrains Mono', monospace; }
        
        /* Grades & Badges */
        .grade-badge { display: inline-block; padding: 0.15rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 700; }
        .grade-a { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .grade-b { background-color: rgba(74, 222, 128, 0.2); color: var(--green-400); }
        .grade-c { background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); }
        .grade-d { background-color: rgba(251, 146, 60, 0.2); color: var(--orange-400); }
        .grade-f { background-color: rgba(239, 68, 68, 0.2); color: var(--red-400); }
        .grade-dev { background-color: rgba(107, 114, 128, 0.2); color: var(--gray-400); }
        .version-badge { display: inline-flex; padding: 0.2rem 0.5rem; background-color: var(--navy-600); border-radius: 4px; font-size: 0.7rem; font-family: 'JetBrains Mono', monospace; }
        .version-badge.outdated { background-color: rgba(251, 146, 60, 0.2); color: var(--orange-400); }
        .version-badge.current { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .class-badge { padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 600; }
        
        /* Phase Tabs */
        .phase-tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
        .phase-tab { padding: 0.6rem 1rem; background-color: var(--navy-700); border: 1px solid var(--navy-600); border-radius: 8px; color: var(--gray-400); font-size: 0.8rem; cursor: pointer; transition: all 0.2s; font-family: inherit; }
        .phase-tab:hover { background-color: var(--navy-600); color: white; }
        .phase-tab.active { background: linear-gradient(135deg, var(--maxam-blue), rgba(30, 64, 175, 0.7)); border-color: var(--maxam-blue); color: white; }
        .phase-tab .count { margin-left: 0.5rem; padding: 0.1rem 0.4rem; background-color: rgba(255, 255, 255, 0.2); border-radius: 10px; font-size: 0.7rem; }
        
        /* Controls */
        .control-btn { padding: 0.6rem 1rem; background: linear-gradient(135deg, var(--maxam-blue), rgba(30, 64, 175, 0.8)); border: none; border-radius: 8px; color: white; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; font-family: inherit; font-weight: 500; }
        .control-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(30, 64, 175, 0.3); }
        .control-btn.secondary { background: var(--navy-700); border: 1px solid var(--navy-600); }
        .control-btn.secondary:hover { background: var(--navy-600); }
        .control-btn.success { background: linear-gradient(135deg, var(--green-500), rgba(5, 150, 105, 0.8)); }
        .control-select { padding: 0.6rem 1rem; background-color: var(--navy-700); border: 1px solid var(--navy-600); border-radius: 8px; color: white; font-size: 0.85rem; font-family: inherit; cursor: pointer; }
        .control-select:focus { outline: none; border-color: var(--maxam-blue); }
        .control-input { padding: 0.6rem 1rem; background-color: var(--navy-700); border: 1px solid var(--navy-600); border-radius: 8px; color: white; font-size: 0.85rem; font-family: inherit; }
        .control-input:focus { outline: none; border-color: var(--maxam-blue); }
        .control-group { margin-bottom: 1rem; }
        .control-label { display: block; font-size: 0.85rem; color: var(--gray-400); margin-bottom: 0.5rem; }
        
        /* Toggle Switch */
        .toggle-container { display: flex; align-items: center; gap: 0.75rem; }
        .toggle-switch { position: relative; display: inline-block; width: 48px; height: 26px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--navy-600); transition: 0.3s; border-radius: 26px; }
        .toggle-slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; transition: 0.3s; border-radius: 50%; }
        .toggle-switch input:checked + .toggle-slider { background-color: var(--green-400); }
        .toggle-switch input:checked + .toggle-slider:before { transform: translateX(22px); }
        .toggle-label { font-size: 0.85rem; color: var(--gray-400); }
        
        /* Tables */
        .data-table, .comparison-table { width: 100%; border-collapse: collapse; }
        .data-table th, .data-table td, .comparison-table th, .comparison-table td { padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--navy-700); font-size: 0.85rem; }
        .data-table th, .comparison-table th { color: var(--gray-400); font-weight: 600; font-size: 0.75rem; text-transform: uppercase; }
        .data-table tbody tr:hover, .comparison-table tbody tr:hover { background-color: var(--navy-700); }
        .highlight-row { background-color: rgba(30, 64, 175, 0.2) !important; }
        
        /* Alert Cards */
        .alert-card { display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid; }
        .alert-card.critical { border-left-color: var(--red-400); }
        .alert-card.warning { border-left-color: var(--yellow-400); }
        .alert-card.normal { border-left-color: var(--green-400); }
        .alert-icon { font-size: 1.25rem; }
        .alert-content { flex: 1; }
        .alert-title { font-weight: 600; font-size: 0.85rem; margin-bottom: 0.25rem; }
        .alert-description { font-size: 0.8rem; color: var(--gray-400); }
        .alert-time { font-size: 0.7rem; color: var(--gray-500); font-family: 'JetBrains Mono', monospace; }
        
        /* Progress Bar */
        .progress-bar { height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
        
        /* Chart Container */
        .chart-container { height: 250px; position: relative; }
        .chart-container.tall { height: 350px; }
        
        /* P&L Items */
        .pnl-item { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--navy-700); }
        .pnl-item:last-child { border-bottom: none; }
        .pnl-label { color: var(--gray-400); }
        .pnl-value { font-weight: 600; }
        .pnl-value.positive { color: var(--green-400); }
        .pnl-value.negative { color: var(--red-400); }
        
        /* Trade Items */
        .trade-item { display: flex; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid var(--navy-700); gap: 0.75rem; }
        .trade-item:last-child { border-bottom: none; }
        .trade-symbol { font-weight: 600; width: 60px; }
        .trade-side { padding: 0.15rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 600; }
        .trade-side.buy { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .trade-side.sell { background-color: rgba(239, 68, 68, 0.2); color: var(--red-400); }
        .trade-value { flex: 1; text-align: right; color: var(--gray-400); font-size: 0.85rem; }
        .trade-pnl { width: 70px; text-align: right; font-weight: 600; }
        .trade-time { width: 80px; text-align: right; color: var(--gray-500); font-size: 0.75rem; }
        
        /* Allocation Legend */
        .allocation-legend { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1rem; }
        .legend-item { display: flex; align-items: center; gap: 0.5rem; }
        .legend-color { width: 12px; height: 12px; border-radius: 3px; }
        .legend-label { font-size: 0.8rem; color: var(--gray-400); }
        .legend-value { font-size: 0.8rem; font-weight: 600; }
        
        /* Gradient Cards */
        .gradient-card { background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(217, 119, 6, 0.1)); border-color: rgba(30, 64, 175, 0.3); }
        .gradient-card-success { background: linear-gradient(135deg, rgba(5, 150, 105, 0.2), rgba(34, 197, 94, 0.1)); border-color: rgba(34, 197, 94, 0.3); }
        
        /* Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7); z-index: 2000; justify-content: center; align-items: center; padding: 1rem; }
        .modal-overlay.active { display: flex; }
        .modal { background-color: var(--navy-800); border: 1px solid var(--navy-600); border-radius: 16px; padding: 1.5rem; max-width: 700px; width: 100%; max-height: 85vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--navy-700); }
        .modal-title { font-size: 1.25rem; font-weight: 700; }
        .modal-close { background: none; border: none; color: var(--gray-400); font-size: 1.5rem; cursor: pointer; }
        .modal-close:hover { color: white; }
        
        /* Mobile */
        .mobile-menu-toggle { display: none; position: fixed; top: 1rem; left: 1rem; z-index: 1001; background-color: var(--maxam-blue); border: none; border-radius: 8px; padding: 0.75rem; cursor: pointer; color: white; font-size: 1.5rem; }
        .sidebar-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); z-index: 99; }
        .sidebar-overlay.active { display: block; }
        
        /* Page transitions */
        .page { display: none; }
        .page.active { display: block; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--navy-800); }
        ::-webkit-scrollbar-thumb { background: var(--navy-600); border-radius: 3px; }
        
        /* Responsive */
        @media (max-width: 1400px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .agents-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 1024px) { .agents-grid { grid-template-columns: repeat(2, 1fr); } .two-col-grid, .three-col-grid { grid-template-columns: 1fr; } .charts-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .mobile-menu-toggle { display: block; } .sidebar { left: -300px; transition: left 0.3s ease; } .sidebar.open { left: 0; } .main-content { margin-left: 0; padding-top: 4.5rem; } .stats-grid, .agents-grid { grid-template-columns: 1fr; } .phase-tabs { flex-direction: column; } }
    </style>
</head>
<body>
    <button class="mobile-menu-toggle" id="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeMobileMenu()"></div>
    
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="logo-container">
                <div class="logo-icon">M</div>
                <div>
                    <div class="logo-text">MAXAM CAPITAL</div>
                    <div class="logo-subtitle">IQ-167 V5.0 ULTRA</div>
                </div>
            </div>
            
            <ul class="nav-list">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <li class="nav-item"><button class="nav-link active" data-page="dashboard" onclick="switchPage('dashboard')"><span class="nav-icon">üìä</span><span>Dashboard</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="agents" onclick="switchPage('agents')"><span class="nav-icon">ü§ñ</span><span>Agents</span><span class="nav-badge">96</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="trading" onclick="switchPage('trading')"><span class="nav-icon">üíπ</span><span>Trading</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="risk" onclick="switchPage('risk')"><span class="nav-icon">üõ°Ô∏è</span><span>Risk</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="analytics" onclick="switchPage('analytics')"><span class="nav-icon">üìà</span><span>Analytics</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Agent Management</div>
                    <li class="nav-item"><button class="nav-link" data-page="agent-monitoring" onclick="switchPage('agent-monitoring')"><span class="nav-icon">üîç</span><span>Agent Monitoring</span><span class="nav-badge">10</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="defi-protocols" onclick="switchPage('defi-protocols')"><span class="nav-icon">üî∑</span><span>DeFi Protocols</span><span class="nav-badge dev">6</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="advanced-analytics" onclick="switchPage('advanced-analytics')"><span class="nav-icon">üßÆ</span><span>Advanced Analytics</span><span class="nav-badge dev">6</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="operations" onclick="switchPage('operations')"><span class="nav-icon">‚öôÔ∏è</span><span>Operations</span><span class="nav-badge dev">5</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="compliance-agents" onclick="switchPage('compliance-agents')"><span class="nav-icon">üìã</span><span>Compliance Agents</span><span class="nav-badge dev">6</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Management</div>
                    <li class="nav-item"><button class="nav-link" data-page="portfolio" onclick="switchPage('portfolio')"><span class="nav-icon">üíº</span><span>Portfolio</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="investor" onclick="switchPage('investor')"><span class="nav-icon">üè¶</span><span>Investor Portal</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="research" onclick="switchPage('research')"><span class="nav-icon">üî¨</span><span>Research</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Compliance & Security</div>
                    <li class="nav-item"><button class="nav-link" data-page="auditing" onclick="switchPage('auditing')"><span class="nav-icon">üìù</span><span>Auditing</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="security" onclick="switchPage('security')"><span class="nav-icon">üîê</span><span>Security</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Administration</div>
                    <li class="nav-item"><button class="nav-link" data-page="admin" onclick="switchPage('admin')"><span class="nav-icon">‚ö°</span><span>Admin Panel</span></button></li>
                </div>
            </ul>
            
            <div class="system-status">
                <div class="status-indicator"><div class="status-dot"></div><span class="status-text">System Online</span></div>
                <div class="latency-text">Latency: <span id="system-latency">8.2ms</span></div>
                <div class="latency-text">Agents: <span id="active-agents-count">73</span>/96 Active</div>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="page-header">
                <div>
                    <h1 class="page-title" id="page-title">Dashboard</h1>
                    <p class="page-subtitle">IQ-167 V5.0 ULTRA ‚Ä¢ 96-Agent Multi-Asset Trading Platform</p>
                </div>
                <div class="header-right">
                    <div class="live-badge"><div class="live-dot" style="width:8px;height:8px;background-color:var(--green-400);border-radius:50%;animation:pulse 2s infinite;"></div><span class="status-text">Live</span></div>
                    <div class="datetime" id="datetime"></div>
                </div>
            </header>
            
            <!-- ==================== DASHBOARD PAGE ==================== -->
            <div class="page active" id="page-dashboard">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total AUM</span><span class="stat-icon">üí∞</span></div><div class="stat-value" id="stat-aum">$9.11B</div><div class="stat-change positive">+82.15% YTD</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Daily P&L</span><span class="stat-icon">üìà</span></div><div class="stat-value" id="stat-pnl">$42.85M</div><div class="stat-change positive" id="stat-pnl-pct">+0.47%</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Win Rate</span><span class="stat-icon">üéØ</span></div><div class="stat-value">77.8%</div><div class="stat-change neutral">Last 30 days</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Sharpe Ratio</span><span class="stat-icon">‚ö°</span></div><div class="stat-value">2.87</div><div class="stat-change neutral">Risk-adjusted</div></div>
                </div>
                
                <!-- Build Progress -->
                <div class="card gradient-card">
                    <h3 class="card-title">üöÄ IQ-167 V5.0 ULTRA Build Progress</h3>
                    <div class="two-col-grid" style="gap: 2rem;">
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;"><span style="color: var(--gray-400);">Overall Completion</span><span style="font-weight: 700; color: var(--green-400);">76%</span></div>
                            <div class="progress-bar" style="height: 12px;"><div class="progress-fill" style="width: 76%; background: linear-gradient(90deg, var(--green-400), var(--maxam-blue));"></div></div>
                            <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.8rem; color: var(--gray-400);"><span>73 agents complete</span><span>23 remaining</span></div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">~262K</div><div style="font-size: 0.75rem; color: var(--gray-400);">Lines Written</div></div>
                            <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--yellow-400);">~138K</div><div style="font-size: 0.75rem; color: var(--gray-400);">Lines Remaining</div></div>
                            <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">12</div><div style="font-size: 0.75rem; color: var(--gray-400);">Weeks to Complete</div></div>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Row -->
                <div class="charts-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">Portfolio Performance</h3>
                            <select class="control-select" id="performance-timeframe" style="width: 120px;"><option value="1d">1 Day</option><option value="7d">7 Days</option><option value="30d" selected>30 Days</option><option value="90d">90 Days</option><option value="1y">1 Year</option></select>
                        </div>
                        <div class="chart-container"><canvas id="performanceChart"></canvas></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Asset Allocation</h3>
                        <div class="chart-container"><canvas id="allocationChart"></canvas></div>
                        <div class="allocation-legend" id="allocation-legend"></div>
                    </div>
                </div>
                
                <!-- Agents & Trades Row -->
                <div class="two-col-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">96-Agent Status</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div class="status-dot"></div><span style="font-size: 0.875rem; color: var(--gray-400);">73 Active</span></div>
                        </div>
                        <div class="agents-grid" id="dashboard-agents-grid"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Recent Trades</h3>
                        <div id="trade-list" style="max-height: 350px; overflow-y: auto;"></div>
                    </div>
                </div>
                
                <!-- Asset Universe -->
                <div class="card">
                    <h3 class="card-title">Asset Universe (17 Assets)</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="assets-table">
                            <thead><tr><th>Asset</th><th>Price</th><th>24h Change</th><th>Class</th><th>Allocation</th><th>Position Value</th></tr></thead>
                            <tbody id="assets-tbody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Fee Summary -->
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Fee Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">8.0%</div><div style="font-size: 0.875rem; color: var(--gray-400);">Management Fee</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">50.0%</div><div style="font-size: 0.875rem; color: var(--gray-400);">Performance Fee</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">$728.8M</div><div style="font-size: 0.875rem; color: var(--gray-400);">Mgmt Fees YTD</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">$1.92B</div><div style="font-size: 0.875rem; color: var(--gray-400);">Perf Fees YTD</div></div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== AGENTS PAGE ==================== -->
            <div class="page" id="page-agents">
                <div class="phase-tabs" id="phase-tabs"></div>
                <div class="card" style="margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <select class="control-select" id="agent-filter"><option value="all">All Agents</option><option value="active">Active Only</option><option value="development">In Development</option></select>
                            <select class="control-select" id="health-filter"><option value="all">All Health Scores</option><option value="a">Grade A (90-100)</option><option value="b">Grade B (80-89)</option><option value="c">Grade C (70-79)</option></select>
                        </div>
                        <div style="display: flex; gap: 1rem;"><button class="control-btn secondary" onclick="refreshAllAgents()">üîÑ Refresh</button><button class="control-btn" onclick="openBulkUpgradeModal()">‚¨ÜÔ∏è Bulk Upgrade</button></div>
                    </div>
                </div>
                <div class="card gradient-card-success" style="margin-bottom: 1.5rem;">
                    <h3 class="card-title">üè• Agent Health Score Summary</h3>
                    <div id="health-score-summary" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem;"></div>
                </div>
                <div id="agents-phase-content"></div>
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">‚¨ÜÔ∏è Agent Upgrade Recommendations</h3>
                        <div class="toggle-container"><span class="toggle-label">Manual</span><label class="toggle-switch"><input type="checkbox" id="auto-upgrade-toggle"><span class="toggle-slider"></span></label><span class="toggle-label">Auto</span></div>
                    </div>
                    <div id="upgrade-recommendations"></div>
                </div>
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">‚ö†Ô∏è Agent Risk Alerts</h3>
                        <span id="alert-count" style="padding: 0.25rem 0.75rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.85rem;">3 Active</span>
                    </div>
                    <div id="agent-risk-alerts"></div>
                </div>
            </div>
            
            <!-- ==================== TRADING PAGE ==================== -->
            <div class="page" id="page-trading">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">24h Volume</span><span class="stat-icon">üìä</span></div><div class="stat-value">$8.42B</div><div class="stat-change positive">+12.4% vs avg</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Trades</span><span class="stat-icon">üíπ</span></div><div class="stat-value">45,280</div><div class="stat-change neutral">24h period</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Fill Rate</span><span class="stat-icon">‚ö°</span></div><div class="stat-value">99.4%</div><div class="stat-change positive">Excellent</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Slippage</span><span class="stat-icon">üìâ</span></div><div class="stat-value">0.02%</div><div class="stat-change positive">Below target</div></div>
                </div>
                <h3 style="margin-bottom: 1rem; color: var(--gray-400);">Cryptocurrency Exchanges</h3>
                <div class="stats-grid" id="crypto-venues-grid" style="grid-template-columns: repeat(6, 1fr);"></div>
                <h3 style="margin: 1.5rem 0 1rem; color: var(--gray-400);">Traditional Markets</h3>
                <div class="stats-grid" id="tradfi-venues-grid" style="grid-template-columns: repeat(6, 1fr);"></div>
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Live Trade Stream</h3>
                    <div id="trading-trade-list" style="max-height: 500px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <!-- ==================== RISK PAGE ==================== -->
            <div class="page" id="page-risk">
                <div class="stats-grid">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Portfolio VaR (95%)</span><span class="stat-icon">üìä</span></div><div class="stat-value">0.9%</div><div class="stat-change positive">Within limits</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--yellow-400);"><div class="stat-header"><span class="stat-label">Max Drawdown</span><span class="stat-icon">üìâ</span></div><div class="stat-value">-5.7%</div><div class="stat-change neutral">YTD</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Leverage Ratio</span><span class="stat-icon">‚öñÔ∏è</span></div><div class="stat-value">1.8x</div><div class="stat-change positive">Max: 3.0x</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Liquidity Score</span><span class="stat-icon">üíß</span></div><div class="stat-value">94.2</div><div class="stat-change positive">Excellent</div></div>
                </div>
                <div class="two-col-grid">
                    <div class="card">
                        <h3 class="card-title">‚ö†Ô∏è Risk Limits Status</h3>
                        <div id="risk-limits"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Exposure by Asset Class</h3>
                        <div id="exposure-analysis"></div>
                    </div>
                </div>
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üö® Active Risk Alerts</h3>
                    <div id="risk-alerts"></div>
                </div>
            </div>
            
            <!-- ==================== ANALYTICS PAGE ==================== -->
            <div class="page" id="page-analytics">
                <div class="two-col-grid">
                    <div class="card"><h3 class="card-title">10-Year Performance Projections</h3><div class="chart-container tall"><canvas id="projectionsChart"></canvas></div></div>
                    <div class="card"><h3 class="card-title">ROI Comparison</h3><div class="chart-container tall"><canvas id="roiComparisonChart"></canvas></div></div>
                </div>
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Performance vs Major Benchmarks</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead><tr><th>Investment</th><th>1Y Return</th><th>3Y CAGR</th><th>5Y CAGR</th><th>Sharpe</th><th>Max DD</th></tr></thead>
                            <tbody id="benchmark-comparison"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">10-Year Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr);">
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--maxam-gold);">$42.18B</div><div style="font-size: 0.875rem; color: var(--gray-400);">Final AUM</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">13.6x</div><div style="font-size: 0.875rem; color: var(--gray-400);">Multiple</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">162.8%</div><div style="font-size: 0.875rem; color: var(--gray-400);">CAGR</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">76.2%</div><div style="font-size: 0.875rem; color: var(--gray-400);">Win Rate</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">2.87</div><div style="font-size: 0.875rem; color: var(--gray-400);">Sharpe Ratio</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">-5.7%</div><div style="font-size: 0.875rem; color: var(--gray-400);">Max Drawdown</div></div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== PORTFOLIO PAGE ==================== -->
            <div class="page" id="page-portfolio">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Portfolio Value</span><span class="stat-icon">üí∞</span></div><div class="stat-value" id="total-portfolio-value">$9.11B</div><div class="stat-change positive">+$38.4M today</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Positions</span><span class="stat-icon">üìä</span></div><div class="stat-value">17</div><div class="stat-change neutral">Active assets</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Unrealized P&L</span><span class="stat-icon">üìà</span></div><div class="stat-value positive" id="total-unrealized-pnl">+$6.63B</div><div class="stat-change positive">+267.3% return</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Realized P&L (YTD)</span><span class="stat-icon">‚úÖ</span></div><div class="stat-value positive">+$1.24B</div><div class="stat-change positive">Closed positions</div></div>
                </div>
                <div class="two-col-grid">
                    <div class="card"><h3 class="card-title">üìä Portfolio Allocation</h3><div class="chart-container"><canvas id="portfolioAllocationChart"></canvas></div></div>
                    <div class="card"><h3 class="card-title">üìà Asset Class Breakdown</h3><div id="asset-class-breakdown"></div></div>
                </div>
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã All Positions</h3>
                        <div style="display: flex; gap: 0.5rem;">
                            <select class="control-select" id="position-filter"><option value="all">All Positions</option><option value="crypto">Crypto</option><option value="tradfi">TradFi</option><option value="profitable">Profitable</option></select>
                            <button class="control-btn secondary" onclick="refreshPositions()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="positions-table">
                            <thead><tr><th>Asset</th><th>Class</th><th>Price</th><th>Quantity</th><th>Value</th><th>Weight</th><th>Unrealized P&L</th><th>24h Change</th></tr></thead>
                            <tbody id="positions-table-body"></tbody>
                        </table>
                    </div>
                </div>
                <div class="stats-grid" style="margin-top: 1.5rem; grid-template-columns: repeat(4, 1fr);">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Best Performer (24h)</span><span class="stat-icon">üèÜ</span></div><div class="stat-value small" id="best-performer">SOL</div><div class="stat-change positive">+4.82%</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--red-400);"><div class="stat-header"><span class="stat-label">Worst Performer (24h)</span><span class="stat-icon">üìâ</span></div><div class="stat-value small" id="worst-performer">USO</div><div class="stat-change negative">-2.15%</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-gold);"><div class="stat-header"><span class="stat-label">Largest Position</span><span class="stat-icon">üìä</span></div><div class="stat-value small">SOL</div><div class="stat-change neutral">36.8% of portfolio</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-blue);"><div class="stat-header"><span class="stat-label">Most Profitable</span><span class="stat-icon">üíé</span></div><div class="stat-value small">SOL</div><div class="stat-change positive">+$2.48B total</div></div>
                </div>
                <div class="three-col-grid" style="margin-top: 1.5rem;">
                    <div class="card gradient-card-success">
                        <h3 class="card-title">üìà Agent Portfolio P&L</h3>
                        <div class="pnl-item"><span class="pnl-label">Today</span><span class="pnl-value positive">+$38,425,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Week</span><span class="pnl-value positive">+$142,850,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Month</span><span class="pnl-value positive">+$485,200,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">YTD</span><span class="pnl-value positive">+$3,842,500,000</span></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Human Portfolio P&L</h3>
                        <div class="pnl-item"><span class="pnl-label">Today</span><span class="pnl-value positive">+$4,425,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Week</span><span class="pnl-value negative">-$2,150,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Month</span><span class="pnl-value positive">+$18,420,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">YTD</span><span class="pnl-value positive">+$245,800,000</span></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">‚öñÔ∏è Rebalancing</h3>
                        <div id="rebalancing-recommendations"></div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== INVESTOR PORTAL ==================== -->
            <div class="page" id="page-investor">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Your Investment</span><span class="stat-icon">üíµ</span></div><div class="stat-value">$2.0B</div><div class="stat-change neutral">Initial capital</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Current Value</span><span class="stat-icon">üí∞</span></div><div class="stat-value">$2.65B</div><div class="stat-change positive">+32.5%</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">YTD Return</span><span class="stat-icon">üìà</span></div><div class="stat-value positive">+82.15%</div><div class="stat-change positive">Outperforming</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Management Fee</span><span class="stat-icon">üìã</span></div><div class="stat-value">$18.42M</div><div class="stat-change neutral">YTD</div></div>
                </div>
                <div class="card"><h3 class="card-title">Performance vs Alternatives</h3><div class="chart-container tall"><canvas id="investorComparisonChart"></canvas></div></div>
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Comparison Table</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead><tr><th>Investment</th><th>YTD</th><th>1Y Return</th><th>3Y CAGR</th><th>Volatility</th><th>Sharpe</th><th>Max DD</th></tr></thead>
                            <tbody id="investor-comparison-table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="card" style="margin-top: 1.5rem;"><h3 class="card-title">Quarterly Reports</h3><div id="quarterly-reports"></div></div>
            </div>
            
            <!-- ==================== RESEARCH PAGE ==================== -->
            <div class="page" id="page-research">
                <div class="card">
                    <h3 class="card-title">üî¨ AI-Powered Asset Research</h3>
                    <div class="two-col-grid">
                        <div>
                            <div class="control-group"><label class="control-label">Select Asset</label><select class="control-select" id="research-asset" style="width: 100%;"><optgroup label="Crypto"><option value="SOL">SOL - Solana</option><option value="BTC">BTC - Bitcoin</option><option value="ETH">ETH - Ethereum</option></optgroup><optgroup label="TradFi"><option value="SPY">SPY - S&P 500</option><option value="GLD">GLD - Gold</option></optgroup></select></div>
                            <div class="control-group"><label class="control-label">Report Type</label><select class="control-select" id="research-type" style="width: 100%;"><option value="full">Full Analysis</option><option value="technical">Technical Only</option><option value="fundamental">Fundamental Only</option></select></div>
                        </div>
                        <div>
                            <div class="control-group"><label class="control-label">Timeframe</label><select class="control-select" id="research-timeframe" style="width: 100%;"><option value="1d" selected>1 Day</option><option value="1w">1 Week</option><option value="1m">1 Month</option></select></div>
                            <div class="control-group"><label class="control-label">Agent Consensus</label><select class="control-select" id="research-consensus" style="width: 100%;"><option value="all">All 96 Agents</option><option value="relevant" selected>Relevant Agents</option></select></div>
                        </div>
                    </div>
                    <button class="control-btn" style="margin-top: 1rem;" onclick="generateAssetReport()">üîç Generate Report</button>
                </div>
                <div class="card" style="margin-top: 1.5rem;" id="asset-report-container">
                    <h3 class="card-title">üìä Asset Analysis Report</h3>
                    <div id="asset-report-content" style="text-align: center; padding: 2rem; color: var(--gray-500);">Select an asset and generate a report</div>
                </div>
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">ü§ñ Automated AI Reports (3x Daily)</h3>
                    <div class="three-col-grid" style="margin-bottom: 1rem;">
                        <div class="stat-card"><div class="stat-header"><span class="stat-label">Morning Report</span><span class="stat-icon">üåÖ</span></div><div class="stat-value small">08:00 UTC</div><div class="stat-change positive">‚úì Delivered</div></div>
                        <div class="stat-card"><div class="stat-header"><span class="stat-label">Midday Report</span><span class="stat-icon">‚òÄÔ∏è</span></div><div class="stat-value small">14:00 UTC</div><div class="stat-change positive">‚úì Delivered</div></div>
                        <div class="stat-card"><div class="stat-header"><span class="stat-label">Evening Report</span><span class="stat-icon">üåô</span></div><div class="stat-value small">20:00 UTC</div><div class="stat-change neutral">Pending</div></div>
                    </div>
                    <div id="automated-reports-list"></div>
                </div>
            </div>
            
            <!-- ==================== AGENT MONITORING PAGE ==================== -->
            <div class="page" id="page-agent-monitoring">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Monitoring Agents</span><span class="stat-icon">üîç</span></div><div class="stat-value">10/10</div><div class="stat-change positive">All Operational</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Response Time</span><span class="stat-icon">‚ö°</span></div><div class="stat-value">12ms</div><div class="stat-change positive">-3ms from baseline</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Anomalies Detected</span><span class="stat-icon">üéØ</span></div><div class="stat-value">2</div><div class="stat-change neutral" style="color: var(--yellow-400);">Under review</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Uptime (30d)</span><span class="stat-icon">üìä</span></div><div class="stat-value">99.97%</div><div class="stat-change positive">Exceeds SLA</div></div>
                </div>
                <div class="card"><h3 class="card-title">üîç Phase 3: Monitoring Suite (10 Agents)</h3><div class="agents-grid" id="monitoring-agents-grid"></div></div>
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card"><h3 class="card-title">üìà Performance Trends</h3><div class="chart-container"><canvas id="monitoringTrendChart"></canvas></div></div>
                    <div class="card"><h3 class="card-title">üí∞ Alpha Attribution</h3><div class="chart-container"><canvas id="alphaChart"></canvas></div></div>
                </div>
            </div>
            
            <!-- ==================== DEFI PROTOCOLS PAGE ==================== -->
            <div class="page" id="page-defi-protocols">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 4: DeFi Protocols - In Development</h3><p style="color: var(--gray-400);">6 agents ‚Ä¢ Weeks 1-3 ‚Ä¢ ~36,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">üî∑ DeFi Protocol Agents (6)</h3><div class="agents-grid" id="defi-agents-grid"></div></div>
            </div>
            
            <!-- ==================== ADVANCED ANALYTICS PAGE ==================== -->
            <div class="page" id="page-advanced-analytics">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 4: Advanced Analytics - In Development</h3><p style="color: var(--gray-400);">6 agents ‚Ä¢ Weeks 4-6 ‚Ä¢ ~36,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">üßÆ Analytics Agents (6)</h3><div class="agents-grid" id="analytics-agents-grid"></div></div>
            </div>
            
            <!-- ==================== OPERATIONS PAGE ==================== -->
            <div class="page" id="page-operations">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 5: Operations - In Development</h3><p style="color: var(--gray-400);">5 agents ‚Ä¢ Weeks 7-9 ‚Ä¢ ~30,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">‚öôÔ∏è Operations Agents (5)</h3><div class="agents-grid" id="operations-agents-grid"></div></div>
            </div>
            
            <!-- ==================== COMPLIANCE AGENTS PAGE ==================== -->
            <div class="page" id="page-compliance-agents">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 5: Compliance - In Development</h3><p style="color: var(--gray-400);">6 agents ‚Ä¢ Weeks 10-12 ‚Ä¢ ~36,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">üìã Compliance Agents (6)</h3><div class="agents-grid" id="compliance-agents-grid"></div></div>
            </div>
            
            <!-- ==================== AUDITING PAGE ==================== -->
            <div class="page" id="page-auditing">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Last Daily Audit</span><span class="stat-icon">üìÖ</span></div><div class="stat-value small">Today 06:00</div><div class="stat-change positive">‚úì Passed</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Last Monthly Audit</span><span class="stat-icon">üìÜ</span></div><div class="stat-value small">Dec 1, 2025</div><div class="stat-change positive">‚úì Passed</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Quarterly Audit</span><span class="stat-icon">üìä</span></div><div class="stat-value small">Oct 1, 2025</div><div class="stat-change positive">‚úì Passed</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Compliance Score</span><span class="stat-icon">‚úÖ</span></div><div class="stat-value small">98.7%</div><div class="stat-change positive">SOC 2 Type II</div></div>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div><h3 class="card-title" style="margin-bottom: 0;">On-Demand Audit Generation</h3></div>
                        <div style="display: flex; gap: 1rem;">
                            <select class="control-select" id="audit-type"><option value="full">Full Audit</option><option value="reconciliation">Reconciliation</option><option value="compliance">Compliance</option></select>
                            <button class="control-btn" onclick="generateAudit()">üìã Generate Audit</button>
                        </div>
                    </div>
                </div>
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card"><h3 class="card-title">üìÖ Audit Schedule</h3><div id="audit-schedule"></div></div>
                    <div class="card"><h3 class="card-title">üìú Recent Audits</h3><div id="audit-reports-list"></div></div>
                </div>
            </div>
            
            <!-- ==================== SECURITY PAGE ==================== -->
            <div class="page" id="page-security">
                <div class="stats-grid">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">System Status</span><span class="stat-icon">üõ°Ô∏è</span></div><div class="stat-value small" style="color: var(--green-400);">SECURE</div><div class="stat-change positive">All systems nominal</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Threats Blocked (24h)</span><span class="stat-icon">üö´</span></div><div class="stat-value small">1,247</div><div class="stat-change neutral">+12% vs avg</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Active Alerts</span><span class="stat-icon">‚ö†Ô∏è</span></div><div class="stat-value small">3</div><div class="stat-change neutral">2 Low, 1 Medium</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Uptime</span><span class="stat-icon">‚è±Ô∏è</span></div><div class="stat-value small">99.99%</div><div class="stat-change positive">Last 30 days</div></div>
                </div>
                <div class="two-col-grid">
                    <div class="card"><h3 class="card-title">üî¥ Threat Detection Feed</h3><div id="threat-feed" style="max-height: 300px; overflow-y: auto;"></div></div>
                    <div class="card"><h3 class="card-title">üìä Anomaly Detection</h3><div id="anomaly-detection"></div></div>
                </div>
                <div class="card" style="margin-top: 1.5rem;"><h3 class="card-title">üîë Access Log</h3><div id="access-log" style="max-height: 250px; overflow-y: auto;"></div></div>
            </div>
            
            <!-- ==================== ADMIN PAGE ==================== -->
            <div class="page" id="page-admin">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Users</span><span class="stat-icon">üë•</span></div><div class="stat-value">24</div><div class="stat-change positive">+3 this month</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Active Sessions</span><span class="stat-icon">üü¢</span></div><div class="stat-value">18</div><div class="stat-change neutral">Online now</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">API Keys</span><span class="stat-icon">üîë</span></div><div class="stat-value">12</div><div class="stat-change neutral">3 expiring</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">System Health</span><span class="stat-icon">üíö</span></div><div class="stat-value" style="color: var(--green-400);">99.99%</div><div class="stat-change positive">All operational</div></div>
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üë• User Management</h3>
                        <button class="control-btn">‚ûï Add User</button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="users-table">
                            <thead><tr><th>User</th><th>Email</th><th>Role</th><th>Status</th><th>2FA</th><th>Actions</th></tr></thead>
                            <tbody id="users-table-body"></tbody>
                        </table>
                    </div>
                </div>
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card"><h3 class="card-title">‚öôÔ∏è System Settings</h3><div id="system-settings"></div></div>
                    <div class="card"><h3 class="card-title">üìä System Health</h3><div id="system-health"></div></div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Modals -->
    <div class="modal-overlay" id="agent-modal"><div class="modal"><div class="modal-header"><h2 class="modal-title" id="modal-agent-title">Agent Details</h2><button class="modal-close" onclick="closeAgentModal()">√ó</button></div><div id="modal-agent-content"></div></div></div>
    <div class="modal-overlay" id="bulk-upgrade-modal"><div class="modal"><div class="modal-header"><h2 class="modal-title">‚¨ÜÔ∏è Bulk Agent Upgrade</h2><button class="modal-close" onclick="closeBulkUpgradeModal()">√ó</button></div><div id="bulk-upgrade-content"></div></div></div>

    <script>
        // ============================================
        // ALL DATA
        // ============================================
        
        // Assets
        const assets = [
            { symbol: 'SOL', name: 'Solana', class: 'Crypto', price: 98.42, change: 4.2, allocation: 32.5, value: 2960000000, pnl: 2480000000 },
            { symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', price: 97842.50, change: 1.8, allocation: 14.2, value: 1293000000, pnl: 485000000 },
            { symbol: 'ETH', name: 'Ethereum', class: 'Crypto', price: 3542.80, change: 2.1, allocation: 9.8, value: 893000000, pnl: 312000000 },
            { symbol: 'XRP', name: 'XRP', class: 'Crypto', price: 1.42, change: 3.5, allocation: 4.2, value: 383000000, pnl: 142000000 },
            { symbol: 'BNB', name: 'BNB', class: 'Crypto', price: 642.30, change: 1.2, allocation: 3.2, value: 291000000, pnl: 98000000 },
            { symbol: 'ADA', name: 'Cardano', class: 'Crypto', price: 0.62, change: 2.8, allocation: 2.1, value: 191000000, pnl: 52000000 },
            { symbol: 'XLM', name: 'Stellar', class: 'Crypto', price: 0.38, change: 1.5, allocation: 1.4, value: 127000000, pnl: 28000000 },
            { symbol: 'USDT', name: 'Tether', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 6.8, value: 619000000, pnl: 0 },
            { symbol: 'USDC', name: 'USDC', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 5.2, value: 474000000, pnl: 0 },
            { symbol: 'SPY', name: 'S&P 500', class: 'Equity', price: 598.42, change: 0.4, allocation: 5.2, value: 474000000, pnl: 85000000 },
            { symbol: 'QQQ', name: 'Nasdaq 100', class: 'Equity', price: 518.25, change: 0.6, allocation: 2.8, value: 255000000, pnl: 48000000 },
            { symbol: 'TLT', name: 'Treasury Bonds', class: 'Fixed Income', price: 92.15, change: -0.2, allocation: 4.8, value: 437000000, pnl: 22000000 },
            { symbol: 'GLD', name: 'Gold', class: 'Commodity', price: 242.80, change: 0.8, allocation: 3.2, value: 291000000, pnl: 45000000 },
            { symbol: 'SLV', name: 'Silver', class: 'Commodity', price: 28.42, change: 1.2, allocation: 1.5, value: 137000000, pnl: 18000000 },
            { symbol: 'USO', name: 'Oil', class: 'Commodity', price: 72.85, change: -0.8, allocation: 1.2, value: 109000000, pnl: -12000000 },
            { symbol: 'VNQ', name: 'Real Estate', class: 'REIT', price: 94.20, change: 0.3, allocation: 1.4, value: 127000000, pnl: 15000000 },
            { symbol: 'VIX', name: 'Volatility', class: 'Derivative', price: 14.82, change: -2.4, allocation: 0.5, value: 46000000, pnl: 8000000 }
        ];
        
        const allocationData = [
            { name: 'Crypto', value: 67.4, color: '#8B5CF6' },
            { name: 'Stablecoins', value: 12.0, color: '#6B7280' },
            { name: 'Equities', value: 8.0, color: '#22C55E' },
            { name: 'Fixed Income', value: 4.8, color: '#0EA5E9' },
            { name: 'Commodities', value: 5.9, color: '#EAB308' },
            { name: 'Other', value: 1.9, color: '#EC4899' }
        ];
        
        const cryptoVenues = [
            { name: 'Jupiter', volume: 2.84, trades: 12450, fillRate: 99.2, icon: 'ü™ê' },
            { name: 'Binance', volume: 1.85, trades: 8920, fillRate: 99.8, icon: 'üî∂' },
            { name: 'Coinbase', volume: 0.92, trades: 4210, fillRate: 99.5, icon: 'üîµ' },
            { name: 'Kraken', volume: 0.68, trades: 3280, fillRate: 99.4, icon: 'ü¶ë' },
            { name: 'OKX', volume: 0.52, trades: 2450, fillRate: 99.1, icon: '‚≠ï' },
            { name: 'Deribit', volume: 0.38, trades: 2100, fillRate: 98.8, icon: 'üìä' }
        ];
        
        const tradfiVenues = [
            { name: 'NASDAQ', volume: 1.24, trades: 4850, fillRate: 99.9, icon: 'üìà' },
            { name: 'NYSE', volume: 0.98, trades: 3920, fillRate: 99.9, icon: 'üèõÔ∏è' },
            { name: 'CME', volume: 0.45, trades: 1850, fillRate: 99.7, icon: 'üåæ' },
            { name: 'IBKR', volume: 0.28, trades: 980, fillRate: 99.9, icon: 'üè¶' }
        ];
        
        const benchmarks = [
            { name: 'Maxam Capital', y1: 82.15, y3: 52.4, y5: 62.8, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'S&P 500', y1: 26.2, y3: 10.8, y5: 11.5, sharpe: 0.65, maxDD: -24.5 },
            { name: 'NASDAQ 100', y1: 32.5, y3: 15.2, y5: 14.8, sharpe: 0.72, maxDD: -33.0 },
            { name: 'Bitcoin', y1: 85.2, y3: 32.5, y5: 28.5, sharpe: 0.62, maxDD: -77.0 },
            { name: 'Gold', y1: 12.2, y3: 7.2, y5: 6.8, sharpe: 0.42, maxDD: -18.4 },
            { name: 'Hedge Fund Index', y1: 9.5, y3: 7.8, y5: 6.2, sharpe: 0.72, maxDD: -18.5 }
        ];
        
        const investorComparisons = [
            { name: 'Maxam Capital', ytd: 82.15, y1: 82.15, y3: 52.4, vol: 28.4, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'Hedge Fund Index', ytd: 8.2, y1: 9.5, y3: 7.8, vol: 12.5, sharpe: 0.72, maxDD: -18.5 },
            { name: 'S&P 500', ytd: 24.5, y1: 26.2, y3: 10.8, vol: 15.8, sharpe: 0.65, maxDD: -24.5 },
            { name: 'Bitcoin', ytd: 62.4, y1: 85.2, y3: 32.5, vol: 72.5, sharpe: 0.62, maxDD: -77.0 },
            { name: 'Gold', ytd: 8.5, y1: 12.2, y3: 7.2, vol: 14.2, sharpe: 0.42, maxDD: -18.4 }
        ];
        
        const riskLimits = [
            { name: 'Portfolio VaR', current: 0.9, limit: 2.0 },
            { name: 'Single Position', current: 32.5, limit: 35.0 },
            { name: 'Gross Leverage', current: 1.8, limit: 3.0 },
            { name: 'Crypto Exposure', current: 67.4, limit: 85.0 },
            { name: 'Counterparty', current: 18.5, limit: 25.0 },
            { name: 'Illiquid Assets', current: 4.2, limit: 10.0 }
        ];
        
        // 96 Agents (abbreviated for space - full list in actual implementation)
        const allAgents = [];
        
        // Phase 0: Core (7)
        const phase0 = [
            { id: 1, agentId: '#1', name: 'Sentiment Agent', phase: 'phase0', icon: 'üí≠', function: 'NLP/social analysis', lines: 7500, status: 'active' },
            { id: 2, agentId: '#2', name: 'Fundamental Agent', phase: 'phase0', icon: 'üìä', function: 'Valuation analysis', lines: 7200, status: 'active' },
            { id: 3, agentId: '#3', name: 'Technical Agent', phase: 'phase0', icon: 'üìà', function: '50+ indicators', lines: 8100, status: 'active' },
            { id: 4, agentId: '#4', name: 'Liquidity Agent', phase: 'phase0', icon: 'üíß', function: 'Order routing', lines: 6800, status: 'active' },
            { id: 5, agentId: '#5', name: 'Portfolio Agent', phase: 'phase0', icon: 'üéØ', function: 'Optimization', lines: 7100, status: 'active' },
            { id: 6, agentId: '#6', name: 'Risk Agent', phase: 'phase0', icon: 'üõ°Ô∏è', function: 'VaR/CVaR', lines: 7800, status: 'active' },
            { id: 7, agentId: '#7', name: 'Master Agent', phase: 'phase0', icon: 'üß†', function: 'Orchestration', lines: 5500, status: 'active' }
        ];
        
        // Phase 1: Data (44) - generate
        for (let i = 8; i <= 51; i++) {
            allAgents.push({ id: i, agentId: `#${i}`, name: `Data Agent ${i-7}`, phase: 'phase1', icon: 'üì°', function: 'Data processing', lines: 1800, status: 'active' });
        }
        
        // Phase 2: Execution (7)
        const phase2 = [
            { id: 52, agentId: '#52', name: 'Order Management', phase: 'phase2', icon: 'üìã', function: 'Order lifecycle', lines: 5200, status: 'active' },
            { id: 53, agentId: '#53', name: 'Smart Order Router', phase: 'phase2', icon: 'üîÄ', function: 'Multi-venue routing', lines: 4800, status: 'active' },
            { id: 54, agentId: '#54', name: 'Execution Algorithm', phase: 'phase2', icon: '‚ö°', function: 'TWAP/VWAP', lines: 5500, status: 'active' },
            { id: 55, agentId: '#55', name: 'Fill Manager', phase: 'phase2', icon: '‚úÖ', function: 'Fill tracking', lines: 4200, status: 'active' },
            { id: 56, agentId: '#56', name: 'Trade Reconciliation', phase: 'phase2', icon: 'üîç', function: 'Position recon', lines: 4900, status: 'active' },
            { id: 57, agentId: '#57', name: 'Execution Analytics', phase: 'phase2', icon: 'üìä', function: 'TCA analysis', lines: 5100, status: 'active' },
            { id: 58, agentId: '#58', name: 'Arbitrage Agent', phase: 'phase2', icon: 'üîÑ', function: 'Cross-venue arb', lines: 5300, status: 'active' }
        ];
        
        // Phase 2.5: Risk (5)
        const phase25 = [
            { id: 59, agentId: 'R1', name: 'Front Running Detection', phase: 'phase2.5', icon: 'üèÉ', function: 'MEV protection', lines: 6000, status: 'active' },
            { id: 60, agentId: 'R2', name: 'Back Running Detection', phase: 'phase2.5', icon: 'üëÄ', function: 'Copy trading detect', lines: 6000, status: 'active' },
            { id: 61, agentId: 'R3', name: 'Counterparty Risk V2', phase: 'phase2.5', icon: 'üè¶', function: 'Health monitoring', lines: 6740, status: 'active' },
            { id: 62, agentId: 'R4', name: 'Liquidity Risk V2', phase: 'phase2.5', icon: 'üíß', function: 'Stress testing', lines: 5334, status: 'active' },
            { id: 63, agentId: 'R5', name: 'Insider Detection', phase: 'phase2.5', icon: 'üïµÔ∏è', function: 'Manipulation detect', lines: 6000, status: 'active' }
        ];
        
        // Phase 3: Monitoring (10)
        const phase3 = [
            { id: 64, agentId: 'M1', name: 'Agent Health Monitor', phase: 'phase3', icon: 'üè•', function: 'Health monitoring', lines: 9500, status: 'active' },
            { id: 65, agentId: 'M2', name: 'Vulnerability Scanner', phase: 'phase3', icon: 'üîí', function: 'Security scanning', lines: 10200, status: 'active' },
            { id: 66, agentId: 'M3', name: 'Performance Analyzer', phase: 'phase3', icon: 'üìà', function: 'Profiling', lines: 9800, status: 'active' },
            { id: 67, agentId: 'M4', name: 'Upgrade Recommender', phase: 'phase3', icon: '‚¨ÜÔ∏è', function: 'Version tracking', lines: 9400, status: 'active' },
            { id: 68, agentId: 'M5', name: 'Orchestration Monitor', phase: 'phase3', icon: 'üé≠', function: 'Communication', lines: 10000, status: 'active' },
            { id: 69, agentId: 'M6', name: 'Alpha Attribution', phase: 'phase3', icon: 'üí∞', function: 'ROI analysis', lines: 10100, status: 'active' },
            { id: 70, agentId: 'M7', name: 'Anomaly Detector', phase: 'phase3', icon: 'üéØ', function: 'ML detection', lines: 5500, status: 'active' },
            { id: 71, agentId: 'M8', name: 'Capacity Planner', phase: 'phase3', icon: 'üìä', function: 'Resource planning', lines: 4200, status: 'active' },
            { id: 72, agentId: 'M9', name: 'Config Manager', phase: 'phase3', icon: '‚öôÔ∏è', function: 'Configuration', lines: 3800, status: 'active' },
            { id: 73, agentId: 'M10', name: 'Audit Logger', phase: 'phase3', icon: 'üìù', function: 'Audit trails', lines: 4500, status: 'active' }
        ];
        
        // Phase 4: DeFi (6) - Development
        const phase4Defi = [
            { id: 74, agentId: 'D1', name: 'Yield Optimizer', phase: 'phase4-defi', icon: 'üåæ', function: 'Yield farming', lines: 6000, status: 'development' },
            { id: 75, agentId: 'D2', name: 'LP Position Manager', phase: 'phase4-defi', icon: 'üíß', function: 'AMM positions', lines: 6000, status: 'development' },
            { id: 76, agentId: 'D3', name: 'Lending Protocol', phase: 'phase4-defi', icon: 'üè¶', function: 'Aave/Compound', lines: 6000, status: 'development' },
            { id: 77, agentId: 'D4', name: 'Staking Optimizer', phase: 'phase4-defi', icon: 'ü•©', function: 'Validator select', lines: 6000, status: 'development' },
            { id: 78, agentId: 'D5', name: 'Bridge Monitor', phase: 'phase4-defi', icon: 'üåâ', function: 'Cross-chain', lines: 6000, status: 'development' },
            { id: 79, agentId: 'D6', name: 'Governance Agent', phase: 'phase4-defi', icon: 'üó≥Ô∏è', function: 'DAO voting', lines: 6000, status: 'development' }
        ];
        
        // Phase 4: Analytics (6) - Development
        const phase4Analytics = [
            { id: 80, agentId: 'A1', name: 'Market Regime', phase: 'phase4-analytics', icon: 'üîÑ', function: 'Regime detection', lines: 6000, status: 'development' },
            { id: 81, agentId: 'A2', name: 'Correlation Analyzer', phase: 'phase4-analytics', icon: 'üîó', function: 'Correlations', lines: 6000, status: 'development' },
            { id: 82, agentId: 'A3', name: 'Factor Model', phase: 'phase4-analytics', icon: 'üìê', function: 'Factor models', lines: 6000, status: 'development' },
            { id: 83, agentId: 'A4', name: 'Macro Intelligence', phase: 'phase4-analytics', icon: 'üåç', function: 'Fed analysis', lines: 6000, status: 'development' },
            { id: 84, agentId: 'A5', name: 'Options Analytics', phase: 'phase4-analytics', icon: 'üìä', function: 'Greeks/vol', lines: 6000, status: 'development' },
            { id: 85, agentId: 'A6', name: 'Predictive ML', phase: 'phase4-analytics', icon: 'ü§ñ', function: 'Price prediction', lines: 6000, status: 'development' }
        ];
        
        // Phase 5: Operations (5) - Development
        const phase5Ops = [
            { id: 86, agentId: 'I1', name: 'API Gateway', phase: 'phase5-ops', icon: 'üîå', function: 'API management', lines: 6000, status: 'development' },
            { id: 87, agentId: 'I2', name: 'Data Lake Manager', phase: 'phase5-ops', icon: 'üóÑÔ∏è', function: 'Data management', lines: 6000, status: 'development' },
            { id: 88, agentId: 'I3', name: 'Disaster Recovery', phase: 'phase5-ops', icon: 'üî•', function: 'Failover', lines: 6000, status: 'development' },
            { id: 89, agentId: 'I4', name: 'Secret Manager', phase: 'phase5-ops', icon: 'üîê', function: 'Key rotation', lines: 6000, status: 'development' },
            { id: 90, agentId: 'I5', name: 'Deployment Manager', phase: 'phase5-ops', icon: 'üöÄ', function: 'Blue-green deploy', lines: 6000, status: 'development' }
        ];
        
        // Phase 5: Compliance (6) - Development
        const phase5Compliance = [
            { id: 91, agentId: 'C1', name: 'Investor Reporting', phase: 'phase5-compliance', icon: 'üìÑ', function: 'NAV calculation', lines: 6000, status: 'development' },
            { id: 92, agentId: 'C2', name: 'Tax Lot Tracker', phase: 'phase5-compliance', icon: 'üíµ', function: 'Tax optimization', lines: 6000, status: 'development' },
            { id: 93, agentId: 'C3', name: 'Regulatory Reporter', phase: 'phase5-compliance', icon: 'üìã', function: 'Form PF/13F', lines: 6000, status: 'development' },
            { id: 94, agentId: 'C4', name: 'Risk Report Gen', phase: 'phase5-compliance', icon: 'üìä', function: 'Risk reports', lines: 6000, status: 'development' },
            { id: 95, agentId: 'C5', name: 'Performance Attribution', phase: 'phase5-compliance', icon: 'üìà', function: 'Brinson', lines: 6000, status: 'development' },
            { id: 96, agentId: 'C6', name: 'Compliance Monitor', phase: 'phase5-compliance', icon: '‚úÖ', function: 'Real-time checks', lines: 6000, status: 'development' }
        ];
        
        // Combine all agents
        allAgents.push(...phase0, ...phase2, ...phase25, ...phase3, ...phase4Defi, ...phase4Analytics, ...phase5Ops, ...phase5Compliance);
        
        // Add health scores
        allAgents.forEach(agent => {
            if (agent.status === 'active') {
                agent.healthScore = 70 + Math.floor(Math.random() * 30);
                agent.version = `1.${Math.floor(Math.random() * 5)}.${Math.floor(Math.random() * 10)}`;
                agent.latestVersion = '1.4.0';
                agent.latency = 5 + Math.floor(Math.random() * 15);
            } else {
                agent.healthScore = 0;
                agent.version = '-';
                agent.latestVersion = '1.0.0';
            }
        });
        
        const phases = [
            { id: 'phase0', name: 'Core Intelligence', count: 7 },
            { id: 'phase1', name: 'Data Intelligence', count: 44 },
            { id: 'phase2', name: 'Execution Suite', count: 7 },
            { id: 'phase2.5', name: 'Risk Enhancement', count: 5 },
            { id: 'phase3', name: 'Monitoring Suite', count: 10 },
            { id: 'phase4-defi', name: 'DeFi Protocols', count: 6 },
            { id: 'phase4-analytics', name: 'Advanced Analytics', count: 6 },
            { id: 'phase5-ops', name: 'Operations', count: 5 },
            { id: 'phase5-compliance', name: 'Compliance', count: 6 }
        ];
        
        let trades = [];
        
        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        
        function formatCurrency(value) {
            if (value >= 1e9) return '$' + (value / 1e9).toFixed(2) + 'B';
            if (value >= 1e6) return '$' + (value / 1e6).toFixed(2) + 'M';
            if (value >= 1e3) return '$' + (value / 1e3).toFixed(2) + 'K';
            return '$' + value.toFixed(2);
        }
        
        function formatPercent(value) { return (value >= 0 ? '+' : '') + value.toFixed(2) + '%'; }
        
        function getGrade(score) {
            if (score >= 90) return { grade: 'A', class: 'grade-a' };
            if (score >= 80) return { grade: 'B', class: 'grade-b' };
            if (score >= 70) return { grade: 'C', class: 'grade-c' };
            if (score >= 60) return { grade: 'D', class: 'grade-d' };
            if (score > 0) return { grade: 'F', class: 'grade-f' };
            return { grade: 'DEV', class: 'grade-dev' };
        }
        
        function getHealthColor(score) {
            if (score >= 90) return '#22C55E';
            if (score >= 80) return '#4ADE80';
            if (score >= 70) return '#FACC15';
            if (score >= 60) return '#FB923C';
            return '#EF4444';
        }
        
        function generateTrades() {
            const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD'];
            const result = [];
            for (let i = 0; i < 15; i++) {
                result.push({
                    symbol: symbols[Math.floor(Math.random() * symbols.length)],
                    side: Math.random() > 0.4 ? 'BUY' : 'SELL',
                    value: Math.random() * 5000000 + 100000,
                    pnl: (Math.random() - 0.3) * 5,
                    time: new Date(Date.now() - i * 60000 * Math.random() * 10).toLocaleTimeString()
                });
            }
            return result;
        }
        
        // ============================================
        // RENDER FUNCTIONS
        // ============================================
        
        function renderAgentCard(agent) {
            const gradeInfo = getGrade(agent.healthScore);
            const isDev = agent.status === 'development';
            return `
                <div class="agent-card ${isDev ? 'development' : ''}" onclick="openAgentModal(${agent.id})">
                    <div class="agent-header">
                        <span class="agent-icon">${agent.icon}</span>
                        <div class="agent-info"><div class="agent-name">${agent.name}</div><div class="agent-id">${agent.agentId}</div></div>
                        <div class="agent-status-dot ${isDev ? 'development' : agent.healthScore < 80 ? 'warning' : ''}"></div>
                    </div>
                    <div class="agent-metrics">
                        <div class="health-bar"><div class="health-fill" style="width: ${isDev ? 0 : agent.healthScore}%; background-color: ${getHealthColor(agent.healthScore)};"></div></div>
                        <div class="agent-metric-row"><span class="metric-label">Health</span><span class="grade-badge ${gradeInfo.class}">${gradeInfo.grade}</span></div>
                        <div class="agent-metric-row"><span class="metric-label">Version</span><span class="version-badge ${isDev ? '' : 'current'}">${isDev ? 'In Dev' : agent.version}</span></div>
                    </div>
                </div>
            `;
        }
        
        function renderDashboardAgents() {
            const container = document.getElementById('dashboard-agents-grid');
            if (container) container.innerHTML = allAgents.filter(a => a.status === 'active').slice(0, 8).map(renderAgentCard).join('');
        }
        
        function renderPhaseTabs() {
            const container = document.getElementById('phase-tabs');
            if (container) container.innerHTML = phases.map((p, i) => `<button class="phase-tab ${i === 0 ? 'active' : ''}" data-phase="${p.id}" onclick="switchPhase('${p.id}')">${p.name}<span class="count">${p.count}</span></button>`).join('');
        }
        
        function renderPhaseAgents(phaseId) {
            const container = document.getElementById('agents-phase-content');
            const phaseAgents = allAgents.filter(a => a.phase === phaseId);
            if (container) container.innerHTML = `<div class="card"><h3 class="card-title">${phases.find(p => p.id === phaseId)?.name || phaseId} (${phaseAgents.length})</h3><div class="agents-grid">${phaseAgents.map(renderAgentCard).join('')}</div></div>`;
        }
        
        function switchPhase(phaseId) {
            document.querySelectorAll('.phase-tab').forEach(t => t.classList.toggle('active', t.dataset.phase === phaseId));
            renderPhaseAgents(phaseId);
        }
        
        function renderHealthScoreSummary() {
            const active = allAgents.filter(a => a.status === 'active');
            const grades = { A: 0, B: 0, C: 0, D: 0, F: 0 };
            active.forEach(a => { const g = getGrade(a.healthScore).grade; if (grades[g] !== undefined) grades[g]++; });
            const dev = allAgents.filter(a => a.status === 'development').length;
            const container = document.getElementById('health-score-summary');
            if (container) container.innerHTML = `
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--green-400);">${grades.A}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade A</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--green-400);">${grades.B}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade B</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--yellow-400);">${grades.C}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade C</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--orange-400);">${grades.D}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade D</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--red-400);">${grades.F}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade F</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--gray-400);">${dev}</div><div style="font-size:0.8rem;color:var(--gray-400);">In Dev</div></div>
            `;
        }
        
        function renderUpgradeRecommendations() {
            const needs = allAgents.filter(a => a.status === 'active' && a.version !== a.latestVersion).slice(0, 5);
            const container = document.getElementById('upgrade-recommendations');
            if (!container) return;
            if (needs.length === 0) { container.innerHTML = '<div style="text-align:center;padding:2rem;color:var(--gray-400);">‚úÖ All agents up to date</div>'; return; }
            container.innerHTML = `<table class="data-table"><thead><tr><th>Agent</th><th>Current</th><th>Latest</th><th>Action</th></tr></thead><tbody>${needs.map(a => `<tr><td>${a.icon} ${a.name}</td><td><span class="version-badge outdated">${a.version}</span></td><td><span class="version-badge current">${a.latestVersion}</span></td><td><button class="control-btn" style="padding:0.3rem 0.6rem;font-size:0.75rem;" onclick="upgradeAgent(${a.id})">‚¨ÜÔ∏è Upgrade</button></td></tr>`).join('')}</tbody></table>`;
        }
        
        function renderAgentRiskAlerts() {
            const container = document.getElementById('agent-risk-alerts');
            if (container) container.innerHTML = `
                <div class="alert-card warning"><span class="alert-icon">‚ö†Ô∏è</span><div class="alert-content"><div class="alert-title">Elevated latency detected</div><div class="alert-description">Smart Order Router +15ms delay</div></div><div class="alert-time">3 min ago</div></div>
                <div class="alert-card normal"><span class="alert-icon">üîÑ</span><div class="alert-content"><div class="alert-title">Auto-scaling triggered</div><div class="alert-description">Data cluster scaled to 8 nodes</div></div><div class="alert-time">15 min ago</div></div>
                <div class="alert-card normal"><span class="alert-icon">‚úÖ</span><div class="alert-content"><div class="alert-title">Health check passed</div><div class="alert-description">All 73 agents reporting nominal</div></div><div class="alert-time">1 hour ago</div></div>
            `;
        }
        
        function renderAssets() {
            const tbody = document.getElementById('assets-tbody');
            if (tbody) tbody.innerHTML = assets.map(a => `<tr><td><strong>${a.symbol}</strong> <span style="color:var(--gray-400);font-size:0.8rem;">${a.name}</span></td><td>${a.price >= 100 ? '$' + a.price.toLocaleString() : '$' + a.price.toFixed(2)}</td><td style="color:${a.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(a.change)}</td><td><span class="class-badge" style="background:var(--navy-600);">${a.class}</span></td><td>${a.allocation}%</td><td>${formatCurrency(a.value)}</td></tr>`).join('');
        }
        
        function renderTrades() {
            const container = document.getElementById('trade-list');
            const tradingList = document.getElementById('trading-trade-list');
            const html = trades.map(t => `<div class="trade-item"><span class="trade-symbol">${t.symbol}</span><span class="trade-side ${t.side.toLowerCase()}">${t.side}</span><span class="trade-value">${formatCurrency(t.value)}</span><span class="trade-pnl" style="color:${t.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(t.pnl)}</span><span class="trade-time">${t.time}</span></div>`).join('');
            if (container) container.innerHTML = html;
            if (tradingList) tradingList.innerHTML = html;
        }
        
        function renderAllocationLegend() {
            const container = document.getElementById('allocation-legend');
            if (container) container.innerHTML = allocationData.map(a => `<div class="legend-item"><div class="legend-color" style="background:${a.color};"></div><span class="legend-label">${a.name}</span><span class="legend-value">${a.value}%</span></div>`).join('');
        }
        
        function renderVenues() {
            const crypto = document.getElementById('crypto-venues-grid');
            const tradfi = document.getElementById('tradfi-venues-grid');
            const renderVenue = v => `<div class="stat-card"><div class="stat-header"><span class="stat-label">${v.name}</span><span class="stat-icon">${v.icon}</span></div><div class="stat-value small">${formatCurrency(v.volume * 1e9)}</div><div class="stat-change neutral">${v.trades.toLocaleString()} trades</div></div>`;
            if (crypto) crypto.innerHTML = cryptoVenues.map(renderVenue).join('');
            if (tradfi) tradfi.innerHTML = tradfiVenues.map(renderVenue).join('');
        }
        
        function renderRiskLimits() {
            const container = document.getElementById('risk-limits');
            if (container) container.innerHTML = riskLimits.map(l => {
                const pct = (l.current / l.limit) * 100;
                const color = pct > 90 ? '#EF4444' : pct > 70 ? '#F59E0B' : '#22C55E';
                return `<div style="background:var(--navy-700);padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;"><div style="display:flex;justify-content:space-between;margin-bottom:0.25rem;"><span style="color:var(--gray-400);">${l.name}</span><span>${l.current} / ${l.limit}</span></div><div style="height:6px;background:var(--navy-600);border-radius:3px;"><div style="height:100%;background:${color};border-radius:3px;width:${Math.min(pct, 100)}%;"></div></div></div>`;
            }).join('');
        }
        
        function renderExposureAnalysis() {
            const container = document.getElementById('exposure-analysis');
            if (container) container.innerHTML = allocationData.map(a => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>${a.name}</span><span style="font-weight:600;">${a.value}%</span></div>`).join('');
        }
        
        function renderRiskAlerts() {
            const container = document.getElementById('risk-alerts');
            if (container) container.innerHTML = `
                <div class="alert-card warning"><span class="alert-icon">‚ö†Ô∏è</span><div class="alert-content"><div class="alert-title">SOL position approaching limit</div><div class="alert-description">32.5% allocation (limit: 35%)</div></div><div class="alert-time">2 min ago</div></div>
                <div class="alert-card normal"><span class="alert-icon">‚úÖ</span><div class="alert-content"><div class="alert-title">VaR within normal range</div><div class="alert-description">0.9% (limit: 2.0%)</div></div><div class="alert-time">5 min ago</div></div>
            `;
        }
        
        function renderBenchmarks() {
            const tbody = document.getElementById('benchmark-comparison');
            if (tbody) tbody.innerHTML = benchmarks.map(b => `<tr class="${b.highlight ? 'highlight-row' : ''}"><td>${b.name}</td><td style="color:${b.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y1)}</td><td style="color:${b.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y3)}</td><td style="color:${b.y5 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y5)}</td><td>${b.sharpe.toFixed(2)}</td><td style="color:var(--red-400);">${b.maxDD}%</td></tr>`).join('');
        }
        
        function renderInvestorComparison() {
            const tbody = document.getElementById('investor-comparison-table');
            if (tbody) tbody.innerHTML = investorComparisons.map(c => `<tr class="${c.highlight ? 'highlight-row' : ''}"><td>${c.name}</td><td style="color:${c.ytd >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.ytd)}</td><td style="color:${c.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y1)}</td><td style="color:${c.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y3)}</td><td>${c.vol.toFixed(1)}%</td><td>${c.sharpe.toFixed(2)}</td><td style="color:var(--red-400);">${c.maxDD}%</td></tr>`).join('');
        }
        
        function renderPositionsTable() {
            const tbody = document.getElementById('positions-table-body');
            if (tbody) tbody.innerHTML = assets.map(a => `<tr><td><strong>${a.symbol}</strong></td><td><span class="class-badge" style="background:var(--navy-600);">${a.class}</span></td><td>${a.price >= 100 ? '$' + a.price.toLocaleString() : '$' + a.price.toFixed(2)}</td><td>${(a.value / a.price).toLocaleString()}</td><td>${formatCurrency(a.value)}</td><td>${a.allocation}%</td><td style="color:${a.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatCurrency(a.pnl)}</td><td style="color:${a.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(a.change)}</td></tr>`).join('');
        }
        
        function renderAssetClassBreakdown() {
            const container = document.getElementById('asset-class-breakdown');
            if (container) container.innerHTML = allocationData.map(a => `<div style="display:flex;align-items:center;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><div style="display:flex;align-items:center;gap:0.5rem;"><div style="width:12px;height:12px;border-radius:3px;background:${a.color};"></div><span>${a.name}</span></div><span style="font-weight:600;">${a.value}%</span></div>`).join('');
        }
        
        function renderRebalancing() {
            const container = document.getElementById('rebalancing-recommendations');
            if (container) container.innerHTML = `
                <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>SOL</span><span style="color:var(--red-400);">-2.5%</span></div>
                <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>TLT</span><span style="color:var(--green-400);">+1.5%</span></div>
                <div style="display:flex;justify-content:space-between;padding:0.5rem 0;"><span>GLD</span><span style="color:var(--green-400);">+1.0%</span></div>
                <button class="control-btn" style="margin-top:1rem;width:100%;">Execute Rebalance</button>
            `;
        }
        
        function renderQuarterlyReports() {
            const container = document.getElementById('quarterly-reports');
            if (container) container.innerHTML = ['Q3 2025', 'Q2 2025', 'Q1 2025', 'Q4 2024'].map(q => `<div style="display:flex;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><span>${q} Report</span><button class="control-btn secondary" style="padding:0.25rem 0.5rem;font-size:0.75rem;">üì• Download</button></div>`).join('');
        }
        
        function renderAutomatedReports() {
            const container = document.getElementById('automated-reports-list');
            if (container) container.innerHTML = [
                { time: '08:00 UTC', date: 'Today', sentiment: 'Bullish' },
                { time: '14:00 UTC', date: 'Today', sentiment: 'Bullish' },
                { time: '20:00 UTC', date: 'Yesterday', sentiment: 'Neutral' }
            ].map(r => `<div style="display:flex;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><div><strong>Market Analysis</strong><span style="color:var(--gray-400);margin-left:0.5rem;">${r.time} ‚Ä¢ ${r.date}</span></div><span style="color:var(--green-400);">Sentiment: ${r.sentiment}</span></div>`).join('');
        }
        
        function renderMonitoringAgents() {
            const container = document.getElementById('monitoring-agents-grid');
            if (container) container.innerHTML = phase3.map(renderAgentCard).join('');
        }
        
        function renderDevelopmentAgents() {
            const defi = document.getElementById('defi-agents-grid');
            const analytics = document.getElementById('analytics-agents-grid');
            const ops = document.getElementById('operations-agents-grid');
            const compliance = document.getElementById('compliance-agents-grid');
            if (defi) defi.innerHTML = phase4Defi.map(renderAgentCard).join('');
            if (analytics) analytics.innerHTML = phase4Analytics.map(renderAgentCard).join('');
            if (ops) ops.innerHTML = phase5Ops.map(renderAgentCard).join('');
            if (compliance) compliance.innerHTML = phase5Compliance.map(renderAgentCard).join('');
        }
        
        function renderThreatFeed() {
            const container = document.getElementById('threat-feed');
            if (container) container.innerHTML = [
                { time: '2 min', type: 'Blocked', desc: 'Suspicious IP blocked', icon: 'üö´', severity: 'low' },
                { time: '8 min', type: 'Detected', desc: 'Unusual API pattern', icon: '‚ö†Ô∏è', severity: 'medium' },
                { time: '15 min', type: 'Blocked', desc: 'Failed SSH attempt', icon: 'üö´', severity: 'low' }
            ].map(t => `<div class="alert-card ${t.severity === 'medium' ? 'warning' : 'normal'}"><span class="alert-icon">${t.icon}</span><div class="alert-content"><div class="alert-title">${t.type}</div><div class="alert-description">${t.desc}</div></div><div class="alert-time">${t.time} ago</div></div>`).join('');
        }
        
        function renderAnomalyDetection() {
            const container = document.getElementById('anomaly-detection');
            if (container) container.innerHTML = [
                { metric: 'Trade Volume', status: 'normal', dev: '+12%' },
                { metric: 'API Latency', status: 'normal', dev: '+3ms' },
                { metric: 'Withdrawal Requests', status: 'alert', dev: '+45%' }
            ].map(a => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>${a.metric}</span><span style="color:${a.status === 'alert' ? 'var(--yellow-400)' : 'var(--green-400)'};">${a.dev}</span></div>`).join('');
        }
        
        function renderAccessLog() {
            const container = document.getElementById('access-log');
            if (container) container.innerHTML = [
                { time: '2 min', user: 'Maxwell Chen', action: 'Login', ip: '192.168.1.1' },
                { time: '5 min', user: 'Emily Chang', action: 'Trade executed', ip: '192.168.1.2' },
                { time: '12 min', user: 'Kevin Patel', action: 'Settings change', ip: '192.168.1.3' }
            ].map(l => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><div><strong>${l.user}</strong><span style="color:var(--gray-400);margin-left:0.5rem;">${l.action}</span></div><span style="color:var(--gray-500);font-size:0.8rem;">${l.time} ago</span></div>`).join('');
        }
        
        function renderUsersTable() {
            const tbody = document.getElementById('users-table-body');
            const users = [
                { name: 'Maxwell Chen', email: 'maxwell@maxam.com', role: 'Owner', status: 'Active', twoFactor: true },
                { name: 'Sarah Williams', email: 'sarah@maxam.com', role: 'PM', status: 'Active', twoFactor: true },
                { name: 'David Rodriguez', email: 'david@maxam.com', role: 'Trader', status: 'Active', twoFactor: true }
            ];
            if (tbody) tbody.innerHTML = users.map(u => `<tr><td><strong>${u.name}</strong></td><td style="font-family:monospace;">${u.email}</td><td>${u.role}</td><td style="color:var(--green-400);">${u.status}</td><td>${u.twoFactor ? '‚úì' : '‚úó'}</td><td><button class="control-btn secondary" style="padding:0.25rem 0.5rem;font-size:0.75rem;">Edit</button></td></tr>`).join('');
        }
        
        function renderSystemHealth() {
            const container = document.getElementById('system-health');
            if (container) container.innerHTML = [
                { name: 'API Server', status: 'healthy', uptime: '99.99%' },
                { name: 'Database', status: 'healthy', uptime: '99.99%' },
                { name: 'Trading Engine', status: 'healthy', uptime: '99.99%' },
                { name: 'Risk Engine', status: 'healthy', uptime: '99.99%' }
            ].map(s => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>${s.name}</span><span style="color:var(--green-400);">‚úì ${s.uptime}</span></div>`).join('');
        }
        
        function renderAuditSchedule() {
            const container = document.getElementById('audit-schedule');
            if (container) container.innerHTML = [
                { name: 'Daily Audit', time: '06:00 UTC', status: 'Active' },
                { name: 'Monthly Audit', time: '1st of month', status: 'Active' },
                { name: 'Quarterly Audit', time: 'Jan/Apr/Jul/Oct 1st', status: 'Active' }
            ].map(a => `<div style="background:var(--navy-700);padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;"><div style="display:flex;justify-content:space-between;"><span style="font-weight:600;">${a.name}</span><span style="color:var(--green-400);">${a.status}</span></div><div style="font-size:0.85rem;color:var(--gray-400);margin-top:0.25rem;">${a.time}</div></div>`).join('');
        }
        
        function renderAuditReports() {
            const container = document.getElementById('audit-reports-list');
            if (container) container.innerHTML = [
                { type: 'Daily', date: 'Dec 4, 2025', status: 'Passed' },
                { type: 'Daily', date: 'Dec 3, 2025', status: 'Passed' },
                { type: 'Monthly', date: 'Dec 1, 2025', status: 'Passed' }
            ].map(a => `<div style="display:flex;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><div><strong>${a.type}</strong><span style="color:var(--gray-400);margin-left:0.5rem;">${a.date}</span></div><span style="color:var(--green-400);">‚úì ${a.status}</span></div>`).join('');
        }
        
        // ============================================
        // CHARTS
        // ============================================
        
        let performanceChart, allocationChart, portfolioAllocationChart, projectionsChart, roiComparisonChart, investorComparisonChart, monitoringTrendChart, alphaChart;
        
        function initCharts() {
            // Performance Chart
            const perfCtx = document.getElementById('performanceChart')?.getContext('2d');
            if (perfCtx) {
                performanceChart = new Chart(perfCtx, {
                    type: 'line',
                    data: { labels: Array.from({length: 30}, (_, i) => `Day ${i+1}`), datasets: [{ label: 'Portfolio Value ($B)', data: Array.from({length: 30}, () => 8.5 + Math.random() * 1), borderColor: '#1E40AF', backgroundColor: 'rgba(30, 64, 175, 0.1)', fill: true, tension: 0.4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', maxTicksLimit: 6 } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => '$' + v.toFixed(1) + 'B' } } } }
                });
            }
            
            // Allocation Chart
            const allocCtx = document.getElementById('allocationChart')?.getContext('2d');
            if (allocCtx) {
                allocationChart = new Chart(allocCtx, {
                    type: 'doughnut',
                    data: { labels: allocationData.map(d => d.name), datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '65%' }
                });
            }
            
            // Portfolio Allocation Chart
            const portCtx = document.getElementById('portfolioAllocationChart')?.getContext('2d');
            if (portCtx) {
                portfolioAllocationChart = new Chart(portCtx, {
                    type: 'doughnut',
                    data: { labels: allocationData.map(d => d.name), datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '60%' }
                });
            }
            
            // Projections Chart
            const projCtx = document.getElementById('projectionsChart')?.getContext('2d');
            if (projCtx) {
                const tenYearData = [82.15, 12.38, 14.82, 84.23, 118.45, 6.92, 17.65, 79.82, 105.38, 9.87];
                projectionsChart = new Chart(projCtx, {
                    type: 'bar',
                    data: { labels: ['2026', '2027', '2028', '2029', '2030', '2031', '2032', '2033', '2034', '2035'], datasets: [{ label: 'Annual Return (%)', data: tenYearData, backgroundColor: '#1E40AF', borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } } } }
                });
            }
            
            // ROI Comparison Chart
            const roiCtx = document.getElementById('roiComparisonChart')?.getContext('2d');
            if (roiCtx) {
                const roiData = [{ name: 'Maxam Capital', roi: 62.8, color: '#1E40AF' }, { name: 'BTC', roi: 28.5, color: '#F7931A' }, { name: 'ETH', roi: 24.2, color: '#627EEA' }, { name: 'SOL', roi: 45.8, color: '#9945FF' }, { name: 'S&P 500', roi: 12.4, color: '#22C55E' }, { name: 'Gold', roi: 6.8, color: '#EAB308' }];
                roiComparisonChart = new Chart(roiCtx, {
                    type: 'bar',
                    data: { labels: roiData.map(d => d.name), datasets: [{ label: 'Avg Annual ROI (%)', data: roiData.map(d => d.roi), backgroundColor: roiData.map(d => d.color), borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } }, y: { grid: { display: false }, ticks: { color: '#9CA3AF' } } } }
                });
            }
            
            // Investor Comparison Chart
            const invCtx = document.getElementById('investorComparisonChart')?.getContext('2d');
            if (invCtx) {
                investorComparisonChart = new Chart(invCtx, {
                    type: 'bar',
                    data: { labels: investorComparisons.map(d => d.name), datasets: [{ label: 'YTD Return', data: investorComparisons.map(d => d.ytd), backgroundColor: '#1E40AF', borderRadius: 4 }, { label: '1Y Return', data: investorComparisons.map(d => d.y1), backgroundColor: '#D97706', borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', labels: { color: '#9CA3AF' } } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } } } }
                });
            }
            
            // Monitoring Trend Chart
            const trendCtx = document.getElementById('monitoringTrendChart')?.getContext('2d');
            if (trendCtx) {
                monitoringTrendChart = new Chart(trendCtx, {
                    type: 'line',
                    data: { labels: ['6h', '5h', '4h', '3h', '2h', '1h', 'Now'], datasets: [{ label: 'Health Score', data: [91, 92, 90, 93, 94, 93, 94], borderColor: '#22C55E', backgroundColor: 'rgba(34,197,94,0.1)', fill: true, tension: 0.4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#9CA3AF' } } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } } } }
                });
            }
            
            // Alpha Chart
            const alphaCtx = document.getElementById('alphaChart')?.getContext('2d');
            if (alphaCtx) {
                alphaChart = new Chart(alphaCtx, {
                    type: 'bar',
                    data: { labels: ['Technical', 'Sentiment', 'Portfolio', 'Arbitrage', 'Master'], datasets: [{ label: 'Alpha (%)', data: [28.4, 22.1, 15.8, 12.3, 9.7], backgroundColor: ['#8B5CF6', '#06B6D4', '#F59E0B', '#14B8A6', '#7C3AED'], borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } }, y: { grid: { display: false }, ticks: { color: '#9CA3AF' } } } }
                });
            }
        }
        
        // ============================================
        // NAVIGATION & MODALS
        // ============================================
        
        function switchPage(pageName) {
            document.querySelectorAll('.nav-link').forEach(l => l.classList.toggle('active', l.dataset.page === pageName));
            document.querySelectorAll('.page').forEach(p => p.classList.toggle('active', p.id === 'page-' + pageName));
            const titles = { 'dashboard': 'Dashboard', 'agents': 'AI Agents (96)', 'trading': 'Trading', 'risk': 'Risk Management', 'analytics': 'Analytics', 'portfolio': 'Portfolio Management', 'investor': 'Investor Portal', 'research': 'Research', 'agent-monitoring': 'Agent Monitoring', 'defi-protocols': 'DeFi Protocols', 'advanced-analytics': 'Advanced Analytics', 'operations': 'Operations', 'compliance-agents': 'Compliance Agents', 'auditing': 'Auditing', 'security': 'Security', 'admin': 'Admin Panel' };
            document.getElementById('page-title').textContent = titles[pageName] || pageName;
            closeMobileMenu();
        }
        
        function toggleMobileMenu() { document.getElementById('sidebar').classList.toggle('open'); document.getElementById('sidebar-overlay').classList.toggle('active'); }
        function closeMobileMenu() { document.getElementById('sidebar').classList.remove('open'); document.getElementById('sidebar-overlay').classList.remove('active'); }
        
        function openAgentModal(agentId) {
            const agent = allAgents.find(a => a.id === agentId);
            if (!agent) return;
            const gradeInfo = getGrade(agent.healthScore);
            const isDev = agent.status === 'development';
            document.getElementById('modal-agent-title').innerHTML = `${agent.icon} ${agent.name}`;
            document.getElementById('modal-agent-content').innerHTML = `
                <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem;">
                    <div style="background:var(--navy-700);padding:1rem;border-radius:8px;text-align:center;"><div style="font-size:2rem;font-weight:700;">${isDev ? '-' : agent.healthScore + '%'}</div><div style="font-size:0.8rem;color:var(--gray-400);">Health</div></div>
                    <div style="background:var(--navy-700);padding:1rem;border-radius:8px;text-align:center;"><div style="font-size:2rem;font-weight:700;">${isDev ? '-' : agent.latency + 'ms'}</div><div style="font-size:0.8rem;color:var(--gray-400);">Latency</div></div>
                    <div style="background:var(--navy-700);padding:1rem;border-radius:8px;text-align:center;"><div style="font-size:2rem;font-weight:700;">~${agent.lines.toLocaleString()}</div><div style="font-size:0.8rem;color:var(--gray-400);">Lines</div></div>
                </div>
                <div style="background:var(--navy-700);padding:1rem;border-radius:8px;margin-bottom:1rem;">
                    <div><strong>ID:</strong> ${agent.agentId}</div>
                    <div><strong>Function:</strong> ${agent.function}</div>
                    <div><strong>Status:</strong> ${isDev ? '<span style="color:var(--yellow-400);">In Development</span>' : '<span style="color:var(--green-400);">Active</span>'}</div>
                    <div><strong>Version:</strong> ${agent.version} ${!isDev && agent.version !== agent.latestVersion ? '‚¨ÜÔ∏è Update available' : ''}</div>
                </div>
                <div style="display:flex;gap:1rem;justify-content:flex-end;"><button class="control-btn secondary" onclick="closeAgentModal()">Close</button>${!isDev ? '<button class="control-btn">View Metrics</button>' : ''}</div>
            `;
            document.getElementById('agent-modal').classList.add('active');
        }
        
        function closeAgentModal() { document.getElementById('agent-modal').classList.remove('active'); }
        function openBulkUpgradeModal() { document.getElementById('bulk-upgrade-content').innerHTML = '<p style="margin-bottom:1rem;">Select phase and upgrade type...</p><button class="control-btn success" onclick="closeBulkUpgradeModal()">Execute</button>'; document.getElementById('bulk-upgrade-modal').classList.add('active'); }
        function closeBulkUpgradeModal() { document.getElementById('bulk-upgrade-modal').classList.remove('active'); }
        
        function upgradeAgent(id) { const a = allAgents.find(x => x.id === id); if (a) { a.version = a.latestVersion; renderUpgradeRecommendations(); alert(`‚úÖ ${a.name} upgraded`); } }
        function refreshAllAgents() { allAgents.forEach(a => { if (a.status === 'active') a.healthScore = Math.max(60, Math.min(100, a.healthScore + (Math.random() - 0.3) * 3)); }); renderHealthScoreSummary(); }
        function refreshPositions() { alert('Positions refreshed'); }
        function generateAssetReport() { document.getElementById('asset-report-content').innerHTML = '<div style="padding:1rem;background:var(--navy-700);border-radius:8px;"><h4>SOL Analysis Report</h4><p style="color:var(--gray-400);margin-top:0.5rem;">Recommendation: <strong style="color:var(--green-400);">STRONG BUY</strong></p><p style="color:var(--gray-400);">Confidence: 87%</p></div>'; }
        function generateAudit() { alert('Audit generated successfully'); }
        
        // ============================================
        // REAL-TIME UPDATES
        // ============================================
        
        function updateDateTime() { document.getElementById('datetime').textContent = new Date().toLocaleString(); }
        
        function simulateUpdates() {
            if (Math.random() > 0.6) {
                const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD'];
                trades.unshift({ symbol: symbols[Math.floor(Math.random() * symbols.length)], side: Math.random() > 0.4 ? 'BUY' : 'SELL', value: Math.random() * 5000000 + 100000, pnl: (Math.random() - 0.3) * 5, time: new Date().toLocaleTimeString() });
                trades = trades.slice(0, 20);
                renderTrades();
            }
            const pnl = 42850000 + (Math.random() - 0.45) * 2000000;
            document.getElementById('stat-pnl').textContent = formatCurrency(pnl);
        }
        
        // ============================================
        // INITIALIZE
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            trades = generateTrades();
            
            // Render all components
            renderDashboardAgents();
            renderPhaseTabs();
            renderPhaseAgents('phase0');
            renderHealthScoreSummary();
            renderUpgradeRecommendations();
            renderAgentRiskAlerts();
            renderAssets();
            renderTrades();
            renderAllocationLegend();
            renderVenues();
            renderRiskLimits();
            renderExposureAnalysis();
            renderRiskAlerts();
            renderBenchmarks();
            renderInvestorComparison();
            renderPositionsTable();
            renderAssetClassBreakdown();
            renderRebalancing();
            renderQuarterlyReports();
            renderAutomatedReports();
            renderMonitoringAgents();
            renderDevelopmentAgents();
            renderThreatFeed();
            renderAnomalyDetection();
            renderAccessLog();
            renderUsersTable();
            renderSystemHealth();
            renderAuditSchedule();
            renderAuditReports();
            
            initCharts();
            updateDateTime();
            setInterval(updateDateTime, 1000);
            setInterval(simulateUpdates, 3000);
        });
    </script>
</body>
</html>
