<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ-167 V5.0 ULTRA | Maxam Capital Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --navy-900: #0F172A; --navy-800: #1E293B; --navy-700: #334155; --navy-600: #475569;
            --maxam-blue: #1E40AF; --maxam-gold: #D97706; --maxam-green: #059669;
            --green-400: #4ADE80; --green-500: #22C55E; --red-400: #F87171; --red-500: #EF4444;
            --yellow-400: #FACC15; --yellow-500: #EAB308; --purple-400: #C084FC; --purple-500: #A855F7;
            --cyan-400: #22D3EE; --gray-400: #9CA3AF; --gray-500: #6B7280; --orange-400: #FB923C;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--navy-900); color: white; min-height: 100vh; }
        .app-container { display: flex; min-height: 100vh; }
        
        /* Sidebar */
        .sidebar { width: 280px; background-color: var(--navy-800); border-right: 1px solid var(--navy-700); padding: 1rem; position: fixed; height: 100vh; display: flex; flex-direction: column; overflow-y: auto; z-index: 100; }
        .logo-container { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; margin-bottom: 1.5rem; }
        .logo-icon { width: 44px; height: 44px; background: linear-gradient(135deg, var(--maxam-blue), var(--maxam-gold)); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.25rem; }
        .logo-text { font-weight: 700; font-size: 0.9rem; }
        .logo-subtitle { font-size: 0.7rem; color: var(--maxam-gold); font-weight: 600; }
        .nav-list { list-style: none; flex: 1; }
        .nav-section { margin-bottom: 0.75rem; }
        .nav-section-title { font-size: 0.65rem; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.08em; padding: 0.5rem 1rem; margin-top: 0.5rem; font-weight: 600; }
        .nav-item { margin-bottom: 0.15rem; }
        .nav-link { display: flex; align-items: center; gap: 0.75rem; padding: 0.6rem 1rem; border-radius: 8px; color: var(--gray-400); cursor: pointer; transition: all 0.2s; border: none; background: none; width: 100%; font-size: 0.85rem; font-family: inherit; }
        .nav-link:hover { background-color: var(--navy-700); color: white; }
        .nav-link.active { background: linear-gradient(135deg, var(--maxam-blue), rgba(30, 64, 175, 0.7)); color: white; }
        .nav-icon { font-size: 1rem; width: 20px; text-align: center; }
        .nav-badge { margin-left: auto; padding: 0.15rem 0.5rem; background-color: var(--maxam-gold); color: var(--navy-900); border-radius: 10px; font-size: 0.65rem; font-weight: 700; }
        .nav-badge.dev { background-color: var(--navy-600); color: var(--gray-400); }
        .system-status { border-top: 1px solid var(--navy-700); padding-top: 1rem; margin-top: 1rem; }
        .status-indicator { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; }
        .status-dot { width: 8px; height: 8px; background-color: var(--green-400); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .status-text { font-size: 0.8rem; color: var(--gray-400); }
        .latency-text { font-size: 0.7rem; color: var(--gray-500); padding-left: 1rem; }
        
        /* Main Content */
        .main-content { flex: 1; margin-left: 280px; padding: 1.5rem; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .page-title { font-size: 1.5rem; font-weight: 700; }
        .page-subtitle { font-size: 0.85rem; color: var(--gray-400); }
        .header-right { display: flex; align-items: center; gap: 1rem; }
        .live-badge { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0.75rem; background-color: var(--navy-800); border-radius: 8px; border: 1px solid var(--navy-700); }
        .datetime { font-size: 0.85rem; color: var(--gray-400); font-family: 'JetBrains Mono', monospace; }
        
        /* Cards & Stats */
        .card { background-color: var(--navy-800); border: 1px solid var(--navy-700); border-radius: 12px; padding: 1.25rem; margin-bottom: 1.25rem; }
        .card-title { font-size: 0.95rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem; }
        .stat-card { background-color: var(--navy-800); border: 1px solid var(--navy-700); border-radius: 12px; padding: 1.25rem; }
        .stat-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem; }
        .stat-label { font-size: 0.8rem; color: var(--gray-400); }
        .stat-icon { font-size: 1.25rem; }
        .stat-value { font-size: 1.75rem; font-weight: 700; }
        .stat-value.small { font-size: 1.25rem; }
        .stat-change { font-size: 0.8rem; margin-top: 0.25rem; }
        .stat-change.positive { color: var(--green-400); }
        .stat-change.negative { color: var(--red-400); }
        .stat-change.neutral { color: var(--gray-400); }
        
        /* Grids */
        .two-col-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.25rem; }
        .three-col-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.25rem; }
        .agents-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; }
        .charts-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 1.25rem; margin-bottom: 1.5rem; }
        
        /* Agent Cards */
        .agent-card { background-color: var(--navy-700); border-radius: 10px; padding: 1rem; transition: all 0.2s; cursor: pointer; border: 1px solid transparent; }
        .agent-card:hover { transform: translateY(-2px); border-color: var(--maxam-blue); }
        .agent-card.development { opacity: 0.6; background: repeating-linear-gradient(45deg, var(--navy-700), var(--navy-700) 10px, rgba(51, 65, 85, 0.8) 10px, rgba(51, 65, 85, 0.8) 20px); }
        .agent-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem; }
        .agent-icon { font-size: 1.5rem; }
        .agent-info { flex: 1; }
        .agent-name { font-weight: 600; font-size: 0.9rem; }
        .agent-id { font-size: 0.7rem; color: var(--gray-500); font-family: 'JetBrains Mono', monospace; }
        .agent-status-dot { width: 10px; height: 10px; background-color: var(--green-400); border-radius: 50%; animation: pulse 2s infinite; }
        .agent-status-dot.warning { background-color: var(--yellow-400); }
        .agent-status-dot.development { background-color: var(--gray-500); animation: none; }
        .health-bar { height: 6px; background-color: var(--navy-600); border-radius: 3px; overflow: hidden; margin-bottom: 0.5rem; }
        .health-fill { height: 100%; border-radius: 3px; transition: width 0.5s ease; }
        .agent-metric-row { display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 0.25rem; }
        .metric-label { color: var(--gray-400); }
        .metric-value { font-weight: 600; font-family: 'JetBrains Mono', monospace; }
        
        /* Grades & Badges */
        .grade-badge { display: inline-block; padding: 0.15rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 700; }
        .grade-a { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .grade-b { background-color: rgba(74, 222, 128, 0.2); color: var(--green-400); }
        .grade-c { background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); }
        .grade-d { background-color: rgba(251, 146, 60, 0.2); color: var(--orange-400); }
        .grade-f { background-color: rgba(239, 68, 68, 0.2); color: var(--red-400); }
        .grade-dev { background-color: rgba(107, 114, 128, 0.2); color: var(--gray-400); }
        .version-badge { display: inline-flex; padding: 0.2rem 0.5rem; background-color: var(--navy-600); border-radius: 4px; font-size: 0.7rem; font-family: 'JetBrains Mono', monospace; }
        .version-badge.outdated { background-color: rgba(251, 146, 60, 0.2); color: var(--orange-400); }
        .version-badge.current { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .class-badge { padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 600; }
        
        /* Phase Tabs */
        .phase-tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
        .phase-tab { padding: 0.6rem 1rem; background-color: var(--navy-700); border: 1px solid var(--navy-600); border-radius: 8px; color: var(--gray-400); font-size: 0.8rem; cursor: pointer; transition: all 0.2s; font-family: inherit; }
        .phase-tab:hover { background-color: var(--navy-600); color: white; }
        .phase-tab.active { background: linear-gradient(135deg, var(--maxam-blue), rgba(30, 64, 175, 0.7)); border-color: var(--maxam-blue); color: white; }
        .phase-tab .count { margin-left: 0.5rem; padding: 0.1rem 0.4rem; background-color: rgba(255, 255, 255, 0.2); border-radius: 10px; font-size: 0.7rem; }
        
        /* Controls */
        .control-btn { padding: 0.6rem 1rem; background: linear-gradient(135deg, var(--maxam-blue), rgba(30, 64, 175, 0.8)); border: none; border-radius: 8px; color: white; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; font-family: inherit; font-weight: 500; }
        .control-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(30, 64, 175, 0.3); }
        .control-btn.secondary { background: var(--navy-700); border: 1px solid var(--navy-600); }
        .control-btn.secondary:hover { background: var(--navy-600); }
        .control-btn.success { background: linear-gradient(135deg, var(--green-500), rgba(5, 150, 105, 0.8)); }
        .control-select { padding: 0.6rem 1rem; background-color: var(--navy-700); border: 1px solid var(--navy-600); border-radius: 8px; color: white; font-size: 0.85rem; font-family: inherit; cursor: pointer; }
        .control-select:focus { outline: none; border-color: var(--maxam-blue); }
        .control-input { padding: 0.6rem 1rem; background-color: var(--navy-700); border: 1px solid var(--navy-600); border-radius: 8px; color: white; font-size: 0.85rem; font-family: inherit; }
        .control-input:focus { outline: none; border-color: var(--maxam-blue); }
        .control-group { margin-bottom: 1rem; }
        .control-label { display: block; font-size: 0.85rem; color: var(--gray-400); margin-bottom: 0.5rem; }
        
        /* Toggle Switch */
        .toggle-container { display: flex; align-items: center; gap: 0.75rem; }
        .toggle-switch { position: relative; display: inline-block; width: 48px; height: 26px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--navy-600); transition: 0.3s; border-radius: 26px; }
        .toggle-slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; transition: 0.3s; border-radius: 50%; }
        .toggle-switch input:checked + .toggle-slider { background-color: var(--green-400); }
        .toggle-switch input:checked + .toggle-slider:before { transform: translateX(22px); }
        .toggle-label { font-size: 0.85rem; color: var(--gray-400); }
        
        /* Tables */
        .data-table, .comparison-table { width: 100%; border-collapse: collapse; }
        .data-table th, .data-table td, .comparison-table th, .comparison-table td { padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--navy-700); font-size: 0.85rem; }
        .data-table th, .comparison-table th { color: var(--gray-400); font-weight: 600; font-size: 0.75rem; text-transform: uppercase; }
        .data-table tbody tr:hover, .comparison-table tbody tr:hover { background-color: var(--navy-700); }
        .highlight-row { background-color: rgba(30, 64, 175, 0.2) !important; }
        
        /* Alert Cards */
        .alert-card { display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.75rem; background-color: var(--navy-700); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid; }
        .alert-card.critical { border-left-color: var(--red-400); }
        .alert-card.warning { border-left-color: var(--yellow-400); }
        .alert-card.normal { border-left-color: var(--green-400); }
        .alert-icon { font-size: 1.25rem; }
        .alert-content { flex: 1; }
        .alert-title { font-weight: 600; font-size: 0.85rem; margin-bottom: 0.25rem; }
        .alert-description { font-size: 0.8rem; color: var(--gray-400); }
        .alert-time { font-size: 0.7rem; color: var(--gray-500); font-family: 'JetBrains Mono', monospace; }
        
        /* Progress Bar */
        .progress-bar { height: 8px; background-color: var(--navy-600); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
        
        /* Chart Container */
        .chart-container { height: 250px; position: relative; }
        .chart-container.tall { height: 350px; }
        
        /* P&L Items */
        .pnl-item { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--navy-700); }
        .pnl-item:last-child { border-bottom: none; }
        .pnl-label { color: var(--gray-400); }
        .pnl-value { font-weight: 600; }
        .pnl-value.positive { color: var(--green-400); }
        .pnl-value.negative { color: var(--red-400); }
        
        /* Trade Items */
        .trade-item { display: flex; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid var(--navy-700); gap: 0.75rem; }
        .trade-item:last-child { border-bottom: none; }
        .trade-symbol { font-weight: 600; width: 60px; }
        .trade-side { padding: 0.15rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 600; }
        .trade-side.buy { background-color: rgba(34, 197, 94, 0.2); color: var(--green-400); }
        .trade-side.sell { background-color: rgba(239, 68, 68, 0.2); color: var(--red-400); }
        .trade-value { flex: 1; text-align: right; color: var(--gray-400); font-size: 0.85rem; }
        .trade-pnl { width: 70px; text-align: right; font-weight: 600; }
        .trade-time { width: 80px; text-align: right; color: var(--gray-500); font-size: 0.75rem; }
        
        /* Allocation Legend */
        .allocation-legend { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1rem; }
        .legend-item { display: flex; align-items: center; gap: 0.5rem; }
        .legend-color { width: 12px; height: 12px; border-radius: 3px; }
        .legend-label { font-size: 0.8rem; color: var(--gray-400); }
        .legend-value { font-size: 0.8rem; font-weight: 600; }
        
        /* Gradient Cards */
        .gradient-card { background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(217, 119, 6, 0.1)); border-color: rgba(30, 64, 175, 0.3); }
        .gradient-card-success { background: linear-gradient(135deg, rgba(5, 150, 105, 0.2), rgba(34, 197, 94, 0.1)); border-color: rgba(34, 197, 94, 0.3); }
        
        /* Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7); z-index: 2000; justify-content: center; align-items: center; padding: 1rem; }
        .modal-overlay.active { display: flex; }
        .modal { background-color: var(--navy-800); border: 1px solid var(--navy-600); border-radius: 16px; padding: 1.5rem; max-width: 700px; width: 100%; max-height: 85vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--navy-700); }
        .modal-title { font-size: 1.25rem; font-weight: 700; }
        .modal-close { background: none; border: none; color: var(--gray-400); font-size: 1.5rem; cursor: pointer; }
        .modal-close:hover { color: white; }
        
        /* Mobile */
        .mobile-menu-toggle { display: none; position: fixed; top: 1rem; left: 1rem; z-index: 1001; background-color: var(--maxam-blue); border: none; border-radius: 8px; padding: 0.75rem; cursor: pointer; color: white; font-size: 1.5rem; }
        .sidebar-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); z-index: 99; }
        .sidebar-overlay.active { display: block; }
        
        /* Page transitions */
        .page { display: none; }
        .page.active { display: block; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--navy-800); }
        ::-webkit-scrollbar-thumb { background: var(--navy-600); border-radius: 3px; }
        
        /* Responsive */
        @media (max-width: 1400px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .agents-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 1024px) { .agents-grid { grid-template-columns: repeat(2, 1fr); } .two-col-grid, .three-col-grid { grid-template-columns: 1fr; } .charts-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .mobile-menu-toggle { display: block; } .sidebar { left: -300px; transition: left 0.3s ease; } .sidebar.open { left: 0; } .main-content { margin-left: 0; padding-top: 4.5rem; } .stats-grid, .agents-grid { grid-template-columns: 1fr; } .phase-tabs { flex-direction: column; } }
    </style>
</head>
<body>
    <button class="mobile-menu-toggle" id="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeMobileMenu()"></div>
    
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="logo-container">
                <div class="logo-icon">M</div>
                <div>
                    <div class="logo-text">MAXAM CAPITAL</div>
                    <div class="logo-subtitle">IQ-167 V5.0 ULTRA</div>
                </div>
            </div>
            
            <ul class="nav-list">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <li class="nav-item"><button class="nav-link active" data-page="dashboard" onclick="switchPage('dashboard')"><span class="nav-icon">üìä</span><span>Dashboard</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="agents" onclick="switchPage('agents')"><span class="nav-icon">ü§ñ</span><span>Agents</span><span class="nav-badge">96</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="trading" onclick="switchPage('trading')"><span class="nav-icon">üíπ</span><span>Trading</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="risk" onclick="switchPage('risk')"><span class="nav-icon">üõ°Ô∏è</span><span>Risk</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="analytics" onclick="switchPage('analytics')"><span class="nav-icon">üìà</span><span>Analytics</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Agent Management</div>
                    <li class="nav-item"><button class="nav-link" data-page="agent-monitoring" onclick="switchPage('agent-monitoring')"><span class="nav-icon">üîç</span><span>Agent Monitoring</span><span class="nav-badge">10</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="defi-protocols" onclick="switchPage('defi-protocols')"><span class="nav-icon">üî∑</span><span>DeFi Protocols</span><span class="nav-badge dev">6</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="advanced-analytics" onclick="switchPage('advanced-analytics')"><span class="nav-icon">üßÆ</span><span>Advanced Analytics</span><span class="nav-badge dev">6</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="operations" onclick="switchPage('operations')"><span class="nav-icon">‚öôÔ∏è</span><span>Operations</span><span class="nav-badge dev">5</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="compliance-agents" onclick="switchPage('compliance-agents')"><span class="nav-icon">üìã</span><span>Compliance Agents</span><span class="nav-badge dev">6</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Management</div>
                    <li class="nav-item"><button class="nav-link" data-page="portfolio" onclick="switchPage('portfolio')"><span class="nav-icon">üíº</span><span>Portfolio</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="investor" onclick="switchPage('investor')"><span class="nav-icon">üè¶</span><span>Investor Portal</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="research" onclick="switchPage('research')"><span class="nav-icon">üî¨</span><span>Research</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Compliance & Security</div>
                    <li class="nav-item"><button class="nav-link" data-page="auditing" onclick="switchPage('auditing')"><span class="nav-icon">üìù</span><span>Auditing</span></button></li>
                    <li class="nav-item"><button class="nav-link" data-page="security" onclick="switchPage('security')"><span class="nav-icon">üîê</span><span>Security</span></button></li>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Administration</div>
                    <li class="nav-item"><button class="nav-link" data-page="admin" onclick="switchPage('admin')"><span class="nav-icon">‚ö°</span><span>Admin Panel</span></button></li>
                </div>
            </ul>
            
            <div class="system-status">
                <div class="status-indicator"><div class="status-dot"></div><span class="status-text">System Online</span></div>
                <div class="latency-text">Latency: <span id="system-latency">8.2ms</span></div>
                <div class="latency-text">Agents: <span id="active-agents-count">73</span>/96 Active</div>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="page-header">
                <div>
                    <h1 class="page-title" id="page-title">Dashboard</h1>
                    <p class="page-subtitle">IQ-167 V5.0 ULTRA ‚Ä¢ 96-Agent Multi-Asset Trading Platform</p>
                </div>
                <div class="header-right">
                    <div class="live-badge"><div class="live-dot" style="width:8px;height:8px;background-color:var(--green-400);border-radius:50%;animation:pulse 2s infinite;"></div><span class="status-text">Live</span></div>
                    <div class="datetime" id="datetime"></div>
                </div>
            </header>
            
            <!-- ==================== DASHBOARD PAGE ==================== -->
            <div class="page active" id="page-dashboard">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total AUM</span><span class="stat-icon">üí∞</span></div><div class="stat-value" id="stat-aum">$9.11B</div><div class="stat-change positive">+82.15% YTD</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Daily P&L</span><span class="stat-icon">üìà</span></div><div class="stat-value" id="stat-pnl">$42.85M</div><div class="stat-change positive" id="stat-pnl-pct">+0.47%</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Win Rate</span><span class="stat-icon">üéØ</span></div><div class="stat-value">77.8%</div><div class="stat-change neutral">Last 30 days</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Sharpe Ratio</span><span class="stat-icon">‚ö°</span></div><div class="stat-value">2.87</div><div class="stat-change neutral">Risk-adjusted</div></div>
                </div>
                
                <!-- Build Progress -->
                <div class="card gradient-card">
                    <h3 class="card-title">üöÄ IQ-167 V5.0 ULTRA Build Progress</h3>
                    <div class="two-col-grid" style="gap: 2rem;">
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;"><span style="color: var(--gray-400);">Overall Completion</span><span style="font-weight: 700; color: var(--green-400);">76%</span></div>
                            <div class="progress-bar" style="height: 12px;"><div class="progress-fill" style="width: 76%; background: linear-gradient(90deg, var(--green-400), var(--maxam-blue));"></div></div>
                            <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.8rem; color: var(--gray-400);"><span>73 agents complete</span><span>23 remaining</span></div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">~262K</div><div style="font-size: 0.75rem; color: var(--gray-400);">Lines Written</div></div>
                            <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--yellow-400);">~138K</div><div style="font-size: 0.75rem; color: var(--gray-400);">Lines Remaining</div></div>
                            <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">12</div><div style="font-size: 0.75rem; color: var(--gray-400);">Weeks to Complete</div></div>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Row -->
                <div class="charts-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">Portfolio Performance</h3>
                            <select class="control-select" id="performance-timeframe" style="width: 120px;"><option value="1d">1 Day</option><option value="7d">7 Days</option><option value="30d" selected>30 Days</option><option value="90d">90 Days</option><option value="1y">1 Year</option></select>
                        </div>
                        <div class="chart-container"><canvas id="performanceChart"></canvas></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Asset Allocation</h3>
                        <div class="chart-container"><canvas id="allocationChart"></canvas></div>
                        <div class="allocation-legend" id="allocation-legend"></div>
                    </div>
                </div>
                
                <!-- Agents & Trades Row -->
                <div class="two-col-grid">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">96-Agent Status</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div class="status-dot"></div><span style="font-size: 0.875rem; color: var(--gray-400);">73 Active</span></div>
                        </div>
                        <div class="agents-grid" id="dashboard-agents-grid"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Recent Trades</h3>
                        <div id="trade-list" style="max-height: 350px; overflow-y: auto;"></div>
                    </div>
                </div>
                
                <!-- Asset Universe -->
                <div class="card">
                    <h3 class="card-title">Asset Universe (17 Assets)</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="assets-table">
                            <thead><tr><th>Asset</th><th>Price</th><th>24h Change</th><th>Class</th><th>Allocation</th><th>Position Value</th></tr></thead>
                            <tbody id="assets-tbody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Fee Summary -->
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Fee Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">8.0%</div><div style="font-size: 0.875rem; color: var(--gray-400);">Management Fee</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">50.0%</div><div style="font-size: 0.875rem; color: var(--gray-400);">Performance Fee</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">$728.8M</div><div style="font-size: 0.875rem; color: var(--gray-400);">Mgmt Fees YTD</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.25rem; font-weight: 700;">$1.92B</div><div style="font-size: 0.875rem; color: var(--gray-400);">Perf Fees YTD</div></div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== AGENTS PAGE ==================== -->
            <div class="page" id="page-agents">
                <div class="phase-tabs" id="phase-tabs"></div>
                <div class="card" style="margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <select class="control-select" id="agent-filter"><option value="all">All Agents</option><option value="active">Active Only</option><option value="development">In Development</option></select>
                            <select class="control-select" id="health-filter"><option value="all">All Health Scores</option><option value="a">Grade A (90-100)</option><option value="b">Grade B (80-89)</option><option value="c">Grade C (70-79)</option></select>
                        </div>
                        <div style="display: flex; gap: 1rem;"><button class="control-btn secondary" onclick="refreshAllAgents()">üîÑ Refresh</button><button class="control-btn" onclick="openBulkUpgradeModal()">‚¨ÜÔ∏è Bulk Upgrade</button></div>
                    </div>
                </div>
                <div class="card gradient-card-success" style="margin-bottom: 1.5rem;">
                    <h3 class="card-title">üè• Agent Health Score Summary</h3>
                    <div id="health-score-summary" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem;"></div>
                </div>
                <div id="agents-phase-content"></div>
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">‚¨ÜÔ∏è Agent Upgrade Recommendations</h3>
                        <div class="toggle-container"><span class="toggle-label">Manual</span><label class="toggle-switch"><input type="checkbox" id="auto-upgrade-toggle"><span class="toggle-slider"></span></label><span class="toggle-label">Auto</span></div>
                    </div>
                    <div id="upgrade-recommendations"></div>
                </div>
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">‚ö†Ô∏è Agent Risk Alerts</h3>
                        <span id="alert-count" style="padding: 0.25rem 0.75rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.85rem;">3 Active</span>
                    </div>
                    <div id="agent-risk-alerts"></div>
                </div>
            </div>
            
            <!-- ==================== TRADING PAGE ==================== -->
            <div class="page" id="page-trading">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">24h Volume</span><span class="stat-icon">üìä</span></div><div class="stat-value">$8.42B</div><div class="stat-change positive">+12.4% vs avg</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Trades</span><span class="stat-icon">üíπ</span></div><div class="stat-value">45,280</div><div class="stat-change neutral">24h period</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Fill Rate</span><span class="stat-icon">‚ö°</span></div><div class="stat-value">99.4%</div><div class="stat-change positive">Excellent</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Slippage</span><span class="stat-icon">üìâ</span></div><div class="stat-value">0.02%</div><div class="stat-change positive">Below target</div></div>
                </div>
                <h3 style="margin-bottom: 1rem; color: var(--gray-400);">Cryptocurrency Exchanges</h3>
                <div class="stats-grid" id="crypto-venues-grid" style="grid-template-columns: repeat(6, 1fr);"></div>
                <h3 style="margin: 1.5rem 0 1rem; color: var(--gray-400);">Traditional Markets</h3>
                <div class="stats-grid" id="tradfi-venues-grid" style="grid-template-columns: repeat(6, 1fr);"></div>
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">Live Trade Stream</h3>
                    <div id="trading-trade-list" style="max-height: 500px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <!-- ==================== RISK PAGE ==================== -->
            <div class="page" id="page-risk">
                <!-- Primary Risk Metrics -->
                <div class="stats-grid">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Portfolio VaR (95%)</span><span class="stat-icon">üìä</span></div><div class="stat-value">0.9%</div><div class="stat-change positive">Target &lt;2% ‚úì</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">CVaR (95%)</span><span class="stat-icon">‚ö†Ô∏è</span></div><div class="stat-value">1.3%</div><div class="stat-change positive">Target &lt;3% ‚úì</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--yellow-400);"><div class="stat-header"><span class="stat-label">Max Drawdown</span><span class="stat-icon">üìâ</span></div><div class="stat-value">-5.7%</div><div class="stat-change positive">Limit: -15%</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Sharpe Ratio</span><span class="stat-icon">üìà</span></div><div class="stat-value">2.84</div><div class="stat-change positive">Excellent</div></div>
                </div>
                
                <!-- Secondary Risk Metrics -->
                <div class="stats-grid" style="margin-top: 1rem;">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Gross Leverage</span><span class="stat-icon">‚ö°</span></div><div class="stat-value">1.8x</div><div class="stat-change positive">Max: 3.0x</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Net Leverage</span><span class="stat-icon">‚öñÔ∏è</span></div><div class="stat-value">1.4x</div><div class="stat-change positive">Max: 2.0x</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Beta to BTC</span><span class="stat-icon">‚Çø</span></div><div class="stat-value">0.72</div><div class="stat-change neutral">Moderate</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Beta to SPY</span><span class="stat-icon">üìä</span></div><div class="stat-value">0.45</div><div class="stat-change positive">Low correlation</div></div>
                </div>
                
                <!-- On-Demand Risk Assessment by Asset -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">üéØ On-Demand Risk Assessment by Asset</h3>
                            <p style="font-size: 0.85rem; color: var(--gray-400); margin: 0;">Generate comprehensive risk analysis for any asset with customizable time intervals</p>
                        </div>
                        <div style="display: flex; gap: 0.75rem; flex-wrap: wrap; align-items: center;">
                            <select class="control-select" id="risk-asset-class" onchange="filterRiskAssets()" style="min-width: 140px;">
                                <option value="all">All Classes</option>
                                <option value="crypto">Crypto</option>
                                <option value="stablecoin">Stablecoins</option>
                                <option value="equity">Equities</option>
                                <option value="fixed-income">Fixed Income</option>
                                <option value="commodity">Commodities</option>
                                <option value="reit">REITs</option>
                                <option value="derivative">Derivatives</option>
                            </select>
                            <select class="control-select" id="risk-asset-select" style="min-width: 160px;">
                                <option value="SOL">SOL - Solana</option>
                                <option value="BTC">BTC - Bitcoin</option>
                                <option value="ETH">ETH - Ethereum</option>
                                <option value="XRP">XRP - Ripple</option>
                                <option value="BNB">BNB - BNB</option>
                                <option value="ADA">ADA - Cardano</option>
                                <option value="XLM">XLM - Stellar</option>
                                <option value="USDT">USDT - Tether</option>
                                <option value="USDC">USDC - USD Coin</option>
                                <option value="SPY">SPY - S&P 500</option>
                                <option value="QQQ">QQQ - Nasdaq 100</option>
                                <option value="TLT">TLT - Treasury Bonds</option>
                                <option value="GLD">GLD - Gold</option>
                                <option value="SLV">SLV - Silver</option>
                                <option value="USO">USO - Oil</option>
                                <option value="VNQ">VNQ - Real Estate</option>
                                <option value="VIX">VIX - Volatility</option>
                            </select>
                            <select class="control-select" id="risk-timeframe" style="min-width: 130px;">
                                <option value="1d">1 Day</option>
                                <option value="1w">1 Week</option>
                                <option value="1m" selected>1 Month</option>
                                <option value="3m">3 Months</option>
                                <option value="6m">6 Months</option>
                                <option value="9m">9 Months</option>
                                <option value="1y">1 Year</option>
                                <option value="2y">2 Years</option>
                                <option value="3y">3 Years</option>
                                <option value="5y">5 Years</option>
                            </select>
                            <button class="control-btn" onclick="generateRiskAssessment()">üéØ Run Assessment</button>
                            <button class="control-btn secondary" onclick="generateRiskReport()">üìÑ Generate Report</button>
                        </div>
                    </div>
                </div>
                
                <!-- Risk Assessment Results -->
                <div class="card" style="margin-top: 1rem;" id="risk-assessment-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Risk Assessment Report</h3>
                        <span style="font-size: 0.85rem; color: var(--gray-400);" id="risk-assessment-timestamp">Select an asset to begin</span>
                    </div>
                    <div id="risk-assessment-content">
                        <div style="text-align: center; padding: 2rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üéØ</div>
                            <p>Select an asset and click "Run Assessment" to generate a comprehensive risk report</p>
                        </div>
                    </div>
                </div>
                
                <!-- Real-Time Asset Universe Risk Assessments -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üî¥ Real-Time Asset Universe Risk Scores</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.85rem; color: var(--gray-400);">Live Updates</span>
                            </div>
                        </div>
                        <div style="display: flex; gap: 0.75rem;">
                            <button class="control-btn secondary" onclick="refreshAllRiskScores()">üîÑ Refresh All</button>
                            <button class="control-btn" onclick="generateUniverseRiskReport()">üìÑ Universe Risk Report</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="risk-scores-table">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Class</th>
                                    <th>Risk Score</th>
                                    <th>VaR (95%)</th>
                                    <th>CVaR (95%)</th>
                                    <th>Volatility (30d)</th>
                                    <th>Liquidity</th>
                                    <th>Smart Contract</th>
                                    <th>Correlation</th>
                                    <th>Trend</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="risk-scores-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Risk Limits & Exposure Analysis -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">‚ö†Ô∏è Risk Limits Status</h3>
                        <div id="risk-limits"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Exposure by Asset Class</h3>
                        <div id="exposure-analysis"></div>
                    </div>
                </div>
                
                <!-- Correlation Matrix & Stress Testing -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîó Top Correlations</h3>
                        <div id="correlation-matrix"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üí• Stress Test Scenarios</h3>
                        <div id="stress-tests"></div>
                    </div>
                </div>
                
                <!-- Greeks Dashboard for Options -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìê Portfolio Greeks (Options Exposure)</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr);">
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.5rem;">Delta (Œî)</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">+0.42</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.5rem;">Gamma (Œì)</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--cyan-400);">+0.08</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.5rem;">Theta (Œò)</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--red-400);">-$45.2K</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.5rem;">Vega (ŒΩ)</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--purple-400);">+$128K</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.5rem;">Rho (œÅ)</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--yellow-400);">+$22K</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400); margin-bottom: 0.5rem;">Vanna</div>
                            <div style="font-size: 1.5rem; font-weight: 700;">+0.12</div>
                        </div>
                    </div>
                </div>
                
                <!-- Risk Alerts -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üö® Active Risk Alerts</h3>
                        <span style="padding: 0.25rem 0.75rem; background-color: rgba(250, 204, 21, 0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.85rem;">3 Active</span>
                    </div>
                    <div id="risk-alerts"></div>
                </div>
            </div>
            
            <!-- ==================== ANALYTICS PAGE ==================== -->
            <div class="page" id="page-analytics">
                <!-- Performance Summary -->
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Return (YTD)</span><span class="stat-icon">üìà</span></div><div class="stat-value positive">+82.15%</div><div class="stat-change positive">vs 26.2% SPY</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Alpha Generated</span><span class="stat-icon">üéØ</span></div><div class="stat-value positive">+55.95%</div><div class="stat-change positive">vs benchmark</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Information Ratio</span><span class="stat-icon">üìä</span></div><div class="stat-value">2.14</div><div class="stat-change positive">Excellent</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Sortino Ratio</span><span class="stat-icon">üõ°Ô∏è</span></div><div class="stat-value">3.42</div><div class="stat-change positive">Top decile</div></div>
                </div>
                
                <!-- Charts Row -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card"><h3 class="card-title">üìà 10-Year Performance Projections</h3><div class="chart-container tall"><canvas id="projectionsChart"></canvas></div></div>
                    <div class="card"><h3 class="card-title">üìä ROI Comparison</h3><div class="chart-container tall"><canvas id="roiComparisonChart"></canvas></div></div>
                </div>
                
                <!-- Performance Attribution -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üéØ Performance Attribution Analysis</h3>
                    <div class="three-col-grid">
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">By Strategy</h4>
                            <div id="attribution-by-strategy"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">By Asset Class</h4>
                            <div id="attribution-by-asset"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">By Agent</h4>
                            <div id="attribution-by-agent"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Factor Analysis -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìê Factor Exposures</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Momentum</span>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 150px; height: 8px; background: var(--navy-600); border-radius: 4px; overflow: hidden;"><div style="width: 72%; height: 100%; background: var(--green-400);"></div></div>
                                    <span style="color: var(--green-400); font-weight: 600;">+0.72</span>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Value</span>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 150px; height: 8px; background: var(--navy-600); border-radius: 4px; overflow: hidden;"><div style="width: 35%; height: 100%; background: var(--cyan-400);"></div></div>
                                    <span style="color: var(--cyan-400); font-weight: 600;">+0.35</span>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Quality</span>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 150px; height: 8px; background: var(--navy-600); border-radius: 4px; overflow: hidden;"><div style="width: 58%; height: 100%; background: var(--purple-400);"></div></div>
                                    <span style="color: var(--purple-400); font-weight: 600;">+0.58</span>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Volatility</span>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 150px; height: 8px; background: var(--navy-600); border-radius: 4px; overflow: hidden;"><div style="width: 28%; height: 100%; background: var(--yellow-400);"></div></div>
                                    <span style="color: var(--yellow-400); font-weight: 600;">-0.28</span>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Size</span>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 150px; height: 8px; background: var(--navy-600); border-radius: 4px; overflow: hidden;"><div style="width: 45%; height: 100%; background: var(--orange-400);"></div></div>
                                    <span style="color: var(--orange-400); font-weight: 600;">+0.45</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Rolling Returns Analysis</h3>
                        <div class="chart-container"><canvas id="rollingReturnsChart"></canvas></div>
                    </div>
                </div>
                
                <!-- Benchmark Comparison -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üèÜ Performance vs Major Benchmarks</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead><tr><th>Investment</th><th>MTD</th><th>QTD</th><th>YTD</th><th>1Y Return</th><th>3Y CAGR</th><th>5Y CAGR</th><th>Sharpe</th><th>Sortino</th><th>Max DD</th><th>Win Rate</th></tr></thead>
                            <tbody id="benchmark-comparison"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Drawdown Analysis -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìâ Drawdown Analysis</h3>
                        <div class="chart-container"><canvas id="drawdownChart"></canvas></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Monthly Returns Heatmap</h3>
                        <div id="monthly-returns-heatmap"></div>
                    </div>
                </div>
                
                <!-- Trade Analytics -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üíπ Trade Analytics Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr);">
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Total Trades</div>
                            <div style="font-size: 1.5rem; font-weight: 700;">142,850</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">YTD</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Win Rate</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">73.2%</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">All time</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Profit Factor</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">2.84</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Win/Loss ratio</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Avg Win</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">+$124K</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Per trade</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Avg Loss</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--red-400);">-$48K</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Per trade</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: var(--gray-400);">Expectancy</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">+$78K</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Per trade</div>
                        </div>
                    </div>
                </div>
                
                <!-- 10-Year Summary -->
                <div class="card gradient-card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìä 10-Year Projection Summary</h3>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr);">
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--maxam-gold);">$42.18B</div><div style="font-size: 0.85rem; color: var(--gray-400);">Final AUM</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">13.6x</div><div style="font-size: 0.85rem; color: var(--gray-400);">Multiple</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">162.8%</div><div style="font-size: 0.85rem; color: var(--gray-400);">CAGR</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">76.2%</div><div style="font-size: 0.85rem; color: var(--gray-400);">Win Rate</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">2.87</div><div style="font-size: 0.85rem; color: var(--gray-400);">Sharpe Ratio</div></div>
                        <div style="text-align: center;"><div style="font-size: 1.5rem; font-weight: 700;">-5.7%</div><div style="font-size: 0.85rem; color: var(--gray-400);">Max Drawdown</div></div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== PORTFOLIO PAGE ==================== -->
            <div class="page" id="page-portfolio">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Portfolio Value</span><span class="stat-icon">üí∞</span></div><div class="stat-value" id="total-portfolio-value">$9.11B</div><div class="stat-change positive">+$38.4M today</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Positions</span><span class="stat-icon">üìä</span></div><div class="stat-value">17</div><div class="stat-change neutral">Active assets</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Unrealized P&L</span><span class="stat-icon">üìà</span></div><div class="stat-value positive" id="total-unrealized-pnl">+$6.63B</div><div class="stat-change positive">+267.3% return</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Realized P&L (YTD)</span><span class="stat-icon">‚úÖ</span></div><div class="stat-value positive">+$1.24B</div><div class="stat-change positive">Closed positions</div></div>
                </div>
                <div class="two-col-grid">
                    <div class="card"><h3 class="card-title">üìä Portfolio Allocation</h3><div class="chart-container"><canvas id="portfolioAllocationChart"></canvas></div></div>
                    <div class="card"><h3 class="card-title">üìà Asset Class Breakdown</h3><div id="asset-class-breakdown"></div></div>
                </div>
                
                <!-- Positions Table -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã All Positions</h3>
                        <div style="display: flex; gap: 0.5rem;">
                            <select class="control-select" id="position-filter"><option value="all">All Positions</option><option value="crypto">Crypto</option><option value="tradfi">TradFi</option><option value="profitable">Profitable</option></select>
                            <button class="control-btn secondary" onclick="exportPositions()">üì• Export CSV</button>
                            <button class="control-btn secondary" onclick="refreshPositions()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="positions-table">
                            <thead><tr><th>Asset</th><th>Class</th><th>Price</th><th>Quantity</th><th>Value</th><th>Weight</th><th>Unrealized P&L</th><th>24h Change</th></tr></thead>
                            <tbody id="positions-table-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Performance Cards -->
                <div class="stats-grid" style="margin-top: 1.5rem; grid-template-columns: repeat(4, 1fr);">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">Best Performer (24h)</span><span class="stat-icon">üèÜ</span></div><div class="stat-value small" id="best-performer">SOL</div><div class="stat-change positive">+4.82%</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--red-400);"><div class="stat-header"><span class="stat-label">Worst Performer (24h)</span><span class="stat-icon">üìâ</span></div><div class="stat-value small" id="worst-performer">USO</div><div class="stat-change negative">-2.15%</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-gold);"><div class="stat-header"><span class="stat-label">Largest Position</span><span class="stat-icon">üìä</span></div><div class="stat-value small">SOL</div><div class="stat-change neutral">36.8% of portfolio</div></div>
                    <div class="stat-card" style="border-left: 4px solid var(--maxam-blue);"><div class="stat-header"><span class="stat-label">Most Profitable</span><span class="stat-icon">üíé</span></div><div class="stat-value small">SOL</div><div class="stat-change positive">+$2.48B total</div></div>
                </div>
                
                <!-- Rebalancing Section with Manual/Auto Toggle -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">‚öñÔ∏è Portfolio Rebalancing</h3>
                        <div style="display: flex; align-items: center; gap: 1.5rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 1rem; background: var(--navy-700); border-radius: 8px;">
                                <span style="font-size: 0.85rem; color: var(--gray-400);">Mode:</span>
                                <span style="font-size: 0.85rem; font-weight: 600;" id="rebalance-mode-label">Manual</span>
                                <label class="toggle-switch"><input type="checkbox" id="rebalance-mode-toggle" onchange="toggleRebalanceMode()"><span class="toggle-slider"></span></label>
                                <span style="font-size: 0.85rem; font-weight: 600;">Automated</span>
                            </div>
                            <button class="control-btn" onclick="executeRebalance()">üîÑ Execute Rebalance</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1rem;">
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Rebalance Threshold</div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="number" class="control-input" value="3" style="width: 60px; text-align: center;" id="rebalance-threshold">
                                <span>%</span>
                            </div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Last Rebalance</div>
                            <div style="font-weight: 600;">Dec 3, 2025 14:32 UTC</div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Drift from Target</div>
                            <div style="font-weight: 600; color: var(--yellow-400);">2.4% (Within threshold)</div>
                        </div>
                    </div>
                    <div id="rebalance-recommendations"></div>
                </div>
                
                <!-- Capital Allocation Controls -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üíº Capital Allocation Management</h3>
                    <div class="two-col-grid" style="margin-bottom: 1rem;">
                        <div style="padding: 1.25rem; background: linear-gradient(135deg, var(--navy-700), var(--navy-800)); border-radius: 10px; border: 1px solid var(--navy-600);">
                            <h4 style="font-size: 0.9rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">ü§ñ Agent System Allocation</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <input type="range" id="agent-allocation-slider" min="0" max="100" value="85" style="flex: 1;" onchange="updateAgentAllocation()">
                                <div style="min-width: 80px; text-align: right;">
                                    <span style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);" id="agent-allocation-pct">85%</span>
                                </div>
                            </div>
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Current: <span style="color: var(--green-400); font-weight: 600;">$7.74B</span> allocated to IQ-167 agents</div>
                        </div>
                        <div style="padding: 1.25rem; background: linear-gradient(135deg, var(--navy-700), var(--navy-800)); border-radius: 10px; border: 1px solid var(--navy-600);">
                            <h4 style="font-size: 0.9rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">üë• Human Traders Allocation</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <input type="range" id="human-allocation-slider" min="0" max="100" value="15" style="flex: 1;" onchange="updateHumanAllocation()">
                                <div style="min-width: 80px; text-align: right;">
                                    <span style="font-size: 1.5rem; font-weight: 700; color: var(--cyan-400);" id="human-allocation-pct">15%</span>
                                </div>
                            </div>
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Current: <span style="color: var(--cyan-400); font-weight: 600;">$1.37B</span> allocated to human traders</div>
                        </div>
                    </div>
                    
                    <!-- Individual Trader Capital Allocation -->
                    <div style="padding: 1.25rem; background: var(--navy-700); border-radius: 10px; margin-top: 1rem;">
                        <h4 style="font-size: 0.9rem; margin-bottom: 1rem;">üë§ Individual Trader Capital Allocation</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <div style="padding: 1rem; background: var(--navy-800); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                    <select class="control-select" id="trader-1-select" style="flex: 1; margin-right: 0.5rem;">
                                        <option value="max">Max Chen (CIO)</option>
                                        <option value="sarah">Sarah Williams</option>
                                        <option value="james">James Rodriguez</option>
                                        <option value="emily">Emily Zhang</option>
                                        <option value="michael">Michael O'Brien</option>
                                    </select>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 0.8rem; color: var(--gray-400);">Allocation:</span>
                                    <input type="text" class="control-input" value="$450M" style="width: 100px; text-align: right;">
                                    <span style="font-size: 0.8rem; color: var(--gray-400);">(32.8%)</span>
                                </div>
                            </div>
                            <div style="padding: 1rem; background: var(--navy-800); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                    <select class="control-select" id="trader-2-select" style="flex: 1; margin-right: 0.5rem;">
                                        <option value="sarah">Sarah Williams</option>
                                        <option value="max">Max Chen (CIO)</option>
                                        <option value="james">James Rodriguez</option>
                                        <option value="emily">Emily Zhang</option>
                                        <option value="michael">Michael O'Brien</option>
                                    </select>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 0.8rem; color: var(--gray-400);">Allocation:</span>
                                    <input type="text" class="control-input" value="$320M" style="width: 100px; text-align: right;">
                                    <span style="font-size: 0.8rem; color: var(--gray-400);">(23.4%)</span>
                                </div>
                            </div>
                            <div style="padding: 1rem; background: var(--navy-800); border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                    <select class="control-select" id="trader-3-select" style="flex: 1; margin-right: 0.5rem;">
                                        <option value="james">James Rodriguez</option>
                                        <option value="max">Max Chen (CIO)</option>
                                        <option value="sarah">Sarah Williams</option>
                                        <option value="emily">Emily Zhang</option>
                                        <option value="michael">Michael O'Brien</option>
                                    </select>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 0.8rem; color: var(--gray-400);">Allocation:</span>
                                    <input type="text" class="control-input" value="$280M" style="width: 100px; text-align: right;">
                                    <span style="font-size: 0.8rem; color: var(--gray-400);">(20.4%)</span>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 1rem; display: flex; gap: 0.75rem;">
                            <button class="control-btn" onclick="saveCapitalAllocations()">üíæ Save Allocations</button>
                            <button class="control-btn secondary" onclick="addTraderAllocation()">‚ûï Add Trader</button>
                        </div>
                    </div>
                </div>
                
                <!-- P&L Breakdown -->
                <div class="three-col-grid" style="margin-top: 1.5rem;">
                    <div class="card gradient-card-success">
                        <h3 class="card-title">üìà Agent Portfolio P&L</h3>
                        <div class="pnl-item"><span class="pnl-label">Today</span><span class="pnl-value positive">+$38,425,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Week</span><span class="pnl-value positive">+$142,850,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Month</span><span class="pnl-value positive">+$485,200,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">YTD</span><span class="pnl-value positive">+$3,842,500,000</span></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Human Portfolio P&L</h3>
                        <div class="pnl-item"><span class="pnl-label">Today</span><span class="pnl-value positive">+$4,425,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Week</span><span class="pnl-value negative">-$2,150,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">This Month</span><span class="pnl-value positive">+$18,420,000</span></div>
                        <div class="pnl-item"><span class="pnl-label">YTD</span><span class="pnl-value positive">+$245,800,000</span></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üë§ Individual Human P&L</h3>
                        <div style="max-height: 200px; overflow-y: auto;">
                            <div class="pnl-item"><span class="pnl-label">Max Chen</span><span class="pnl-value positive">+$98.2M YTD</span></div>
                            <div class="pnl-item"><span class="pnl-label">Sarah Williams</span><span class="pnl-value positive">+$72.4M YTD</span></div>
                            <div class="pnl-item"><span class="pnl-label">James Rodriguez</span><span class="pnl-value positive">+$45.8M YTD</span></div>
                            <div class="pnl-item"><span class="pnl-label">Emily Zhang</span><span class="pnl-value positive">+$22.1M YTD</span></div>
                            <div class="pnl-item"><span class="pnl-label">Michael O'Brien</span><span class="pnl-value positive">+$7.3M YTD</span></div>
                        </div>
                    </div>
                </div>
                
                <!-- Investment Parameters -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">‚öôÔ∏è Investment Parameters</h3>
                    <div class="three-col-grid" style="margin-bottom: 0;">
                        <div>
                            <div class="control-group"><label class="control-label">Maximum Value Per Trade</label><input type="text" class="control-input" id="max-trade-value" value="$5,000,000"></div>
                            <div class="control-group"><label class="control-label">Maximum Single Position (%)</label><input type="text" class="control-input" id="max-position" value="15%"></div>
                        </div>
                        <div>
                            <div class="control-group"><label class="control-label">Daily Loss Limit</label><input type="text" class="control-input" id="daily-loss-limit" value="$25,000,000"></div>
                            <div class="control-group"><label class="control-label">Stop Loss Threshold (%)</label><input type="text" class="control-input" id="stop-loss-threshold" value="8%"></div>
                        </div>
                        <div>
                            <div class="control-group"><label class="control-label">Take Profit Threshold (%)</label><input type="text" class="control-input" id="take-profit" value="25%"></div>
                            <div class="control-group"><label class="control-label">Max Leverage</label><input type="text" class="control-input" id="max-leverage" value="3.0x"></div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem; display: flex; gap: 0.75rem;">
                        <button class="control-btn">üíæ Save Parameters</button>
                        <button class="control-btn secondary">‚Ü©Ô∏è Reset to Default</button>
                        <button class="control-btn secondary">üìä View Audit Log</button>
                    </div>
                </div>
            </div>
                        <h3 class="card-title">‚öñÔ∏è Rebalancing</h3>
                        <div id="rebalancing-recommendations"></div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== INVESTOR PORTAL ==================== -->
            <div class="page" id="page-investor">
                <!-- Investor Summary Stats -->
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Your Investment</span><span class="stat-icon">üíµ</span></div><div class="stat-value">$2.0B</div><div class="stat-change neutral">Initial capital</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Current Value</span><span class="stat-icon">üí∞</span></div><div class="stat-value">$2.65B</div><div class="stat-change positive">+32.5%</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">YTD Return</span><span class="stat-icon">üìà</span></div><div class="stat-value positive">+82.15%</div><div class="stat-change positive">Outperforming</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Fees Paid</span><span class="stat-icon">üìã</span></div><div class="stat-value">$42.8M</div><div class="stat-change neutral">YTD (Mgmt + Perf)</div></div>
                </div>
                
                <!-- Secondary Investor Stats -->
                <div class="stats-grid" style="margin-top: 1rem;">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Net P&L</span><span class="stat-icon">üíé</span></div><div class="stat-value positive">+$650M</div><div class="stat-change positive">After all fees</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Your Ownership %</span><span class="stat-icon">üìä</span></div><div class="stat-value">22.4%</div><div class="stat-change neutral">of total AUM</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Investor Tier</span><span class="stat-icon">‚≠ê</span></div><div class="stat-value small" style="color: var(--maxam-gold);">FOUNDING</div><div class="stat-change positive">8% Mgmt / 50% Perf</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Lock-up Status</span><span class="stat-icon">üîí</span></div><div class="stat-value small" style="color: var(--green-400);">UNLOCKED</div><div class="stat-change positive">Quarterly redemption</div></div>
                </div>
                
                <!-- Performance Chart -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìà Your Investment Performance vs Alternatives</h3>
                        <select class="control-select" id="investor-chart-timeframe" onchange="updateInvestorChart()">
                            <option value="1m">1 Month</option>
                            <option value="3m">3 Months</option>
                            <option value="6m">6 Months</option>
                            <option value="ytd" selected>Year to Date</option>
                            <option value="1y">1 Year</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                    <div class="chart-container tall"><canvas id="investorComparisonChart"></canvas></div>
                </div>
                
                <!-- Comparison Table -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üèÜ Performance Comparison Table</h3>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead><tr><th>Investment</th><th>YTD</th><th>1Y Return</th><th>3Y CAGR</th><th>Volatility</th><th>Sharpe</th><th>Sortino</th><th>Max DD</th><th>Alpha</th></tr></thead>
                            <tbody id="investor-comparison-table"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Fee Breakdown -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üí∞ Fee Summary (YTD)</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Management Fee (8%)</span>
                                <span style="font-weight: 600;">$18,420,000</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Performance Fee (50% of profits)</span>
                                <span style="font-weight: 600;">$24,380,000</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-top: 2px solid var(--maxam-gold);">
                                <span style="font-weight: 600;">Total Fees Paid</span>
                                <span style="font-weight: 700; color: var(--maxam-gold);">$42,800,000</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: linear-gradient(135deg, rgba(34,197,94,0.2), rgba(34,197,94,0.1)); border-radius: 8px;">
                                <span style="font-weight: 600; color: var(--green-400);">Your Net Return</span>
                                <span style="font-weight: 700; color: var(--green-400);">+$607,200,000</span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìÖ Investment Timeline</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Initial Investment Date</span>
                                <span style="font-weight: 600;">Jan 15, 2024</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Next Redemption Window</span>
                                <span style="font-weight: 600;">Jan 1, 2026</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>High Water Mark</span>
                                <span style="font-weight: 600;">$2.68B</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Days Invested</span>
                                <span style="font-weight: 600;">324 days</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quarterly Reports & Statements -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìÑ Quarterly Reports & Statements</h3>
                        <button class="control-btn secondary" onclick="downloadAllStatements()">üì• Download All</button>
                    </div>
                    <div id="quarterly-reports">
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem;">
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                                <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Q4 2025</div>
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">In Progress</div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;">Pending</span>
                            </div>
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center; cursor: pointer;" onclick="downloadReport('Q3-2025')">
                                <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Q3 2025</div>
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">+28.4% Return</div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">üì• Download</span>
                            </div>
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center; cursor: pointer;" onclick="downloadReport('Q2-2025')">
                                <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Q2 2025</div>
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">+31.2% Return</div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">üì• Download</span>
                            </div>
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center; cursor: pointer;" onclick="downloadReport('Q1-2025')">
                                <div style="font-size: 0.8rem; color: var(--gray-400); margin-bottom: 0.5rem;">Q1 2025</div>
                                <div style="font-weight: 600; margin-bottom: 0.75rem;">+22.5% Return</div>
                                <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">üì• Download</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Contact & Support -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìû Investor Relations</h3>
                    <div class="three-col-grid">
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-weight: 600; margin-bottom: 0.5rem;">Primary Contact</div>
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Sarah Mitchell, IR Director</div>
                            <div style="font-size: 0.85rem; color: var(--cyan-400);">ir@maxamcapital.com</div>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-weight: 600; margin-bottom: 0.5rem;">Next Investor Call</div>
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Jan 15, 2026 at 10:00 EST</div>
                            <button class="control-btn secondary" style="margin-top: 0.5rem; padding: 0.4rem 0.75rem; font-size: 0.8rem;">üìÖ Add to Calendar</button>
                        </div>
                        <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                            <div style="font-weight: 600; margin-bottom: 0.5rem;">Request Meeting</div>
                            <div style="font-size: 0.85rem; color: var(--gray-400);">Schedule a 1-on-1 review</div>
                            <button class="control-btn" style="margin-top: 0.5rem; padding: 0.4rem 0.75rem; font-size: 0.8rem;">üìù Request</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== RESEARCH PAGE ==================== -->
            <div class="page" id="page-research">
                <!-- AI-Powered Research Controls -->
                <div class="card">
                    <h3 class="card-title">üî¨ AI-Powered Asset Research</h3>
                    <div class="two-col-grid">
                        <div>
                            <div class="control-group"><label class="control-label">Select Asset</label><select class="control-select" id="research-asset" style="width: 100%;">
                                <optgroup label="Crypto - Large Cap">
                                    <option value="SOL">SOL - Solana</option>
                                    <option value="BTC">BTC - Bitcoin</option>
                                    <option value="ETH">ETH - Ethereum</option>
                                    <option value="XRP">XRP - Ripple</option>
                                    <option value="BNB">BNB - BNB</option>
                                    <option value="ADA">ADA - Cardano</option>
                                </optgroup>
                                <optgroup label="Stablecoins">
                                    <option value="USDT">USDT - Tether</option>
                                    <option value="USDC">USDC - USD Coin</option>
                                </optgroup>
                                <optgroup label="TradFi - Equities">
                                    <option value="SPY">SPY - S&P 500</option>
                                    <option value="QQQ">QQQ - Nasdaq 100</option>
                                </optgroup>
                                <optgroup label="TradFi - Commodities">
                                    <option value="GLD">GLD - Gold</option>
                                    <option value="SLV">SLV - Silver</option>
                                    <option value="USO">USO - Oil</option>
                                </optgroup>
                            </select></div>
                            <div class="control-group"><label class="control-label">Report Type</label><select class="control-select" id="research-type" style="width: 100%;"><option value="full">Full Analysis</option><option value="technical">Technical Only</option><option value="fundamental">Fundamental Only</option><option value="sentiment">Sentiment Only</option><option value="risk">Risk Analysis</option></select></div>
                        </div>
                        <div>
                            <div class="control-group"><label class="control-label">Timeframe</label><select class="control-select" id="research-timeframe" style="width: 100%;"><option value="1d">1 Day</option><option value="1w" selected>1 Week</option><option value="1m">1 Month</option><option value="3m">3 Months</option></select></div>
                            <div class="control-group"><label class="control-label">Agent Consensus</label><select class="control-select" id="research-consensus" style="width: 100%;"><option value="all">All 96 Agents</option><option value="relevant" selected>Relevant Agents</option><option value="core">Core 7 Only</option></select></div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 0.75rem; margin-top: 1rem;">
                        <button class="control-btn" onclick="generateAssetReport()">üîç Generate Report</button>
                        <button class="control-btn secondary" onclick="scheduleReport()">üìÖ Schedule Daily Report</button>
                    </div>
                </div>
                
                <!-- Real-Time Asset Universe with Sentiment & Recommendations -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Real-Time Asset Universe - Sentiment & Recommendations</h3>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.85rem; color: var(--gray-400);">Live Updates</span>
                            </div>
                            <button class="control-btn secondary" onclick="refreshResearchData()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="research-universe-table">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Price</th>
                                    <th>24h Œî</th>
                                    <th>Sentiment</th>
                                    <th>Technical</th>
                                    <th>Fundamental</th>
                                    <th>Social Score</th>
                                    <th>Agent Consensus</th>
                                    <th>Recommendation</th>
                                    <th>Confidence</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="research-universe-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Asset Report Container -->
                <div class="card" style="margin-top: 1.5rem;" id="asset-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìä Asset Analysis Report</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <button class="control-btn secondary" onclick="exportResearchReport()">üì• Export PDF</button>
                            <button class="control-btn secondary" onclick="shareReport()">üì§ Share</button>
                        </div>
                    </div>
                    <div id="asset-report-content" style="text-align: center; padding: 2rem; color: var(--gray-500);">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üî¨</div>
                        <p>Select an asset and generate a report to view comprehensive AI analysis</p>
                    </div>
                </div>
                
                <!-- Market Signals Dashboard -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üì° Real-Time Market Signals</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem; max-height: 300px; overflow-y: auto;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--green-400);">
                                <span style="font-size: 1.25rem;">üìà</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">SOL Breaking Above 200 MA</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Technical Agent #3 ‚Ä¢ Strong Buy Signal</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">2 min ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--yellow-400);">
                                <span style="font-size: 1.25rem;">‚ö†Ô∏è</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">ETH Funding Rate Elevated</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Liquidity Agent #4 ‚Ä¢ Caution on longs</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">8 min ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--green-400);">
                                <span style="font-size: 1.25rem;">üê¶</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">BTC Social Sentiment Surge</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Sentiment Agent #1 ‚Ä¢ +42% volume spike</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">15 min ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--cyan-400);">
                                <span style="font-size: 1.25rem;">üìã</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">Large 13F Filing Detected</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Fundamental Agent #2 ‚Ä¢ Institutional buying SPY</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">28 min ago</span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üéØ Top Opportunities (AI Ranked)</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background: linear-gradient(135deg, rgba(34,197,94,0.1), rgba(34,197,94,0.05)); border-radius: 8px; border: 1px solid rgba(34,197,94,0.3);">
                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                    <span style="font-size: 1.5rem;">ü•á</span>
                                    <div>
                                        <div style="font-weight: 600;">SOL</div>
                                        <div style="font-size: 0.8rem; color: var(--gray-400);">Score: 94/100</div>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-weight: 600; color: var(--green-400);">STRONG BUY</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">7 agents agree</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background: linear-gradient(135deg, rgba(34,197,94,0.1), rgba(34,197,94,0.05)); border-radius: 8px; border: 1px solid rgba(34,197,94,0.3);">
                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                    <span style="font-size: 1.5rem;">ü•à</span>
                                    <div>
                                        <div style="font-weight: 600;">BTC</div>
                                        <div style="font-size: 0.8rem; color: var(--gray-400);">Score: 87/100</div>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-weight: 600; color: var(--green-400);">BUY</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">6 agents agree</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                    <span style="font-size: 1.5rem;">ü•â</span>
                                    <div>
                                        <div style="font-weight: 600;">GLD</div>
                                        <div style="font-size: 0.8rem; color: var(--gray-400);">Score: 78/100</div>
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-weight: 600; color: var(--cyan-400);">ACCUMULATE</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">5 agents agree</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Automated Reports -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">ü§ñ Automated AI Reports (3x Daily)</h3>
                    <div class="three-col-grid" style="margin-bottom: 1rem;">
                        <div class="stat-card"><div class="stat-header"><span class="stat-label">Morning Report</span><span class="stat-icon">üåÖ</span></div><div class="stat-value small">08:00 UTC</div><div class="stat-change positive">‚úì Delivered</div></div>
                        <div class="stat-card"><div class="stat-header"><span class="stat-label">Midday Report</span><span class="stat-icon">‚òÄÔ∏è</span></div><div class="stat-value small">14:00 UTC</div><div class="stat-change positive">‚úì Delivered</div></div>
                        <div class="stat-card"><div class="stat-header"><span class="stat-label">Evening Report</span><span class="stat-icon">üåô</span></div><div class="stat-value small">20:00 UTC</div><div class="stat-change neutral">Pending</div></div>
                    </div>
                    <div id="automated-reports-list"></div>
                </div>
            </div>
            
            <!-- ==================== AGENT MONITORING PAGE ==================== -->
            <div class="page" id="page-agent-monitoring">
                <!-- Overview Stats -->
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Agents</span><span class="stat-icon">ü§ñ</span></div><div class="stat-value">96</div><div class="stat-change positive">73 Active, 23 Dev</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Avg Health Score</span><span class="stat-icon">üíö</span></div><div class="stat-value" style="color: var(--green-400);">94.2%</div><div class="stat-change positive">+2.1% vs last week</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Anomalies Detected</span><span class="stat-icon">üéØ</span></div><div class="stat-value" id="anomaly-count">2</div><div class="stat-change neutral" style="color: var(--yellow-400);">Under review</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">System Uptime</span><span class="stat-icon">‚è±Ô∏è</span></div><div class="stat-value">99.97%</div><div class="stat-change positive">30-day average</div></div>
                </div>
                
                <!-- Agent Health Scoring Section -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üè• Agent Health Scoring Dashboard</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <select class="control-select" id="health-phase-filter" onchange="filterHealthByPhase()">
                                <option value="all">All Phases</option>
                                <option value="phase0">Phase 0: Core</option>
                                <option value="phase1">Phase 1: Data</option>
                                <option value="phase2">Phase 2: Execution</option>
                                <option value="phase3">Phase 3: Risk</option>
                                <option value="phase4">Phase 4: Strategy</option>
                                <option value="phase5">Phase 5: Operations</option>
                            </select>
                            <button class="control-btn secondary" onclick="refreshAgentHealth()">üîÑ Refresh</button>
                            <button class="control-btn" onclick="generateAgentHealthReport()">üìÑ Generate Health Report</button>
                        </div>
                    </div>
                    <div class="stats-grid" style="grid-template-columns: repeat(6, 1fr); margin-bottom: 1.5rem;">
                        <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(34,197,94,0.2), rgba(34,197,94,0.1)); border-radius: 10px; border: 1px solid rgba(34,197,94,0.3);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--green-400);" id="health-grade-a">45</div>
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Grade A (90-100%)</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(74,222,128,0.2), rgba(74,222,128,0.1)); border-radius: 10px; border: 1px solid rgba(74,222,128,0.3);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--green-400);" id="health-grade-b">18</div>
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Grade B (80-89%)</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(250,204,21,0.2), rgba(250,204,21,0.1)); border-radius: 10px; border: 1px solid rgba(250,204,21,0.3);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--yellow-400);" id="health-grade-c">7</div>
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Grade C (70-79%)</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(251,146,60,0.2), rgba(251,146,60,0.1)); border-radius: 10px; border: 1px solid rgba(251,146,60,0.3);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--orange-400);" id="health-grade-d">3</div>
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Grade D (60-69%)</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(239,68,68,0.2), rgba(239,68,68,0.1)); border-radius: 10px; border: 1px solid rgba(239,68,68,0.3);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--red-400);" id="health-grade-f">0</div>
                            <div style="font-size: 0.8rem; color: var(--gray-400);">Grade F (&lt;60%)</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--navy-700); border-radius: 10px; border: 1px solid var(--navy-600);">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--gray-400);" id="health-in-dev">23</div>
                            <div style="font-size: 0.8rem; color: var(--gray-400);">In Development</div>
                        </div>
                    </div>
                    <div id="agent-health-details" style="max-height: 400px; overflow-y: auto;"></div>
                </div>
                
                <!-- Agent Anomaly Detection -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üîç Agent Anomaly Detection</h3>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.85rem; color: var(--gray-400);">ML Monitoring Active</span>
                            </div>
                            <span style="padding: 0.25rem 0.75rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.85rem;" id="anomaly-badge">2 Anomalies</span>
                        </div>
                    </div>
                    <div id="anomaly-detection-content">
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: linear-gradient(135deg, rgba(250,204,21,0.1), rgba(250,204,21,0.05)); border-radius: 10px; border: 1px solid rgba(250,204,21,0.3);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
                                    <div>
                                        <div style="font-weight: 600;">Latency Spike - Smart Order Router (#53)</div>
                                        <div style="font-size: 0.85rem; color: var(--gray-400);">Response time 3.2x above baseline (24ms vs 7.5ms avg)</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <span style="font-size: 0.85rem; color: var(--gray-400);">12 min ago</span>
                                    <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="investigateAnomaly(53)">Investigate</button>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: linear-gradient(135deg, rgba(250,204,21,0.1), rgba(250,204,21,0.05)); border-radius: 10px; border: 1px solid rgba(250,204,21,0.3);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
                                    <div>
                                        <div style="font-weight: 600;">Memory Usage - Kafka Stream Processor (#46)</div>
                                        <div style="font-size: 0.85rem; color: var(--gray-400);">Memory usage at 78% (threshold: 75%)</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <span style="font-size: 0.85rem; color: var(--gray-400);">28 min ago</span>
                                    <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="investigateAnomaly(46)">Investigate</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Live Agent Alerts -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üö® Live Agent Alerts</h3>
                        <div style="display: flex; gap: 0.5rem;">
                            <span style="padding: 0.25rem 0.5rem; background: rgba(239,68,68,0.2); color: var(--red-400); border-radius: 4px; font-size: 0.75rem;">1 Critical</span>
                            <span style="padding: 0.25rem 0.5rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.75rem;">3 Warning</span>
                            <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">12 Info</span>
                        </div>
                    </div>
                    <div id="live-agent-alerts" style="max-height: 300px; overflow-y: auto;">
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--red-400);">
                                <span style="font-size: 1.25rem;">üî¥</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">Connection Lost - Deribit Connector (#13)</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">WebSocket disconnected, attempting reconnect...</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">2 min ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--yellow-400);">
                                <span style="font-size: 1.25rem;">üü°</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">High CPU Usage - Technical Agent (#3)</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">CPU at 85% during pattern recognition scan</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">5 min ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--yellow-400);">
                                <span style="font-size: 1.25rem;">üü°</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">Rate Limit Warning - Twitter/X Analyzer (#34)</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Approaching API rate limit (85% utilized)</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">8 min ago</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--navy-700); border-radius: 8px; border-left: 3px solid var(--green-400);">
                                <span style="font-size: 1.25rem;">üü¢</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 0.9rem;">Auto-Scaling Complete - Data Cluster</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Scaled from 6 to 8 nodes successfully</div>
                                </div>
                                <span style="font-size: 0.8rem; color: var(--gray-500);">15 min ago</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Performance & Alpha Charts -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card"><h3 class="card-title">üìà Agent Performance Trends</h3><div class="chart-container"><canvas id="monitoringTrendChart"></canvas></div></div>
                    <div class="card"><h3 class="card-title">üí∞ Alpha Attribution by Agent</h3><div class="chart-container"><canvas id="alphaChart"></canvas></div></div>
                </div>
                
                <!-- Detailed Agent Upgrade Recommendations -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">‚¨ÜÔ∏è Detailed Agent Upgrade Recommendations</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <span style="padding: 0.25rem 0.75rem; background: rgba(251,146,60,0.2); color: var(--orange-400); border-radius: 4px; font-size: 0.85rem;" id="pending-upgrades-badge">8 Pending</span>
                            <button class="control-btn secondary" onclick="viewAllUpgrades()">View All</button>
                        </div>
                    </div>
                    <div id="monitoring-upgrade-recommendations" style="max-height: 350px; overflow-y: auto;"></div>
                </div>
                
                <!-- Monitoring Agents Grid -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üîç Phase 3: Monitoring Suite (10 Agents)</h3>
                    <div class="agents-grid" id="monitoring-agents-grid"></div>
                </div>
            </div>
            
            <!-- ==================== DEFI PROTOCOLS PAGE ==================== -->
            <div class="page" id="page-defi-protocols">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 4: DeFi Protocols - In Development</h3><p style="color: var(--gray-400);">6 agents ‚Ä¢ Weeks 1-3 ‚Ä¢ ~36,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">üî∑ DeFi Protocol Agents (6)</h3><div class="agents-grid" id="defi-agents-grid"></div></div>
            </div>
            
            <!-- ==================== ADVANCED ANALYTICS PAGE ==================== -->
            <div class="page" id="page-advanced-analytics">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 4: Advanced Analytics - In Development</h3><p style="color: var(--gray-400);">6 agents ‚Ä¢ Weeks 4-6 ‚Ä¢ ~36,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">üßÆ Analytics Agents (6)</h3><div class="agents-grid" id="analytics-agents-grid"></div></div>
            </div>
            
            <!-- ==================== OPERATIONS PAGE ==================== -->
            <div class="page" id="page-operations">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 5: Operations - In Development</h3><p style="color: var(--gray-400);">5 agents ‚Ä¢ Weeks 7-9 ‚Ä¢ ~30,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">‚öôÔ∏è Operations Agents (5)</h3><div class="agents-grid" id="operations-agents-grid"></div></div>
            </div>
            
            <!-- ==================== COMPLIANCE AGENTS PAGE ==================== -->
            <div class="page" id="page-compliance-agents">
                <div class="card gradient-card" style="margin-bottom: 1.5rem;"><div style="display: flex; align-items: center; gap: 1rem;"><span style="font-size: 2rem;">üöß</span><div><h3>Phase 5: Compliance - In Development</h3><p style="color: var(--gray-400);">6 agents ‚Ä¢ Weeks 10-12 ‚Ä¢ ~36,000 lines</p></div></div></div>
                <div class="card"><h3 class="card-title">üìã Compliance Agents (6)</h3><div class="agents-grid" id="compliance-agents-grid"></div></div>
            </div>
            
            <!-- ==================== AUDITING PAGE ==================== -->
            <div class="page" id="page-auditing">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Last Daily Audit</span><span class="stat-icon">üìÖ</span></div><div class="stat-value small">Today 06:00</div><div class="stat-change positive">‚úì Passed</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Last Monthly Audit</span><span class="stat-icon">üìÜ</span></div><div class="stat-value small">Dec 1, 2025</div><div class="stat-change positive">‚úì Passed</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Quarterly Audit</span><span class="stat-icon">üìä</span></div><div class="stat-value small">Oct 1, 2025</div><div class="stat-change positive">‚úì Passed</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Compliance Score</span><span class="stat-icon">‚úÖ</span></div><div class="stat-value small">98.7%</div><div class="stat-change positive">SOC 2 Type II</div></div>
                </div>
                
                <!-- On-Demand Audit Generation -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">üìã On-Demand Audit Generation</h3>
                            <p style="font-size: 0.85rem; color: var(--gray-400); margin: 0;">Generate comprehensive audits with options to send to shareholders</p>
                        </div>
                        <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                            <select class="control-select" id="audit-type" style="min-width: 180px;">
                                <option value="full">Full Portfolio Audit</option>
                                <option value="reconciliation">Reconciliation Audit</option>
                                <option value="compliance">Compliance Audit</option>
                                <option value="performance">Performance Audit</option>
                                <option value="risk">Risk Assessment Audit</option>
                                <option value="tax">Tax Lot Audit</option>
                                <option value="custody">Custody Verification</option>
                                <option value="agent">Agent System Audit</option>
                            </select>
                            <button class="control-btn" onclick="generateAudit()">üìã Generate Audit</button>
                            <button class="control-btn secondary" onclick="sendToShareholders()">üìß Send to All Shareholders</button>
                        </div>
                    </div>
                </div>
                
                <!-- Report Generation -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìÑ Quarterly & Annual Reports</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Q4 2025 Report</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">In Progress</div>
                                </div>
                                <span style="padding: 0.25rem 0.75rem; background: rgba(250,204,21,0.2); color: var(--yellow-400); border-radius: 4px; font-size: 0.8rem;">Drafting</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Q3 2025 Report</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">Published Oct 15, 2025</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="downloadReport('Q3-2025')">üì• Download</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">2024 Annual Report</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">Published Feb 28, 2025</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="downloadReport('Annual-2024')">üì• Download</button>
                            </div>
                        </div>
                        <div style="margin-top: 1rem; display: flex; gap: 0.75rem;">
                            <button class="control-btn" onclick="generateQuarterlyReport()">üìä Generate Quarterly</button>
                            <button class="control-btn secondary" onclick="generateAnnualReport()">üìà Generate Annual</button>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üíæ Database & Trading Data Backups</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Last Full Backup</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">Dec 4, 2025 00:00 UTC</div>
                                </div>
                                <span style="padding: 0.25rem 0.75rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.8rem;">‚úì Complete</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Trading Data Archive</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">142,850 trades ‚Ä¢ 2.4 GB</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="exportTradingData()">üì• Export</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Agent Logs Archive</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">96 agents ‚Ä¢ 8.2 GB</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="exportAgentLogs()">üì• Export</button>
                            </div>
                        </div>
                        <div style="margin-top: 1rem; display: flex; gap: 0.75rem;">
                            <button class="control-btn" onclick="runFullBackup()">üíæ Run Full Backup</button>
                            <button class="control-btn secondary" onclick="scheduleBackup()">üìÖ Schedule</button>
                        </div>
                    </div>
                </div>
                
                <!-- Audit Schedule & Recent Audits -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üìÖ Automated Audit Schedule</h3>
                        <div id="audit-schedule">
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                        <span style="font-weight: 600;">Daily Audit</span>
                                        <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                    </div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">Runs every day at 06:00 UTC</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">‚Ä¢ Position reconciliation ‚Ä¢ NAV calculation ‚Ä¢ Trade verification</div>
                                </div>
                                <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                        <span style="font-weight: 600;">Weekly Audit</span>
                                        <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                    </div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">Runs every Sunday at 00:00 UTC</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">‚Ä¢ Risk limit review ‚Ä¢ Agent health check ‚Ä¢ Fee calculation</div>
                                </div>
                                <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                        <span style="font-weight: 600;">Quarterly Audit</span>
                                        <span style="padding: 0.25rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Active</span>
                                    </div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">Runs 1st of Jan, Apr, Jul, Oct</div>
                                    <div style="font-size: 0.85rem; color: var(--gray-400);">‚Ä¢ Full compliance ‚Ä¢ External audit prep ‚Ä¢ SOC 2 controls</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìú Recent Audit Reports</h3>
                        <div id="audit-reports-list" style="max-height: 350px; overflow-y: auto;"></div>
                    </div>
                </div>
                
                <!-- Audit Metrics -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">üìä Audit Metrics & Reconciliation</h3>
                    <div class="three-col-grid">
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">Position Reconciliation</h4>
                            <div id="position-reconciliation"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">Cash & Custody Verification</h4>
                            <div id="cash-verification"></div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">Compliance Checks</h4>
                            <div id="compliance-checks"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Generated Audit Display -->
                <div class="card" style="margin-top: 1.5rem;" id="audit-report-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìã Generated Audit Report</h3>
                        <span style="font-size: 0.85rem; color: var(--gray-400);" id="audit-timestamp">--</span>
                    </div>
                    <div id="audit-report-content">
                        <div style="text-align: center; padding: 2rem; color: var(--gray-500);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üìã</div>
                            <p>Select an audit type and click "Generate Audit" to create a comprehensive report</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ==================== SECURITY PAGE ==================== -->
            <div class="page" id="page-security">
                <div class="stats-grid">
                    <div class="stat-card" style="border-left: 4px solid var(--green-400);"><div class="stat-header"><span class="stat-label">System Status</span><span class="stat-icon">üõ°Ô∏è</span></div><div class="stat-value small" style="color: var(--green-400);">SECURE</div><div class="stat-change positive">All systems nominal</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Threats Blocked (24h)</span><span class="stat-icon">üö´</span></div><div class="stat-value small">1,247</div><div class="stat-change neutral">+12% vs avg</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Active Alerts</span><span class="stat-icon">‚ö†Ô∏è</span></div><div class="stat-value small">3</div><div class="stat-change neutral">2 Low, 1 Medium</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Uptime</span><span class="stat-icon">‚è±Ô∏è</span></div><div class="stat-value small">99.99%</div><div class="stat-change positive">Last 30 days</div></div>
                </div>
                
                <!-- Security Overview Dashboard -->
                <div class="stats-grid" style="margin-top: 1rem;">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">SSL/TLS Status</span><span class="stat-icon">üîí</span></div><div class="stat-value small" style="color: var(--green-400);">A+</div><div class="stat-change positive">Perfect score</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Firewall Rules</span><span class="stat-icon">üß±</span></div><div class="stat-value small">2,847</div><div class="stat-change positive">All enforced</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Failed Logins (24h)</span><span class="stat-icon">üîê</span></div><div class="stat-value small">14</div><div class="stat-change neutral">All blocked</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Last Pentest</span><span class="stat-icon">üîç</span></div><div class="stat-value small">Nov 15</div><div class="stat-change positive">0 Critical</div></div>
                </div>
                
                <!-- Threat Detection & Anomalies -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="card-title" style="margin-bottom: 0;">üî¥ Real-Time Threat Detection</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div class="status-dot"></div>
                                <span style="font-size: 0.85rem; color: var(--gray-400);">Monitoring Active</span>
                            </div>
                        </div>
                        <div id="threat-feed" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üîç Anomaly Detection</h3>
                        <div id="anomaly-detection"></div>
                    </div>
                </div>
                
                <!-- DDoS Protection & MEV/Front-Running -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üåê DDoS Protection Status</h3>
                        <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr); margin-bottom: 1rem;">
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--green-400);">Active</div>
                                <div style="font-size: 0.85rem; color: var(--gray-400);">CloudFlare Shield</div>
                            </div>
                            <div style="padding: 1rem; background: var(--navy-700); border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700;">2.4 Tbps</div>
                                <div style="font-size: 0.85rem; color: var(--gray-400);">Mitigation Capacity</div>
                            </div>
                        </div>
                        <div id="ddos-metrics"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">‚ö° MEV & Front-Running Detection</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Flashbots Protect</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚úì Active</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>MEV Attacks Blocked (24h)</span>
                                <span style="font-weight: 600;">42</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Sandwich Attacks Prevented</span>
                                <span style="font-weight: 600;">18</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Private Mempool</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚úì Enabled</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Wallet Tracking & Smart Contract Security -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üëõ Company Wallet Tracking</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <button class="control-btn secondary" onclick="addWallet()">‚ûï Add Wallet</button>
                            <button class="control-btn secondary" onclick="refreshWallets()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="wallet-tracking-table">
                            <thead>
                                <tr>
                                    <th>Wallet Name</th>
                                    <th>Address</th>
                                    <th>Network</th>
                                    <th>Balance</th>
                                    <th>Last Activity</th>
                                    <th>Multi-Sig</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="wallet-tracking-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- API Key Management & Encryption -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîë API Key Security</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Active API Keys</span>
                                <span style="font-weight: 600;">12</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Keys Expiring (30d)</span>
                                <span style="font-weight: 600; color: var(--yellow-400);">3</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Key Rotation Interval</span>
                                <span style="font-weight: 600;">90 days</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>HSM Protection</span>
                                <span style="color: var(--green-400); font-weight: 600;">‚úì Enabled</span>
                            </div>
                        </div>
                        <button class="control-btn" style="margin-top: 1rem; width: 100%;" onclick="rotateApiKeys()">üîÑ Rotate All Keys</button>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üîê Encryption Status</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Data at Rest</span>
                                <span style="color: var(--green-400); font-weight: 600;">AES-256 ‚úì</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Data in Transit</span>
                                <span style="color: var(--green-400); font-weight: 600;">TLS 1.3 ‚úì</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Key Management</span>
                                <span style="color: var(--green-400); font-weight: 600;">AWS KMS ‚úì</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Cold Storage Keys</span>
                                <span style="color: var(--green-400); font-weight: 600;">Air-Gapped ‚úì</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Security Notifications & Access Log -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîî Security Notifications</h3>
                        <div id="security-notifications" style="max-height: 250px; overflow-y: auto;"></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä Security Metrics (24h)</h3>
                        <div id="security-metrics"></div>
                    </div>
                </div>
                
                <!-- Access Control Log -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üîí Access Control & Authentication Log</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <select class="control-select" id="access-log-filter">
                                <option value="all">All Events</option>
                                <option value="login">Logins Only</option>
                                <option value="failed">Failed Attempts</option>
                                <option value="critical">Critical Actions</option>
                            </select>
                            <button class="control-btn secondary" onclick="exportAccessLog()">üì• Export Log</button>
                        </div>
                    </div>
                    <div id="access-log" style="max-height: 300px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <!-- ==================== ADMIN PAGE ==================== -->
            <div class="page" id="page-admin">
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Total Users</span><span class="stat-icon">üë•</span></div><div class="stat-value">24</div><div class="stat-change positive">+3 this month</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">Active Sessions</span><span class="stat-icon">üü¢</span></div><div class="stat-value">18</div><div class="stat-change neutral">Online now</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">API Keys</span><span class="stat-icon">üîë</span></div><div class="stat-value">12</div><div class="stat-change neutral">3 expiring</div></div>
                    <div class="stat-card"><div class="stat-header"><span class="stat-label">System Health</span><span class="stat-icon">üíö</span></div><div class="stat-value" style="color: var(--green-400);">99.99%</div><div class="stat-change positive">All operational</div></div>
                </div>
                
                <!-- User Management -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üë• User Management</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <select class="control-select" id="user-role-filter">
                                <option value="all">All Roles</option>
                                <option value="admin">Administrators</option>
                                <option value="trader">Traders</option>
                                <option value="analyst">Analysts</option>
                                <option value="investor">Investors</option>
                                <option value="readonly">Read-Only</option>
                            </select>
                            <button class="control-btn" onclick="openAddUserModal()">‚ûï Add User</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table" id="users-table">
                            <thead><tr><th>User</th><th>Email</th><th>Role</th><th>Department</th><th>Status</th><th>2FA</th><th>Last Login</th><th>Actions</th></tr></thead>
                            <tbody id="users-table-body"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Role Permissions & Access Control -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üîê Role Permissions</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Administrator</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Full system access</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="editRole('admin')">Edit</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Trader</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Trading, portfolio, research access</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="editRole('trader')">Edit</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Analyst</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Research, analytics, read-only portfolio</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="editRole('analyst')">Edit</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Investor</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Investor portal only</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="editRole('investor')">Edit</button>
                            </div>
                        </div>
                        <button class="control-btn secondary" style="margin-top: 1rem; width: 100%;" onclick="createCustomRole()">‚ûï Create Custom Role</button>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìä User Activity Summary</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Logins Today</span>
                                <span style="font-weight: 600;">42</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Failed Login Attempts</span>
                                <span style="font-weight: 600; color: var(--yellow-400);">3</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Password Resets (7d)</span>
                                <span style="font-weight: 600;">2</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>2FA Enrollments</span>
                                <span style="font-weight: 600; color: var(--green-400);">24/24 (100%)</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <span>Avg Session Duration</span>
                                <span style="font-weight: 600;">4h 32m</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- System Settings -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="card-title">‚öôÔ∏è System Configuration</h3>
                    <div class="three-col-grid">
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">Trading Parameters</h4>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Max Order Size</label>
                                    <input type="text" class="control-input" value="$10,000,000">
                                </div>
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Daily Trading Limit</label>
                                    <input type="text" class="control-input" value="$500,000,000">
                                </div>
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Risk Check Interval</label>
                                    <select class="control-select"><option>Real-time</option><option>1 minute</option><option>5 minutes</option></select>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">Agent System</h4>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Agent Auto-Restart</label>
                                    <select class="control-select"><option>Enabled</option><option>Disabled</option><option>Manual Approval</option></select>
                                </div>
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Health Check Interval</label>
                                    <select class="control-select"><option>30 seconds</option><option selected>1 minute</option><option>5 minutes</option></select>
                                </div>
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Log Retention</label>
                                    <select class="control-select"><option>7 days</option><option selected>30 days</option><option>90 days</option><option>1 year</option></select>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 style="font-size: 0.85rem; color: var(--gray-400); margin-bottom: 1rem;">Notifications</h4>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Email Alerts</label>
                                    <select class="control-select"><option selected>Critical Only</option><option>All Alerts</option><option>Disabled</option></select>
                                </div>
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">Slack Integration</label>
                                    <select class="control-select"><option selected>Enabled</option><option>Disabled</option></select>
                                </div>
                                <div class="control-group" style="margin-bottom: 0;">
                                    <label class="control-label">SMS Alerts</label>
                                    <select class="control-select"><option selected>Critical Only</option><option>Disabled</option></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem; display: flex; gap: 0.75rem;">
                        <button class="control-btn" onclick="saveSystemSettings()">üíæ Save Settings</button>
                        <button class="control-btn secondary" onclick="resetSystemSettings()">‚Ü©Ô∏è Reset to Default</button>
                        <button class="control-btn secondary" onclick="exportSettings()">üì• Export Config</button>
                    </div>
                </div>
                
                <!-- System Health & Maintenance -->
                <div class="two-col-grid" style="margin-top: 1.5rem;">
                    <div class="card">
                        <h3 class="card-title">üíª System Health</h3>
                        <div id="system-health">
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                    <span>Primary Database</span>
                                    <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                    <span>Redis Cache</span>
                                    <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                    <span>Message Queue</span>
                                    <span style="color: var(--green-400); font-weight: 600;">‚óè Healthy</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                    <span>Agent Cluster</span>
                                    <span style="color: var(--green-400); font-weight: 600;">‚óè 96/96 Running</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                    <span>API Gateway</span>
                                    <span style="color: var(--green-400); font-weight: 600;">‚óè 12ms latency</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üîß Maintenance & Tasks</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Database Optimization</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Last run: 2 days ago</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="runDbOptimization()">Run Now</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Cache Clear</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">2.4 GB cached</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="clearCache()">Clear</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">Log Cleanup</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">8.2 GB logs older than 30d</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem;" onclick="cleanupLogs()">Cleanup</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--navy-700); border-radius: 8px;">
                                <div>
                                    <div style="font-weight: 600;">System Restart</div>
                                    <div style="font-size: 0.8rem; color: var(--gray-400);">Uptime: 45 days</div>
                                </div>
                                <button class="control-btn secondary" style="padding: 0.4rem 0.75rem; font-size: 0.8rem; background: rgba(239,68,68,0.2); color: var(--red-400);" onclick="scheduleRestart()">Schedule</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- API Management -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üîë API Key Management</h3>
                        <button class="control-btn" onclick="generateApiKey()">‚ûï Generate New Key</button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead><tr><th>Key Name</th><th>Key (Partial)</th><th>Permissions</th><th>Created</th><th>Expires</th><th>Last Used</th><th>Actions</th></tr></thead>
                            <tbody id="api-keys-body">
                                <tr>
                                    <td><span style="font-weight: 600;">Production Trading</span></td>
                                    <td><code style="background: var(--navy-600); padding: 0.25rem 0.5rem; border-radius: 4px;">mc_prod_****7x9k</code></td>
                                    <td><span style="padding: 0.2rem 0.5rem; background: rgba(34,197,94,0.2); color: var(--green-400); border-radius: 4px; font-size: 0.75rem;">Full Access</span></td>
                                    <td>Oct 15, 2025</td>
                                    <td>Jan 15, 2026</td>
                                    <td>2 min ago</td>
                                    <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Revoke</button></td>
                                </tr>
                                <tr>
                                    <td><span style="font-weight: 600;">Read-Only Analytics</span></td>
                                    <td><code style="background: var(--navy-600); padding: 0.25rem 0.5rem; border-radius: 4px;">mc_read_****3m2p</code></td>
                                    <td><span style="padding: 0.2rem 0.5rem; background: rgba(34,211,238,0.2); color: var(--cyan-400); border-radius: 4px; font-size: 0.75rem;">Read Only</span></td>
                                    <td>Nov 1, 2025</td>
                                    <td>Feb 1, 2026</td>
                                    <td>1 hour ago</td>
                                    <td><button class="control-btn secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Revoke</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Audit Trail -->
                <div class="card" style="margin-top: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="card-title" style="margin-bottom: 0;">üìú Admin Audit Trail</h3>
                        <div style="display: flex; gap: 0.75rem;">
                            <select class="control-select" id="audit-action-filter">
                                <option value="all">All Actions</option>
                                <option value="user">User Changes</option>
                                <option value="settings">Settings Changes</option>
                                <option value="security">Security Events</option>
                            </select>
                            <button class="control-btn secondary" onclick="exportAuditTrail()">üì• Export</button>
                        </div>
                    </div>
                    <div id="admin-audit-trail" style="max-height: 300px; overflow-y: auto;"></div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Modals -->
    <div class="modal-overlay" id="agent-modal"><div class="modal"><div class="modal-header"><h2 class="modal-title" id="modal-agent-title">Agent Details</h2><button class="modal-close" onclick="closeAgentModal()">√ó</button></div><div id="modal-agent-content"></div></div></div>
    <div class="modal-overlay" id="bulk-upgrade-modal"><div class="modal"><div class="modal-header"><h2 class="modal-title">‚¨ÜÔ∏è Bulk Agent Upgrade</h2><button class="modal-close" onclick="closeBulkUpgradeModal()">√ó</button></div><div id="bulk-upgrade-content"></div></div></div>

    <script>
        // ============================================
        // ALL DATA
        // ============================================
        
        // Assets
        const assets = [
            { symbol: 'SOL', name: 'Solana', class: 'Crypto', price: 98.42, change: 4.2, allocation: 32.5, value: 2960000000, pnl: 2480000000 },
            { symbol: 'BTC', name: 'Bitcoin', class: 'Crypto', price: 97842.50, change: 1.8, allocation: 14.2, value: 1293000000, pnl: 485000000 },
            { symbol: 'ETH', name: 'Ethereum', class: 'Crypto', price: 3542.80, change: 2.1, allocation: 9.8, value: 893000000, pnl: 312000000 },
            { symbol: 'XRP', name: 'XRP', class: 'Crypto', price: 1.42, change: 3.5, allocation: 4.2, value: 383000000, pnl: 142000000 },
            { symbol: 'BNB', name: 'BNB', class: 'Crypto', price: 642.30, change: 1.2, allocation: 3.2, value: 291000000, pnl: 98000000 },
            { symbol: 'ADA', name: 'Cardano', class: 'Crypto', price: 0.62, change: 2.8, allocation: 2.1, value: 191000000, pnl: 52000000 },
            { symbol: 'XLM', name: 'Stellar', class: 'Crypto', price: 0.38, change: 1.5, allocation: 1.4, value: 127000000, pnl: 28000000 },
            { symbol: 'USDT', name: 'Tether', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 6.8, value: 619000000, pnl: 0 },
            { symbol: 'USDC', name: 'USDC', class: 'Stablecoin', price: 1.00, change: 0.0, allocation: 5.2, value: 474000000, pnl: 0 },
            { symbol: 'SPY', name: 'S&P 500', class: 'Equity', price: 598.42, change: 0.4, allocation: 5.2, value: 474000000, pnl: 85000000 },
            { symbol: 'QQQ', name: 'Nasdaq 100', class: 'Equity', price: 518.25, change: 0.6, allocation: 2.8, value: 255000000, pnl: 48000000 },
            { symbol: 'TLT', name: 'Treasury Bonds', class: 'Fixed Income', price: 92.15, change: -0.2, allocation: 4.8, value: 437000000, pnl: 22000000 },
            { symbol: 'GLD', name: 'Gold', class: 'Commodity', price: 242.80, change: 0.8, allocation: 3.2, value: 291000000, pnl: 45000000 },
            { symbol: 'SLV', name: 'Silver', class: 'Commodity', price: 28.42, change: 1.2, allocation: 1.5, value: 137000000, pnl: 18000000 },
            { symbol: 'USO', name: 'Oil', class: 'Commodity', price: 72.85, change: -0.8, allocation: 1.2, value: 109000000, pnl: -12000000 },
            { symbol: 'VNQ', name: 'Real Estate', class: 'REIT', price: 94.20, change: 0.3, allocation: 1.4, value: 127000000, pnl: 15000000 },
            { symbol: 'VIX', name: 'Volatility', class: 'Derivative', price: 14.82, change: -2.4, allocation: 0.5, value: 46000000, pnl: 8000000 }
        ];
        
        const allocationData = [
            { name: 'Crypto', value: 67.4, color: '#8B5CF6' },
            { name: 'Stablecoins', value: 12.0, color: '#6B7280' },
            { name: 'Equities', value: 8.0, color: '#22C55E' },
            { name: 'Fixed Income', value: 4.8, color: '#0EA5E9' },
            { name: 'Commodities', value: 5.9, color: '#EAB308' },
            { name: 'Other', value: 1.9, color: '#EC4899' }
        ];
        
        const cryptoVenues = [
            { name: 'Jupiter', volume: 2.84, trades: 12450, fillRate: 99.2, icon: 'ü™ê' },
            { name: 'Binance', volume: 1.85, trades: 8920, fillRate: 99.8, icon: 'üî∂' },
            { name: 'Coinbase', volume: 0.92, trades: 4210, fillRate: 99.5, icon: 'üîµ' },
            { name: 'Kraken', volume: 0.68, trades: 3280, fillRate: 99.4, icon: 'ü¶ë' },
            { name: 'OKX', volume: 0.52, trades: 2450, fillRate: 99.1, icon: '‚≠ï' },
            { name: 'Deribit', volume: 0.38, trades: 2100, fillRate: 98.8, icon: 'üìä' }
        ];
        
        const tradfiVenues = [
            { name: 'NASDAQ', volume: 1.24, trades: 4850, fillRate: 99.9, icon: 'üìà' },
            { name: 'NYSE', volume: 0.98, trades: 3920, fillRate: 99.9, icon: 'üèõÔ∏è' },
            { name: 'CME', volume: 0.45, trades: 1850, fillRate: 99.7, icon: 'üåæ' },
            { name: 'IBKR', volume: 0.28, trades: 980, fillRate: 99.9, icon: 'üè¶' }
        ];
        
        const benchmarks = [
            { name: 'Maxam Capital', y1: 82.15, y3: 52.4, y5: 62.8, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'S&P 500', y1: 26.2, y3: 10.8, y5: 11.5, sharpe: 0.65, maxDD: -24.5 },
            { name: 'NASDAQ 100', y1: 32.5, y3: 15.2, y5: 14.8, sharpe: 0.72, maxDD: -33.0 },
            { name: 'Bitcoin', y1: 85.2, y3: 32.5, y5: 28.5, sharpe: 0.62, maxDD: -77.0 },
            { name: 'Gold', y1: 12.2, y3: 7.2, y5: 6.8, sharpe: 0.42, maxDD: -18.4 },
            { name: 'Hedge Fund Index', y1: 9.5, y3: 7.8, y5: 6.2, sharpe: 0.72, maxDD: -18.5 }
        ];
        
        const investorComparisons = [
            { name: 'Maxam Capital', ytd: 82.15, y1: 82.15, y3: 52.4, vol: 28.4, sharpe: 2.87, maxDD: -5.7, highlight: true },
            { name: 'Hedge Fund Index', ytd: 8.2, y1: 9.5, y3: 7.8, vol: 12.5, sharpe: 0.72, maxDD: -18.5 },
            { name: 'S&P 500', ytd: 24.5, y1: 26.2, y3: 10.8, vol: 15.8, sharpe: 0.65, maxDD: -24.5 },
            { name: 'Bitcoin', ytd: 62.4, y1: 85.2, y3: 32.5, vol: 72.5, sharpe: 0.62, maxDD: -77.0 },
            { name: 'Gold', ytd: 8.5, y1: 12.2, y3: 7.2, vol: 14.2, sharpe: 0.42, maxDD: -18.4 }
        ];
        
        const riskLimits = [
            { name: 'Portfolio VaR', current: 0.9, limit: 2.0 },
            { name: 'Single Position', current: 32.5, limit: 35.0 },
            { name: 'Gross Leverage', current: 1.8, limit: 3.0 },
            { name: 'Crypto Exposure', current: 67.4, limit: 85.0 },
            { name: 'Counterparty', current: 18.5, limit: 25.0 },
            { name: 'Illiquid Assets', current: 4.2, limit: 10.0 }
        ];
        
        // 96 Agents (abbreviated for space - full list in actual implementation)
        const allAgents = [];
        
        // Phase 0: Core (7)
        const phase0 = [
            { id: 1, agentId: '#1', name: 'Sentiment Agent', phase: 'phase0', icon: 'üí≠', function: 'NLP/social analysis', lines: 7500, status: 'active' },
            { id: 2, agentId: '#2', name: 'Fundamental Agent', phase: 'phase0', icon: 'üìä', function: 'Valuation analysis', lines: 7200, status: 'active' },
            { id: 3, agentId: '#3', name: 'Technical Agent', phase: 'phase0', icon: 'üìà', function: '50+ indicators', lines: 8100, status: 'active' },
            { id: 4, agentId: '#4', name: 'Liquidity Agent', phase: 'phase0', icon: 'üíß', function: 'Order routing', lines: 6800, status: 'active' },
            { id: 5, agentId: '#5', name: 'Portfolio Agent', phase: 'phase0', icon: 'üéØ', function: 'Optimization', lines: 7100, status: 'active' },
            { id: 6, agentId: '#6', name: 'Risk Agent', phase: 'phase0', icon: 'üõ°Ô∏è', function: 'VaR/CVaR', lines: 7800, status: 'active' },
            { id: 7, agentId: '#7', name: 'Master Agent', phase: 'phase0', icon: 'üß†', function: 'Orchestration', lines: 5500, status: 'active' }
        ];
        
        // Phase 1: Data Intelligence (44 Agents)
        // CEX Connectors (8 agents: #8-15)
        const phase1CEX = [
            { id: 8, agentId: '#8', name: 'Binance Connector', phase: 'phase1', icon: 'üî∂', function: 'Binance OHLCV, orderbook, trades', lines: 2200, status: 'active' },
            { id: 9, agentId: '#9', name: 'Coinbase Connector', phase: 'phase1', icon: 'üîµ', function: 'Coinbase market data, WebSocket', lines: 2100, status: 'active' },
            { id: 10, agentId: '#10', name: 'Kraken Connector', phase: 'phase1', icon: 'ü¶ë', function: 'Kraken spot & futures data', lines: 2000, status: 'active' },
            { id: 11, agentId: '#11', name: 'OKX Connector', phase: 'phase1', icon: '‚≠ï', function: 'OKX derivatives & spot', lines: 1900, status: 'active' },
            { id: 12, agentId: '#12', name: 'Bybit Connector', phase: 'phase1', icon: 'üü°', function: 'Bybit perps & options', lines: 1850, status: 'active' },
            { id: 13, agentId: '#13', name: 'Deribit Connector', phase: 'phase1', icon: 'üìä', function: 'Options & futures data', lines: 2100, status: 'active' },
            { id: 14, agentId: '#14', name: 'KuCoin Connector', phase: 'phase1', icon: 'üü¢', function: 'KuCoin spot & margin', lines: 1800, status: 'active' },
            { id: 15, agentId: '#15', name: 'Gate.io Connector', phase: 'phase1', icon: 'üö™', function: 'Gate.io multi-chain data', lines: 1750, status: 'active' }
        ];
        
        // DEX Connectors (6 agents: #16-21)
        const phase1DEX = [
            { id: 16, agentId: '#16', name: 'Jupiter Connector', phase: 'phase1', icon: 'ü™ê', function: 'Solana DEX aggregator routes', lines: 2400, status: 'active' },
            { id: 17, agentId: '#17', name: 'Raydium Connector', phase: 'phase1', icon: '‚òÄÔ∏è', function: 'Raydium AMM & CLMM pools', lines: 2200, status: 'active' },
            { id: 18, agentId: '#18', name: 'Orca Connector', phase: 'phase1', icon: 'üêã', function: 'Orca whirlpools & swaps', lines: 2000, status: 'active' },
            { id: 19, agentId: '#19', name: 'Uniswap Connector', phase: 'phase1', icon: 'ü¶Ñ', function: 'Uniswap V2/V3 pools', lines: 2300, status: 'active' },
            { id: 20, agentId: '#20', name: 'Curve Connector', phase: 'phase1', icon: 'üîÑ', function: 'Curve stablecoin pools', lines: 1900, status: 'active' },
            { id: 21, agentId: '#21', name: 'PancakeSwap Connector', phase: 'phase1', icon: 'ü•û', function: 'BSC & multi-chain DEX', lines: 1850, status: 'active' }
        ];
        
        // TradFi Connectors (6 agents: #22-27)
        const phase1TradFi = [
            { id: 22, agentId: '#22', name: 'Bloomberg Connector', phase: 'phase1', icon: 'üìà', function: 'B-PIPE quotes, news, fundamentals', lines: 2500, status: 'active' },
            { id: 23, agentId: '#23', name: 'Refinitiv Connector', phase: 'phase1', icon: 'üì∞', function: 'Reuters news, TradFi data', lines: 2300, status: 'active' },
            { id: 24, agentId: '#24', name: 'CME Connector', phase: 'phase1', icon: 'üåæ', function: 'CME futures & options FIX', lines: 2400, status: 'active' },
            { id: 25, agentId: '#25', name: 'IBKR Connector', phase: 'phase1', icon: 'üè¶', function: 'Interactive Brokers API', lines: 2200, status: 'active' },
            { id: 26, agentId: '#26', name: 'SEC EDGAR Connector', phase: 'phase1', icon: 'üìã', function: '13F, insider trades, filings', lines: 1800, status: 'active' },
            { id: 27, agentId: '#27', name: 'FRED Connector', phase: 'phase1', icon: 'üèõÔ∏è', function: 'Fed economic indicators', lines: 1600, status: 'active' }
        ];
        
        // OnChain Processors (6 agents: #28-33)
        const phase1OnChain = [
            { id: 28, agentId: '#28', name: 'Helius Processor', phase: 'phase1', icon: '‚òÄÔ∏è', function: 'Solana transactions, webhooks', lines: 2100, status: 'active' },
            { id: 29, agentId: '#29', name: 'DefiLlama Processor', phase: 'phase1', icon: 'ü¶ô', function: 'TVL, protocol metrics', lines: 1900, status: 'active' },
            { id: 30, agentId: '#30', name: 'Dune Analytics Processor', phase: 'phase1', icon: 'üîÆ', function: 'On-chain analytics queries', lines: 2000, status: 'active' },
            { id: 31, agentId: '#31', name: 'Nansen Processor', phase: 'phase1', icon: 'üè∑Ô∏è', function: 'Wallet labels, smart money', lines: 2200, status: 'active' },
            { id: 32, agentId: '#32', name: 'Glassnode Processor', phase: 'phase1', icon: 'üîç', function: 'BTC/ETH on-chain metrics', lines: 1950, status: 'active' },
            { id: 33, agentId: '#33', name: 'Whale Alert Processor', phase: 'phase1', icon: 'üê≥', function: 'Large transaction monitoring', lines: 1700, status: 'active' }
        ];
        
        // Social Media Analyzers (6 agents: #34-39)
        const phase1Social = [
            { id: 34, agentId: '#34', name: 'Twitter/X Analyzer', phase: 'phase1', icon: 'üê¶', function: 'Crypto Twitter sentiment', lines: 2300, status: 'active' },
            { id: 35, agentId: '#35', name: 'Discord Analyzer', phase: 'phase1', icon: 'üí¨', function: 'Discord server monitoring', lines: 1800, status: 'active' },
            { id: 36, agentId: '#36', name: 'Telegram Analyzer', phase: 'phase1', icon: '‚úàÔ∏è', function: 'Telegram channel signals', lines: 1750, status: 'active' },
            { id: 37, agentId: '#37', name: 'Reddit Analyzer', phase: 'phase1', icon: 'ü§ñ', function: 'Reddit sentiment, WSB', lines: 1900, status: 'active' },
            { id: 38, agentId: '#38', name: 'StockTwits Analyzer', phase: 'phase1', icon: 'üíπ', function: 'TradFi social sentiment', lines: 1650, status: 'active' },
            { id: 39, agentId: '#39', name: 'YouTube Analyzer', phase: 'phase1', icon: 'üì∫', function: 'FinTube sentiment tracking', lines: 1600, status: 'active' }
        ];
        
        // Alternative Data (6 agents: #40-45)
        const phase1AltData = [
            { id: 40, agentId: '#40', name: 'GitHub Activity Monitor', phase: 'phase1', icon: 'üêô', function: 'Developer activity, commits', lines: 1700, status: 'active' },
            { id: 41, agentId: '#41', name: 'Satellite Data Processor', phase: 'phase1', icon: 'üõ∞Ô∏è', function: 'Commodity supply signals', lines: 1900, status: 'active' },
            { id: 42, agentId: '#42', name: 'Web Traffic Analyzer', phase: 'phase1', icon: 'üåê', function: 'SimilarWeb, app rankings', lines: 1650, status: 'active' },
            { id: 43, agentId: '#43', name: 'Job Postings Analyzer', phase: 'phase1', icon: 'üíº', function: 'Company hiring signals', lines: 1500, status: 'active' },
            { id: 44, agentId: '#44', name: 'News Aggregator', phase: 'phase1', icon: 'üì∞', function: 'CoinDesk, Block, Bloomberg', lines: 2100, status: 'active' },
            { id: 45, agentId: '#45', name: 'Earnings Call Processor', phase: 'phase1', icon: 'üéôÔ∏è', function: 'Transcript NLP analysis', lines: 1850, status: 'active' }
        ];
        
        // Stream Processors (4 agents: #46-49)
        const phase1Stream = [
            { id: 46, agentId: '#46', name: 'Kafka Stream Processor', phase: 'phase1', icon: 'üåä', function: 'Real-time event streaming', lines: 2400, status: 'active' },
            { id: 47, agentId: '#47', name: 'WebSocket Manager', phase: 'phase1', icon: 'üîå', function: 'Multi-source WS aggregation', lines: 2200, status: 'active' },
            { id: 48, agentId: '#48', name: 'Historical Backfill Agent', phase: 'phase1', icon: 'üìö', function: 'Data backfill orchestration', lines: 1900, status: 'active' },
            { id: 49, agentId: '#49', name: 'Data Normalization Agent', phase: 'phase1', icon: 'üîß', function: 'Cross-source normalization', lines: 2100, status: 'active' }
        ];
        
        // Quality Monitors (2 agents: #50-51)
        const phase1Quality = [
            { id: 50, agentId: '#50', name: 'Data Quality Monitor', phase: 'phase1', icon: '‚úÖ', function: 'Anomaly detection, validation', lines: 2000, status: 'active' },
            { id: 51, agentId: '#51', name: 'Feed Health Monitor', phase: 'phase1', icon: 'üíì', function: 'Feed latency, uptime tracking', lines: 1850, status: 'active' }
        ];
        
        // Add all Phase 1 agents to allAgents
        allAgents.push(...phase1CEX, ...phase1DEX, ...phase1TradFi, ...phase1OnChain, ...phase1Social, ...phase1AltData, ...phase1Stream, ...phase1Quality);
        
        // Phase 2: Execution (7)
        const phase2 = [
            { id: 52, agentId: '#52', name: 'Order Management', phase: 'phase2', icon: 'üìã', function: 'Order lifecycle', lines: 5200, status: 'active' },
            { id: 53, agentId: '#53', name: 'Smart Order Router', phase: 'phase2', icon: 'üîÄ', function: 'Multi-venue routing', lines: 4800, status: 'active' },
            { id: 54, agentId: '#54', name: 'Execution Algorithm', phase: 'phase2', icon: '‚ö°', function: 'TWAP/VWAP', lines: 5500, status: 'active' },
            { id: 55, agentId: '#55', name: 'Fill Manager', phase: 'phase2', icon: '‚úÖ', function: 'Fill tracking', lines: 4200, status: 'active' },
            { id: 56, agentId: '#56', name: 'Trade Reconciliation', phase: 'phase2', icon: 'üîç', function: 'Position recon', lines: 4900, status: 'active' },
            { id: 57, agentId: '#57', name: 'Execution Analytics', phase: 'phase2', icon: 'üìä', function: 'TCA analysis', lines: 5100, status: 'active' },
            { id: 58, agentId: '#58', name: 'Arbitrage Agent', phase: 'phase2', icon: 'üîÑ', function: 'Cross-venue arb', lines: 5300, status: 'active' }
        ];
        
        // Phase 2.5: Risk (5)
        const phase25 = [
            { id: 59, agentId: 'R1', name: 'Front Running Detection', phase: 'phase2.5', icon: 'üèÉ', function: 'MEV protection', lines: 6000, status: 'active' },
            { id: 60, agentId: 'R2', name: 'Back Running Detection', phase: 'phase2.5', icon: 'üëÄ', function: 'Copy trading detect', lines: 6000, status: 'active' },
            { id: 61, agentId: 'R3', name: 'Counterparty Risk V2', phase: 'phase2.5', icon: 'üè¶', function: 'Health monitoring', lines: 6740, status: 'active' },
            { id: 62, agentId: 'R4', name: 'Liquidity Risk V2', phase: 'phase2.5', icon: 'üíß', function: 'Stress testing', lines: 5334, status: 'active' },
            { id: 63, agentId: 'R5', name: 'Insider Detection', phase: 'phase2.5', icon: 'üïµÔ∏è', function: 'Manipulation detect', lines: 6000, status: 'active' }
        ];
        
        // Phase 3: Monitoring (10)
        const phase3 = [
            { id: 64, agentId: 'M1', name: 'Agent Health Monitor', phase: 'phase3', icon: 'üè•', function: 'Health monitoring', lines: 9500, status: 'active' },
            { id: 65, agentId: 'M2', name: 'Vulnerability Scanner', phase: 'phase3', icon: 'üîí', function: 'Security scanning', lines: 10200, status: 'active' },
            { id: 66, agentId: 'M3', name: 'Performance Analyzer', phase: 'phase3', icon: 'üìà', function: 'Profiling', lines: 9800, status: 'active' },
            { id: 67, agentId: 'M4', name: 'Upgrade Recommender', phase: 'phase3', icon: '‚¨ÜÔ∏è', function: 'Version tracking', lines: 9400, status: 'active' },
            { id: 68, agentId: 'M5', name: 'Orchestration Monitor', phase: 'phase3', icon: 'üé≠', function: 'Communication', lines: 10000, status: 'active' },
            { id: 69, agentId: 'M6', name: 'Alpha Attribution', phase: 'phase3', icon: 'üí∞', function: 'ROI analysis', lines: 10100, status: 'active' },
            { id: 70, agentId: 'M7', name: 'Anomaly Detector', phase: 'phase3', icon: 'üéØ', function: 'ML detection', lines: 5500, status: 'active' },
            { id: 71, agentId: 'M8', name: 'Capacity Planner', phase: 'phase3', icon: 'üìä', function: 'Resource planning', lines: 4200, status: 'active' },
            { id: 72, agentId: 'M9', name: 'Config Manager', phase: 'phase3', icon: '‚öôÔ∏è', function: 'Configuration', lines: 3800, status: 'active' },
            { id: 73, agentId: 'M10', name: 'Audit Logger', phase: 'phase3', icon: 'üìù', function: 'Audit trails', lines: 4500, status: 'active' }
        ];
        
        // Phase 4: DeFi (6) - Development
        const phase4Defi = [
            { id: 74, agentId: 'D1', name: 'Yield Optimizer', phase: 'phase4-defi', icon: 'üåæ', function: 'Yield farming', lines: 6000, status: 'development' },
            { id: 75, agentId: 'D2', name: 'LP Position Manager', phase: 'phase4-defi', icon: 'üíß', function: 'AMM positions', lines: 6000, status: 'development' },
            { id: 76, agentId: 'D3', name: 'Lending Protocol', phase: 'phase4-defi', icon: 'üè¶', function: 'Aave/Compound', lines: 6000, status: 'development' },
            { id: 77, agentId: 'D4', name: 'Staking Optimizer', phase: 'phase4-defi', icon: 'ü•©', function: 'Validator select', lines: 6000, status: 'development' },
            { id: 78, agentId: 'D5', name: 'Bridge Monitor', phase: 'phase4-defi', icon: 'üåâ', function: 'Cross-chain', lines: 6000, status: 'development' },
            { id: 79, agentId: 'D6', name: 'Governance Agent', phase: 'phase4-defi', icon: 'üó≥Ô∏è', function: 'DAO voting', lines: 6000, status: 'development' }
        ];
        
        // Phase 4: Analytics (6) - Development
        const phase4Analytics = [
            { id: 80, agentId: 'A1', name: 'Market Regime', phase: 'phase4-analytics', icon: 'üîÑ', function: 'Regime detection', lines: 6000, status: 'development' },
            { id: 81, agentId: 'A2', name: 'Correlation Analyzer', phase: 'phase4-analytics', icon: 'üîó', function: 'Correlations', lines: 6000, status: 'development' },
            { id: 82, agentId: 'A3', name: 'Factor Model', phase: 'phase4-analytics', icon: 'üìê', function: 'Factor models', lines: 6000, status: 'development' },
            { id: 83, agentId: 'A4', name: 'Macro Intelligence', phase: 'phase4-analytics', icon: 'üåç', function: 'Fed analysis', lines: 6000, status: 'development' },
            { id: 84, agentId: 'A5', name: 'Options Analytics', phase: 'phase4-analytics', icon: 'üìä', function: 'Greeks/vol', lines: 6000, status: 'development' },
            { id: 85, agentId: 'A6', name: 'Predictive ML', phase: 'phase4-analytics', icon: 'ü§ñ', function: 'Price prediction', lines: 6000, status: 'development' }
        ];
        
        // Phase 5: Operations (5) - Development
        const phase5Ops = [
            { id: 86, agentId: 'I1', name: 'API Gateway', phase: 'phase5-ops', icon: 'üîå', function: 'API management', lines: 6000, status: 'development' },
            { id: 87, agentId: 'I2', name: 'Data Lake Manager', phase: 'phase5-ops', icon: 'üóÑÔ∏è', function: 'Data management', lines: 6000, status: 'development' },
            { id: 88, agentId: 'I3', name: 'Disaster Recovery', phase: 'phase5-ops', icon: 'üî•', function: 'Failover', lines: 6000, status: 'development' },
            { id: 89, agentId: 'I4', name: 'Secret Manager', phase: 'phase5-ops', icon: 'üîê', function: 'Key rotation', lines: 6000, status: 'development' },
            { id: 90, agentId: 'I5', name: 'Deployment Manager', phase: 'phase5-ops', icon: 'üöÄ', function: 'Blue-green deploy', lines: 6000, status: 'development' }
        ];
        
        // Phase 5: Compliance (6) - Development
        const phase5Compliance = [
            { id: 91, agentId: 'C1', name: 'Investor Reporting', phase: 'phase5-compliance', icon: 'üìÑ', function: 'NAV calculation', lines: 6000, status: 'development' },
            { id: 92, agentId: 'C2', name: 'Tax Lot Tracker', phase: 'phase5-compliance', icon: 'üíµ', function: 'Tax optimization', lines: 6000, status: 'development' },
            { id: 93, agentId: 'C3', name: 'Regulatory Reporter', phase: 'phase5-compliance', icon: 'üìã', function: 'Form PF/13F', lines: 6000, status: 'development' },
            { id: 94, agentId: 'C4', name: 'Risk Report Gen', phase: 'phase5-compliance', icon: 'üìä', function: 'Risk reports', lines: 6000, status: 'development' },
            { id: 95, agentId: 'C5', name: 'Performance Attribution', phase: 'phase5-compliance', icon: 'üìà', function: 'Brinson', lines: 6000, status: 'development' },
            { id: 96, agentId: 'C6', name: 'Compliance Monitor', phase: 'phase5-compliance', icon: '‚úÖ', function: 'Real-time checks', lines: 6000, status: 'development' }
        ];
        
        // Combine all agents
        allAgents.push(...phase0, ...phase2, ...phase25, ...phase3, ...phase4Defi, ...phase4Analytics, ...phase5Ops, ...phase5Compliance);
        
        // Add health scores
        allAgents.forEach(agent => {
            if (agent.status === 'active') {
                agent.healthScore = 70 + Math.floor(Math.random() * 30);
                agent.version = `1.${Math.floor(Math.random() * 5)}.${Math.floor(Math.random() * 10)}`;
                agent.latestVersion = '1.4.0';
                agent.latency = 5 + Math.floor(Math.random() * 15);
            } else {
                agent.healthScore = 0;
                agent.version = '-';
                agent.latestVersion = '1.0.0';
            }
        });
        
        const phases = [
            { id: 'phase0', name: 'Core Intelligence', count: 7 },
            { id: 'phase1', name: 'Data Intelligence', count: 44 },
            { id: 'phase2', name: 'Execution Suite', count: 7 },
            { id: 'phase2.5', name: 'Risk Enhancement', count: 5 },
            { id: 'phase3', name: 'Monitoring Suite', count: 10 },
            { id: 'phase4-defi', name: 'DeFi Protocols', count: 6 },
            { id: 'phase4-analytics', name: 'Advanced Analytics', count: 6 },
            { id: 'phase5-ops', name: 'Operations', count: 5 },
            { id: 'phase5-compliance', name: 'Compliance', count: 6 }
        ];
        
        let trades = [];
        
        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        
        function formatCurrency(value) {
            if (value >= 1e9) return '$' + (value / 1e9).toFixed(2) + 'B';
            if (value >= 1e6) return '$' + (value / 1e6).toFixed(2) + 'M';
            if (value >= 1e3) return '$' + (value / 1e3).toFixed(2) + 'K';
            return '$' + value.toFixed(2);
        }
        
        function formatPercent(value) { return (value >= 0 ? '+' : '') + value.toFixed(2) + '%'; }
        
        function getGrade(score) {
            if (score >= 90) return { grade: 'A', class: 'grade-a' };
            if (score >= 80) return { grade: 'B', class: 'grade-b' };
            if (score >= 70) return { grade: 'C', class: 'grade-c' };
            if (score >= 60) return { grade: 'D', class: 'grade-d' };
            if (score > 0) return { grade: 'F', class: 'grade-f' };
            return { grade: 'DEV', class: 'grade-dev' };
        }
        
        function getHealthColor(score) {
            if (score >= 90) return '#22C55E';
            if (score >= 80) return '#4ADE80';
            if (score >= 70) return '#FACC15';
            if (score >= 60) return '#FB923C';
            return '#EF4444';
        }
        
        function generateTrades() {
            const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD'];
            const result = [];
            for (let i = 0; i < 15; i++) {
                result.push({
                    symbol: symbols[Math.floor(Math.random() * symbols.length)],
                    side: Math.random() > 0.4 ? 'BUY' : 'SELL',
                    value: Math.random() * 5000000 + 100000,
                    pnl: (Math.random() - 0.3) * 5,
                    time: new Date(Date.now() - i * 60000 * Math.random() * 10).toLocaleTimeString()
                });
            }
            return result;
        }
        
        // ============================================
        // RENDER FUNCTIONS
        // ============================================
        
        function renderAgentCard(agent) {
            const gradeInfo = getGrade(agent.healthScore);
            const isDev = agent.status === 'development';
            return `
                <div class="agent-card ${isDev ? 'development' : ''}" onclick="openAgentModal(${agent.id})">
                    <div class="agent-header">
                        <span class="agent-icon">${agent.icon}</span>
                        <div class="agent-info"><div class="agent-name">${agent.name}</div><div class="agent-id">${agent.agentId}</div></div>
                        <div class="agent-status-dot ${isDev ? 'development' : agent.healthScore < 80 ? 'warning' : ''}"></div>
                    </div>
                    <div class="agent-metrics">
                        <div class="health-bar"><div class="health-fill" style="width: ${isDev ? 0 : agent.healthScore}%; background-color: ${getHealthColor(agent.healthScore)};"></div></div>
                        <div class="agent-metric-row"><span class="metric-label">Health</span><span class="grade-badge ${gradeInfo.class}">${gradeInfo.grade}</span></div>
                        <div class="agent-metric-row"><span class="metric-label">Version</span><span class="version-badge ${isDev ? '' : 'current'}">${isDev ? 'In Dev' : agent.version}</span></div>
                    </div>
                </div>
            `;
        }
        
        function renderDashboardAgents() {
            const container = document.getElementById('dashboard-agents-grid');
            if (container) container.innerHTML = allAgents.filter(a => a.status === 'active').slice(0, 8).map(renderAgentCard).join('');
        }
        
        function renderPhaseTabs() {
            const container = document.getElementById('phase-tabs');
            if (container) container.innerHTML = phases.map((p, i) => `<button class="phase-tab ${i === 0 ? 'active' : ''}" data-phase="${p.id}" onclick="switchPhase('${p.id}')">${p.name}<span class="count">${p.count}</span></button>`).join('');
        }
        
        function renderPhaseAgents(phaseId) {
            const container = document.getElementById('agents-phase-content');
            const phaseAgents = allAgents.filter(a => a.phase === phaseId);
            if (container) container.innerHTML = `<div class="card"><h3 class="card-title">${phases.find(p => p.id === phaseId)?.name || phaseId} (${phaseAgents.length})</h3><div class="agents-grid">${phaseAgents.map(renderAgentCard).join('')}</div></div>`;
        }
        
        function switchPhase(phaseId) {
            document.querySelectorAll('.phase-tab').forEach(t => t.classList.toggle('active', t.dataset.phase === phaseId));
            renderPhaseAgents(phaseId);
        }
        
        function renderHealthScoreSummary() {
            const active = allAgents.filter(a => a.status === 'active');
            const grades = { A: 0, B: 0, C: 0, D: 0, F: 0 };
            active.forEach(a => { const g = getGrade(a.healthScore).grade; if (grades[g] !== undefined) grades[g]++; });
            const dev = allAgents.filter(a => a.status === 'development').length;
            const container = document.getElementById('health-score-summary');
            if (container) container.innerHTML = `
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--green-400);">${grades.A}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade A</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--green-400);">${grades.B}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade B</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--yellow-400);">${grades.C}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade C</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--orange-400);">${grades.D}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade D</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--red-400);">${grades.F}</div><div style="font-size:0.8rem;color:var(--gray-400);">Grade F</div></div>
                <div style="text-align:center;"><div style="font-size:2rem;font-weight:700;color:var(--gray-400);">${dev}</div><div style="font-size:0.8rem;color:var(--gray-400);">In Dev</div></div>
            `;
        }
        
        // Comprehensive upgrade information for all agents
        const upgradeDetails = {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // PHASE 0: CORE INTELLIGENCE AGENTS (#1-7)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            1: { // Sentiment Agent
                name: 'Sentiment Analysis Agent',
                changes: [
                    { type: 'feature', text: 'GPT-4 Turbo integration for nuanced sentiment analysis' },
                    { type: 'feature', text: 'Fed speech parsing with hawkish/dovish scoring (0-100 scale)' },
                    { type: 'feature', text: 'Real-time earnings call tone detection' },
                    { type: 'fix', text: 'Twitter/X rate limit handling with exponential backoff' },
                    { type: 'fix', text: 'Resolved memory leak in streaming sentiment processor' },
                    { type: 'perf', text: 'Reduced NLP inference latency from 45ms to 12ms (-73%)' },
                    { type: 'security', text: 'Updated transformers library to patch CVE-2024-41110' }
                ],
                perfMetrics: { latency: -73, accuracy: +8.2, throughput: +45, memory: -15 },
                perfEnhancement: 12.5,
                projectedHealth: 98,
                alphaImpact: '+0.8% monthly alpha from improved signal accuracy',
                riskLevel: 'low',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['transformers>=4.36.0', 'openai>=1.12.0', 'tiktoken>=0.5.2'],
                testingStatus: { unit: 412, integration: 89, passed: '100%', coverage: '94.2%' },
                resourceDelta: { cpu: '+2%', memory: '-180MB', gpu: 'Required' }
            },
            2: { // Fundamental Agent
                name: 'Fundamental Analysis Agent',
                changes: [
                    { type: 'feature', text: 'Real-time 13F filing parser with position delta alerts' },
                    { type: 'feature', text: 'Tokenomics analyzer for DeFi protocol valuation (TVL/FDV)' },
                    { type: 'feature', text: 'Insider transaction pattern detection' },
                    { type: 'fix', text: 'P/E ratio calculation for negative earnings edge cases' },
                    { type: 'fix', text: 'Fixed SEC EDGAR parsing for amended filings' },
                    { type: 'perf', text: 'On-chain TVL queries with Redis caching layer (+60% faster)' },
                    { type: 'perf', text: 'Batch processing for multi-asset fundamental scans' }
                ],
                perfMetrics: { latency: -42, accuracy: +5.1, throughput: +60, memory: -8 },
                perfEnhancement: 8.3,
                projectedHealth: 96,
                alphaImpact: '+0.5% from early 13F signal detection',
                riskLevel: 'low',
                downtime: '< 45 sec',
                rollbackAvailable: true,
                dependencies: ['sec-edgar-api>=2.1.0', 'redis>=5.0.0', 'defillama-sdk>=1.2.0'],
                testingStatus: { unit: 328, integration: 67, passed: '99.8%', coverage: '91.7%' },
                resourceDelta: { cpu: '+1%', memory: '-85MB', gpu: 'Not required' }
            },
            3: { // Technical Agent
                name: 'Technical Analysis Agent',
                changes: [
                    { type: 'feature', text: '15 new indicators: Wyckoff accumulation, Elder Ray, Keltner Channels' },
                    { type: 'feature', text: 'ML pattern recognition: H&S, wedges, flags (87% accuracy)' },
                    { type: 'feature', text: 'Multi-timeframe confluence scoring (1m to 1W)' },
                    { type: 'feature', text: 'Volume profile analysis with POC/VAH/VAL detection' },
                    { type: 'fix', text: 'Fibonacci retracement calculation on logarithmic scale' },
                    { type: 'fix', text: 'RSI divergence detection false positive reduction' },
                    { type: 'perf', text: 'GPU-accelerated backtesting: 5x speedup (10K candles/sec)' },
                    { type: 'security', text: 'Patched CVE-2024-38912 in numpy dependency' }
                ],
                perfMetrics: { latency: -65, accuracy: +12.3, throughput: +400, memory: +5 },
                perfEnhancement: 15.2,
                projectedHealth: 99,
                alphaImpact: '+1.2% from improved pattern recognition signals',
                riskLevel: 'medium',
                downtime: '< 60 sec',
                rollbackAvailable: true,
                dependencies: ['talib>=0.4.28', 'numpy>=1.26.3', 'cupy>=13.0.0', 'pytorch>=2.2.0'],
                testingStatus: { unit: 567, integration: 134, passed: '100%', coverage: '96.8%' },
                resourceDelta: { cpu: '-15%', memory: '+120MB', gpu: 'Required (CUDA 12.x)' }
            },
            4: { // Liquidity Agent
                name: 'Liquidity Analysis Agent',
                changes: [
                    { type: 'feature', text: 'Dark pool liquidity estimation for TradFi assets' },
                    { type: 'feature', text: 'MEV protection via Flashbots Protect RPC integration' },
                    { type: 'feature', text: 'Cross-venue liquidity aggregation (CEX + DEX)' },
                    { type: 'feature', text: 'Predictive slippage model using order flow toxicity' },
                    { type: 'fix', text: 'Slippage calculation for thin order books (<$50K depth)' },
                    { type: 'fix', text: 'L2 order book reconstruction accuracy improved' },
                    { type: 'perf', text: 'Order book snapshot latency reduced to < 5ms' },
                    { type: 'perf', text: 'Memory-mapped order book storage for 10x throughput' }
                ],
                perfMetrics: { latency: -78, accuracy: +9.7, throughput: +950, memory: -22 },
                perfEnhancement: 18.7,
                projectedHealth: 97,
                alphaImpact: '+0.9% from reduced slippage and MEV protection',
                riskLevel: 'medium',
                downtime: '< 45 sec',
                rollbackAvailable: true,
                dependencies: ['flashbots>=1.0.0', 'websockets>=12.0', 'lz4>=4.3.0'],
                testingStatus: { unit: 445, integration: 98, passed: '99.9%', coverage: '93.4%' },
                resourceDelta: { cpu: '+3%', memory: '-280MB', gpu: 'Not required' }
            },
            5: { // Portfolio Agent
                name: 'Portfolio Optimization Agent',
                changes: [
                    { type: 'feature', text: 'Enhanced Kelly criterion with regime-adjusted sizing' },
                    { type: 'feature', text: 'Tax-loss harvesting optimizer (wash sale compliant)' },
                    { type: 'feature', text: 'Dynamic correlation matrix with DCC-GARCH' },
                    { type: 'feature', text: 'Factor exposure targeting (momentum, value, quality)' },
                    { type: 'fix', text: 'Correlation matrix singularity handling for illiquid assets' },
                    { type: 'fix', text: 'Rebalancing cost estimation accuracy improved' },
                    { type: 'perf', text: 'Parallel optimization across 8 CPU cores (+6x speed)' },
                    { type: 'perf', text: 'Incremental covariance updates (avoid full recalc)' }
                ],
                perfMetrics: { latency: -55, accuracy: +6.8, throughput: +500, memory: -12 },
                perfEnhancement: 11.4,
                projectedHealth: 95,
                alphaImpact: '+0.6% from improved position sizing and rebalancing',
                riskLevel: 'low',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['cvxpy>=1.4.2', 'scipy>=1.12.0', 'arch>=6.2.0'],
                testingStatus: { unit: 389, integration: 76, passed: '100%', coverage: '92.1%' },
                resourceDelta: { cpu: '+8%', memory: '-150MB', gpu: 'Optional (2x faster)' }
            },
            6: { // Risk Agent
                name: 'Smart Contract Risk Agent',
                changes: [
                    { type: 'feature', text: 'Tail risk hedging with automatic put spread execution' },
                    { type: 'feature', text: 'New stress scenarios: Fed pivot, crypto winter V2, bank run' },
                    { type: 'feature', text: 'Real-time Greeks calculation for options book' },
                    { type: 'feature', text: 'Counterparty risk scoring with exchange health metrics' },
                    { type: 'fix', text: 'VaR calculation under extreme volatility regimes (>100% IV)' },
                    { type: 'fix', text: 'CVaR tail estimation improved for fat-tailed distributions' },
                    { type: 'perf', text: 'Monte Carlo simulation: 1M paths in 200ms (GPU)' },
                    { type: 'security', text: 'Position limit enforcement with real-time breach alerts' }
                ],
                perfMetrics: { latency: -48, accuracy: +11.2, throughput: +800, memory: +8 },
                perfEnhancement: 14.8,
                projectedHealth: 98,
                alphaImpact: '+0.7% from reduced drawdowns and tail risk protection',
                riskLevel: 'high',
                downtime: '< 90 sec',
                rollbackAvailable: true,
                dependencies: ['quantlib>=1.33', 'cuda-toolkit>=12.3', 'risk-engine>=2.0.0'],
                testingStatus: { unit: 612, integration: 145, passed: '100%', coverage: '97.3%' },
                resourceDelta: { cpu: '+5%', memory: '+200MB', gpu: 'Required (RTX 4080+)' }
            },
            7: { // Master Agent
                name: 'Master Integration AI',
                changes: [
                    { type: 'feature', text: 'Weighted consensus algorithm with dynamic agent confidence' },
                    { type: 'feature', text: 'Circuit breaker for conflicting agent signals (>40% divergence)' },
                    { type: 'feature', text: 'Hierarchical decision tree with explainability logging' },
                    { type: 'feature', text: 'Cross-agent dependency graph for cascade prevention' },
                    { type: 'fix', text: 'Race condition in multi-agent decision synthesis resolved' },
                    { type: 'fix', text: 'Deadlock prevention in circular agent dependencies' },
                    { type: 'perf', text: 'Orchestration latency: 12ms ‚Üí 4ms (-67%)' },
                    { type: 'perf', text: 'Agent health polling: async batched (100 agents in 50ms)' },
                    { type: 'security', text: 'Agent authentication with rotating JWT tokens' }
                ],
                perfMetrics: { latency: -67, accuracy: +15.6, throughput: +120, memory: -5 },
                perfEnhancement: 22.1,
                projectedHealth: 99,
                alphaImpact: '+1.5% from superior signal synthesis and faster decisions',
                riskLevel: 'high',
                downtime: '< 120 sec',
                rollbackAvailable: true,
                dependencies: ['asyncio>=3.12', 'grpcio>=1.60.0', 'pyjwt>=2.8.0'],
                testingStatus: { unit: 723, integration: 189, passed: '100%', coverage: '98.1%' },
                resourceDelta: { cpu: '-3%', memory: '-50MB', gpu: 'Not required' }
            },
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // PHASE 1: DATA INTELLIGENCE - CEX CONNECTORS (#8-15)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            8: { // Binance Connector
                name: 'Binance Connector',
                changes: [
                    { type: 'feature', text: 'Binance Futures mark price & funding rate streaming' },
                    { type: 'feature', text: 'Liquidation feed integration for whale watching' },
                    { type: 'fix', text: 'WebSocket reconnection with state recovery on network glitches' },
                    { type: 'fix', text: 'Order book checksum validation for data integrity' },
                    { type: 'perf', text: 'Order book diff processing optimized (+35% throughput)' },
                    { type: 'perf', text: 'Binary message parsing with msgpack' }
                ],
                perfMetrics: { latency: -28, accuracy: +2.1, throughput: +35, memory: -12 },
                perfEnhancement: 6.2,
                projectedHealth: 94,
                alphaImpact: '+0.2% from faster market data ingestion',
                riskLevel: 'low',
                downtime: '< 15 sec',
                rollbackAvailable: true,
                dependencies: ['python-binance>=1.0.19', 'msgpack>=1.0.7'],
                testingStatus: { unit: 156, integration: 34, passed: '100%', coverage: '89.4%' },
                resourceDelta: { cpu: '-2%', memory: '-45MB', gpu: 'Not required' }
            },
            9: { // Coinbase Connector
                name: 'Coinbase Connector',
                changes: [
                    { type: 'feature', text: 'Coinbase Advanced Trade API v3 migration' },
                    { type: 'feature', text: 'Institutional custody integration for prime clients' },
                    { type: 'fix', text: 'Rate limit handling with request queuing' },
                    { type: 'perf', text: 'REST batch order submission (+50% efficiency)' }
                ],
                perfMetrics: { latency: -22, accuracy: +1.8, throughput: +50, memory: -8 },
                perfEnhancement: 5.8,
                projectedHealth: 93,
                alphaImpact: '+0.15% from improved execution reliability',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['coinbase-advanced-py>=1.2.0'],
                testingStatus: { unit: 134, integration: 28, passed: '99.5%', coverage: '87.2%' },
                resourceDelta: { cpu: '-1%', memory: '-30MB', gpu: 'Not required' }
            },
            10: { // Kraken Connector
                name: 'Kraken Connector',
                changes: [
                    { type: 'feature', text: 'Kraken Futures API integration with margin trading' },
                    { type: 'feature', text: 'Staking rewards tracking and auto-compound' },
                    { type: 'fix', text: 'Nonce collision handling for parallel requests' },
                    { type: 'perf', text: 'Connection pooling for REST endpoints' }
                ],
                perfMetrics: { latency: -18, accuracy: +1.5, throughput: +28, memory: -5 },
                perfEnhancement: 4.9,
                projectedHealth: 92,
                alphaImpact: '+0.1% from staking yield optimization',
                riskLevel: 'low',
                downtime: '< 15 sec',
                rollbackAvailable: true,
                dependencies: ['krakenex>=2.2.0'],
                testingStatus: { unit: 112, integration: 22, passed: '100%', coverage: '85.8%' },
                resourceDelta: { cpu: '0%', memory: '-20MB', gpu: 'Not required' }
            },
            11: { // OKX Connector
                name: 'OKX Connector',
                changes: [
                    { type: 'feature', text: 'OKX options chain streaming with Greeks' },
                    { type: 'feature', text: 'Spread trading API for options strategies' },
                    { type: 'fix', text: 'Position sync accuracy for cross-margin mode' },
                    { type: 'perf', text: 'WebSocket multiplexing for reduced connections' }
                ],
                perfMetrics: { latency: -25, accuracy: +2.4, throughput: +40, memory: -10 },
                perfEnhancement: 6.5,
                projectedHealth: 94,
                alphaImpact: '+0.25% from options strategy execution',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['okx-sdk>=1.1.0'],
                testingStatus: { unit: 145, integration: 31, passed: '99.8%', coverage: '88.1%' },
                resourceDelta: { cpu: '-1%', memory: '-35MB', gpu: 'Not required' }
            },
            12: { // Bybit Connector  
                name: 'Bybit Connector',
                changes: [
                    { type: 'feature', text: 'Bybit V5 unified API migration completed' },
                    { type: 'feature', text: 'Copy trading signal publishing API' },
                    { type: 'fix', text: 'Perpetual funding rate calculation timezone fix' },
                    { type: 'perf', text: 'Trade history pagination with cursor-based fetching' }
                ],
                perfMetrics: { latency: -20, accuracy: +1.9, throughput: +32, memory: -7 },
                perfEnhancement: 5.4,
                projectedHealth: 93,
                alphaImpact: '+0.15% from unified trading experience',
                riskLevel: 'low',
                downtime: '< 15 sec',
                rollbackAvailable: true,
                dependencies: ['pybit>=5.6.0'],
                testingStatus: { unit: 128, integration: 26, passed: '100%', coverage: '86.5%' },
                resourceDelta: { cpu: '0%', memory: '-25MB', gpu: 'Not required' }
            },
            13: { // Deribit Connector
                name: 'Deribit Connector',
                changes: [
                    { type: 'feature', text: 'Options volatility surface streaming (25-delta skew)' },
                    { type: 'feature', text: 'Block trade RFQ API for large orders' },
                    { type: 'feature', text: 'Portfolio margin calculation engine' },
                    { type: 'fix', text: 'Option expiry handling for European-style' },
                    { type: 'perf', text: 'Greeks calculation caching with LRU eviction' }
                ],
                perfMetrics: { latency: -32, accuracy: +3.8, throughput: +55, memory: -12 },
                perfEnhancement: 8.7,
                projectedHealth: 96,
                alphaImpact: '+0.4% from options volatility arbitrage signals',
                riskLevel: 'medium',
                downtime: '< 25 sec',
                rollbackAvailable: true,
                dependencies: ['deribit-api>=1.0.0', 'py-vollib>=1.0.3'],
                testingStatus: { unit: 178, integration: 42, passed: '100%', coverage: '91.2%' },
                resourceDelta: { cpu: '+1%', memory: '-40MB', gpu: 'Optional' }
            },
            14: { // KuCoin Connector
                name: 'KuCoin Connector',
                changes: [
                    { type: 'feature', text: 'KuCoin Futures grid trading API' },
                    { type: 'fix', text: 'Order ID tracking for partial fills' },
                    { type: 'perf', text: 'WebSocket ping/pong optimization' }
                ],
                perfMetrics: { latency: -15, accuracy: +1.2, throughput: +22, memory: -5 },
                perfEnhancement: 4.2,
                projectedHealth: 91,
                alphaImpact: '+0.08% from grid strategy automation',
                riskLevel: 'low',
                downtime: '< 15 sec',
                rollbackAvailable: true,
                dependencies: ['kucoin-python>=1.0.8'],
                testingStatus: { unit: 98, integration: 18, passed: '99.5%', coverage: '84.3%' },
                resourceDelta: { cpu: '0%', memory: '-15MB', gpu: 'Not required' }
            },
            15: { // Gate.io Connector
                name: 'Gate.io Connector',
                changes: [
                    { type: 'feature', text: 'Gate.io multi-chain deposit/withdrawal tracking' },
                    { type: 'fix', text: 'API signature generation for special characters' },
                    { type: 'perf', text: 'Async HTTP client migration (aiohttp)' }
                ],
                perfMetrics: { latency: -18, accuracy: +1.0, throughput: +28, memory: -6 },
                perfEnhancement: 3.8,
                projectedHealth: 90,
                alphaImpact: '+0.05% from multi-chain arbitrage',
                riskLevel: 'low',
                downtime: '< 15 sec',
                rollbackAvailable: true,
                dependencies: ['gate-api>=4.58.0', 'aiohttp>=3.9.0'],
                testingStatus: { unit: 86, integration: 15, passed: '100%', coverage: '82.7%' },
                resourceDelta: { cpu: '-1%', memory: '-20MB', gpu: 'Not required' }
            },
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // PHASE 1: DATA INTELLIGENCE - DEX CONNECTORS (#16-21)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            16: { // Jupiter Connector
                name: 'Jupiter Connector',
                changes: [
                    { type: 'feature', text: 'Jupiter V6 API with improved routing and pricing' },
                    { type: 'feature', text: 'Limit order integration via Jupiter Limit V2' },
                    { type: 'feature', text: 'DCA (Dollar Cost Average) strategy automation' },
                    { type: 'fix', text: 'Quote expiry handling for volatile markets (<3 sec)' },
                    { type: 'fix', text: 'Priority fee estimation for congested network' },
                    { type: 'perf', text: 'Route calculation: 150ms ‚Üí 98ms (-35%)' },
                    { type: 'perf', text: 'Parallel quote fetching across 8 routes' }
                ],
                perfMetrics: { latency: -35, accuracy: +4.2, throughput: +65, memory: -8 },
                perfEnhancement: 9.8,
                projectedHealth: 96,
                alphaImpact: '+0.5% from optimized Solana DEX routing',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['jupiter-sdk>=6.0.0', 'solana-py>=0.32.0'],
                testingStatus: { unit: 187, integration: 45, passed: '100%', coverage: '92.4%' },
                resourceDelta: { cpu: '+1%', memory: '-30MB', gpu: 'Not required' }
            },
            17: { // Raydium Connector
                name: 'Raydium Connector',
                changes: [
                    { type: 'feature', text: 'Raydium CLMM (Concentrated Liquidity) pool support' },
                    { type: 'feature', text: 'LP position management and fee harvesting' },
                    { type: 'fix', text: 'AMM pool state sync for stale data prevention' },
                    { type: 'perf', text: 'Pool discovery caching with 5-min TTL' }
                ],
                perfMetrics: { latency: -28, accuracy: +3.5, throughput: +42, memory: -10 },
                perfEnhancement: 7.2,
                projectedHealth: 94,
                alphaImpact: '+0.35% from LP yield optimization',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['raydium-sdk>=2.0.0'],
                testingStatus: { unit: 145, integration: 32, passed: '99.8%', coverage: '89.6%' },
                resourceDelta: { cpu: '0%', memory: '-25MB', gpu: 'Not required' }
            },
            18: { // Orca Connector
                name: 'Orca Connector',
                changes: [
                    { type: 'feature', text: 'Orca Whirlpools tick-level liquidity analysis' },
                    { type: 'feature', text: 'Splash pools support for long-tail assets' },
                    { type: 'fix', text: 'Tick array boundary calculation fix' },
                    { type: 'perf', text: 'Quote simulation with local state (+40% faster)' }
                ],
                perfMetrics: { latency: -25, accuracy: +2.8, throughput: +40, memory: -7 },
                perfEnhancement: 6.4,
                projectedHealth: 93,
                alphaImpact: '+0.28% from concentrated liquidity strategies',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['orca-sdk>=1.0.0'],
                testingStatus: { unit: 132, integration: 28, passed: '100%', coverage: '88.2%' },
                resourceDelta: { cpu: '0%', memory: '-22MB', gpu: 'Not required' }
            },
            19: { // Uniswap Connector
                name: 'Uniswap Connector',
                changes: [
                    { type: 'feature', text: 'Uniswap V4 hooks integration (beta)' },
                    { type: 'feature', text: 'Cross-chain routing via Uniswap X' },
                    { type: 'feature', text: 'MEV protection with private mempool submission' },
                    { type: 'fix', text: 'Gas estimation for complex multi-hop routes' },
                    { type: 'perf', text: 'Subgraph query batching for historical data' }
                ],
                perfMetrics: { latency: -30, accuracy: +4.5, throughput: +55, memory: -12 },
                perfEnhancement: 8.9,
                projectedHealth: 95,
                alphaImpact: '+0.42% from cross-chain arbitrage opportunities',
                riskLevel: 'medium',
                downtime: '< 25 sec',
                rollbackAvailable: true,
                dependencies: ['uniswap-sdk>=4.0.0', 'web3>=6.15.0'],
                testingStatus: { unit: 198, integration: 48, passed: '99.9%', coverage: '91.8%' },
                resourceDelta: { cpu: '+1%', memory: '-35MB', gpu: 'Not required' }
            },
            20: { // Curve Connector
                name: 'Curve Connector',
                changes: [
                    { type: 'feature', text: 'Curve Llama Lend integration for leveraged LPing' },
                    { type: 'feature', text: 'crvUSD peg monitoring and arbitrage signals' },
                    { type: 'fix', text: 'Virtual price calculation for metapools' },
                    { type: 'perf', text: 'Factory pool discovery optimization' }
                ],
                perfMetrics: { latency: -22, accuracy: +3.2, throughput: +38, memory: -8 },
                perfEnhancement: 6.8,
                projectedHealth: 94,
                alphaImpact: '+0.32% from stablecoin arbitrage',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['curve-api>=1.5.0'],
                testingStatus: { unit: 124, integration: 26, passed: '100%', coverage: '87.5%' },
                resourceDelta: { cpu: '0%', memory: '-20MB', gpu: 'Not required' }
            },
            21: { // PancakeSwap Connector
                name: 'PancakeSwap Connector',
                changes: [
                    { type: 'feature', text: 'PancakeSwap V3 on Arbitrum and Base support' },
                    { type: 'feature', text: 'CAKE staking and IFO participation tracking' },
                    { type: 'fix', text: 'Multi-chain RPC failover handling' },
                    { type: 'perf', text: 'Cross-chain gas optimization' }
                ],
                perfMetrics: { latency: -20, accuracy: +2.5, throughput: +32, memory: -6 },
                perfEnhancement: 5.6,
                projectedHealth: 92,
                alphaImpact: '+0.22% from multi-chain DEX coverage',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['pancakeswap-sdk>=3.0.0'],
                testingStatus: { unit: 108, integration: 22, passed: '99.5%', coverage: '85.8%' },
                resourceDelta: { cpu: '0%', memory: '-18MB', gpu: 'Not required' }
            },
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // PHASE 1: DATA INTELLIGENCE - TRADFI CONNECTORS (#22-27)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            22: { // Bloomberg Connector
                name: 'Bloomberg Connector',
                changes: [
                    { type: 'feature', text: 'Bloomberg B-PIPE real-time tick data integration' },
                    { type: 'feature', text: 'BQNT (Bloomberg Quant) Python API support' },
                    { type: 'feature', text: 'Corporate action alerts (splits, dividends, M&A)' },
                    { type: 'fix', text: 'Session reconnection after terminal restart' },
                    { type: 'perf', text: 'Bulk historical data requests with async chunking' },
                    { type: 'security', text: 'API key rotation with vault integration' }
                ],
                perfMetrics: { latency: -35, accuracy: +5.2, throughput: +80, memory: -15 },
                perfEnhancement: 11.2,
                projectedHealth: 97,
                alphaImpact: '+0.6% from institutional-grade data access',
                riskLevel: 'medium',
                downtime: '< 45 sec',
                rollbackAvailable: true,
                dependencies: ['blpapi>=3.22.0', 'bloomberg-data>=1.0.0'],
                testingStatus: { unit: 234, integration: 56, passed: '100%', coverage: '94.2%' },
                resourceDelta: { cpu: '+2%', memory: '-50MB', gpu: 'Not required' }
            },
            23: { // Refinitiv Connector
                name: 'Refinitiv Connector',
                changes: [
                    { type: 'feature', text: 'Refinitiv Eikon Data API with news sentiment' },
                    { type: 'feature', text: 'Reuters Instrument Codes (RIC) mapping' },
                    { type: 'fix', text: 'OAuth token refresh handling' },
                    { type: 'perf', text: 'Streaming data compression (gzip)' }
                ],
                perfMetrics: { latency: -28, accuracy: +4.1, throughput: +52, memory: -12 },
                perfEnhancement: 8.4,
                projectedHealth: 95,
                alphaImpact: '+0.4% from Reuters news signals',
                riskLevel: 'low',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['refinitiv-data>=1.5.0'],
                testingStatus: { unit: 189, integration: 42, passed: '99.8%', coverage: '91.5%' },
                resourceDelta: { cpu: '+1%', memory: '-35MB', gpu: 'Not required' }
            },
            24: { // CME Connector
                name: 'CME Connector',
                changes: [
                    { type: 'feature', text: 'CME Globex FIX 4.4 gateway integration' },
                    { type: 'feature', text: 'Bitcoin & Ether futures with options chain' },
                    { type: 'feature', text: 'Block trade reporting and LIS support' },
                    { type: 'fix', text: 'Contract rollover date handling' },
                    { type: 'perf', text: 'Market data conflation for high-frequency updates' }
                ],
                perfMetrics: { latency: -40, accuracy: +6.2, throughput: +95, memory: -18 },
                perfEnhancement: 12.8,
                projectedHealth: 98,
                alphaImpact: '+0.75% from CME futures basis arbitrage',
                riskLevel: 'high',
                downtime: '< 60 sec',
                rollbackAvailable: true,
                dependencies: ['quickfix>=1.15.1', 'cme-datamine>=2.0.0'],
                testingStatus: { unit: 267, integration: 68, passed: '100%', coverage: '95.8%' },
                resourceDelta: { cpu: '+3%', memory: '-60MB', gpu: 'Not required' }
            },
            25: { // IBKR Connector
                name: 'Interactive Brokers Connector',
                changes: [
                    { type: 'feature', text: 'IBKR Client Portal API v2 migration' },
                    { type: 'feature', text: 'Portfolio margin real-time monitoring' },
                    { type: 'feature', text: 'Fractional shares trading support' },
                    { type: 'fix', text: 'TWS gateway disconnection recovery' },
                    { type: 'perf', text: 'Order status polling optimization' }
                ],
                perfMetrics: { latency: -25, accuracy: +3.8, throughput: +45, memory: -10 },
                perfEnhancement: 7.6,
                projectedHealth: 94,
                alphaImpact: '+0.35% from improved TradFi execution',
                riskLevel: 'medium',
                downtime: '< 45 sec',
                rollbackAvailable: true,
                dependencies: ['ib-insync>=0.9.86'],
                testingStatus: { unit: 178, integration: 38, passed: '99.9%', coverage: '90.2%' },
                resourceDelta: { cpu: '+1%', memory: '-30MB', gpu: 'Not required' }
            },
            26: { // SEC EDGAR Connector
                name: 'SEC EDGAR Connector',
                changes: [
                    { type: 'feature', text: '13F-HR position tracking with delta analysis' },
                    { type: 'feature', text: 'Form 4 insider transaction real-time alerts' },
                    { type: 'feature', text: '10-K/10-Q risk factor NLP extraction' },
                    { type: 'fix', text: 'XBRL parsing for non-standard filings' },
                    { type: 'perf', text: 'Filing download parallelization (10x faster)' }
                ],
                perfMetrics: { latency: -55, accuracy: +4.5, throughput: +900, memory: -8 },
                perfEnhancement: 9.2,
                projectedHealth: 95,
                alphaImpact: '+0.45% from insider activity signals',
                riskLevel: 'low',
                downtime: '< 20 sec',
                rollbackAvailable: true,
                dependencies: ['sec-edgar-downloader>=5.0.0', 'lxml>=5.1.0'],
                testingStatus: { unit: 156, integration: 32, passed: '100%', coverage: '88.7%' },
                resourceDelta: { cpu: '+2%', memory: '-25MB', gpu: 'Not required' }
            },
            27: { // FRED Connector
                name: 'FRED Economic Data Connector',
                changes: [
                    { type: 'feature', text: 'Real-time economic calendar with surprise tracking' },
                    { type: 'feature', text: 'Yield curve inversion monitoring (2Y-10Y, 3M-10Y)' },
                    { type: 'fix', text: 'Seasonal adjustment handling for revised data' },
                    { type: 'perf', text: 'Time series caching with smart invalidation' }
                ],
                perfMetrics: { latency: -18, accuracy: +2.2, throughput: +28, memory: -5 },
                perfEnhancement: 4.8,
                projectedHealth: 92,
                alphaImpact: '+0.2% from macro regime signals',
                riskLevel: 'low',
                downtime: '< 15 sec',
                rollbackAvailable: true,
                dependencies: ['fredapi>=0.5.1'],
                testingStatus: { unit: 98, integration: 18, passed: '100%', coverage: '86.2%' },
                resourceDelta: { cpu: '0%', memory: '-15MB', gpu: 'Not required' }
            },
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // PHASE 2: EXECUTION SUITE (#52-58)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            52: { // Order Management System
                name: 'Order Management System',
                changes: [
                    { type: 'feature', text: 'Parent/child order linking for basket execution' },
                    { type: 'feature', text: 'Order amendment API with atomic state updates' },
                    { type: 'feature', text: 'Multi-venue order allocation with smart routing' },
                    { type: 'feature', text: 'Bracket order support (stop-loss + take-profit)' },
                    { type: 'fix', text: 'Order state machine transition edge cases resolved' },
                    { type: 'fix', text: 'Partial fill aggregation for average price calc' },
                    { type: 'perf', text: 'In-memory order cache with Redis persistence' },
                    { type: 'security', text: 'Order validation with fraud detection ML model' }
                ],
                perfMetrics: { latency: -45, accuracy: +8.5, throughput: +200, memory: +15 },
                perfEnhancement: 13.5,
                projectedHealth: 97,
                alphaImpact: '+0.7% from reduced execution slippage',
                riskLevel: 'high',
                downtime: '< 60 sec',
                rollbackAvailable: true,
                dependencies: ['redis>=5.0.0', 'sqlalchemy>=2.0.0', 'pydantic>=2.5.0'],
                testingStatus: { unit: 456, integration: 112, passed: '100%', coverage: '96.5%' },
                resourceDelta: { cpu: '+4%', memory: '+120MB', gpu: 'Not required' }
            },
            53: { // Smart Order Router
                name: 'Smart Order Router',
                changes: [
                    { type: 'feature', text: 'Adaptive routing with real-time fill rate learning' },
                    { type: 'feature', text: 'Venue scoring: execution quality, latency, fees' },
                    { type: 'feature', text: 'Iceberg order detection and avoidance' },
                    { type: 'feature', text: 'Time-weighted average price (TWAP) execution' },
                    { type: 'fix', text: 'Venue timeout handling with graceful degradation' },
                    { type: 'fix', text: 'Cross-venue position sync accuracy' },
                    { type: 'perf', text: 'Routing decision latency: 8ms ‚Üí 2ms (-75%)' },
                    { type: 'perf', text: 'Parallel venue connectivity for redundancy' }
                ],
                perfMetrics: { latency: -75, accuracy: +11.2, throughput: +150, memory: -8 },
                perfEnhancement: 16.4,
                projectedHealth: 98,
                alphaImpact: '+0.9% from optimal venue selection',
                riskLevel: 'medium',
                downtime: '< 45 sec',
                rollbackAvailable: true,
                dependencies: ['aiohttp>=3.9.0', 'orjson>=3.9.0'],
                testingStatus: { unit: 389, integration: 95, passed: '100%', coverage: '95.2%' },
                resourceDelta: { cpu: '+2%', memory: '-30MB', gpu: 'Not required' }
            },
            54: { // Execution Algorithm Engine
                name: 'Execution Algorithm Engine',
                changes: [
                    { type: 'feature', text: 'VWAP, TWAP, POV, Implementation Shortfall algos' },
                    { type: 'feature', text: 'Participation rate targeting with volume prediction' },
                    { type: 'feature', text: 'Aggressive/passive mode switching based on urgency' },
                    { type: 'fix', text: 'End-of-day completion for time-constrained orders' },
                    { type: 'perf', text: 'Algorithm parameter optimization with RL' }
                ],
                perfMetrics: { latency: -38, accuracy: +9.8, throughput: +85, memory: +5 },
                perfEnhancement: 14.2,
                projectedHealth: 96,
                alphaImpact: '+0.8% from reduced market impact',
                riskLevel: 'high',
                downtime: '< 60 sec',
                rollbackAvailable: true,
                dependencies: ['stable-baselines3>=2.2.0'],
                testingStatus: { unit: 345, integration: 82, passed: '99.9%', coverage: '93.8%' },
                resourceDelta: { cpu: '+5%', memory: '+80MB', gpu: 'Optional' }
            },
            55: { // Fill Manager
                name: 'Fill Manager',
                changes: [
                    { type: 'feature', text: 'Real-time fill attribution to strategies' },
                    { type: 'feature', text: 'Execution cost analysis (spread, impact, timing)' },
                    { type: 'fix', text: 'Out-of-order fill message handling' },
                    { type: 'perf', text: 'Fill event streaming with sub-ms latency' }
                ],
                perfMetrics: { latency: -52, accuracy: +5.5, throughput: +120, memory: -5 },
                perfEnhancement: 8.8,
                projectedHealth: 95,
                alphaImpact: '+0.35% from improved execution analytics',
                riskLevel: 'medium',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['kafka-python>=2.0.2'],
                testingStatus: { unit: 234, integration: 56, passed: '100%', coverage: '91.4%' },
                resourceDelta: { cpu: '+1%', memory: '-20MB', gpu: 'Not required' }
            },
            56: { // Trade Reconciliation
                name: 'Trade Reconciliation Agent',
                changes: [
                    { type: 'feature', text: 'Cross-venue position reconciliation every 5 min' },
                    { type: 'feature', text: 'Break detection with automatic escalation' },
                    { type: 'feature', text: 'Custody balance verification' },
                    { type: 'fix', text: 'Timezone handling for global venues' },
                    { type: 'perf', text: 'Incremental reconciliation (delta only)' }
                ],
                perfMetrics: { latency: -35, accuracy: +7.2, throughput: +65, memory: -8 },
                perfEnhancement: 9.5,
                projectedHealth: 96,
                alphaImpact: '+0.25% from reduced operational risk',
                riskLevel: 'low',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['pandas>=2.2.0', 'pytz>=2024.1'],
                testingStatus: { unit: 198, integration: 45, passed: '100%', coverage: '89.8%' },
                resourceDelta: { cpu: '+1%', memory: '-25MB', gpu: 'Not required' }
            },
            57: { // Execution Analytics
                name: 'Execution Analytics Agent',
                changes: [
                    { type: 'feature', text: 'TCA (Transaction Cost Analysis) dashboards' },
                    { type: 'feature', text: 'Venue performance attribution reporting' },
                    { type: 'feature', text: 'Slippage decomposition (spread, impact, timing)' },
                    { type: 'fix', text: 'Benchmark price calculation for illiquid assets' },
                    { type: 'perf', text: 'Real-time TCA streaming (vs end-of-day)' }
                ],
                perfMetrics: { latency: -42, accuracy: +8.5, throughput: +90, memory: +10 },
                perfEnhancement: 11.2,
                projectedHealth: 97,
                alphaImpact: '+0.5% from execution quality insights',
                riskLevel: 'low',
                downtime: '< 25 sec',
                rollbackAvailable: true,
                dependencies: ['plotly>=5.18.0', 'dash>=2.14.0'],
                testingStatus: { unit: 267, integration: 62, passed: '100%', coverage: '92.6%' },
                resourceDelta: { cpu: '+2%', memory: '+45MB', gpu: 'Not required' }
            },
            58: { // Arbitrage Agent
                name: 'Arbitrage Detection Agent',
                changes: [
                    { type: 'feature', text: 'Triangular arbitrage across 50+ pairs with path optimization' },
                    { type: 'feature', text: 'Latency arbitrage with co-located execution servers' },
                    { type: 'feature', text: 'Cross-exchange spot-futures basis arbitrage' },
                    { type: 'feature', text: 'DEX-CEX price discrepancy detection' },
                    { type: 'fix', text: 'Profit calculation including all fees and gas' },
                    { type: 'fix', text: 'Race condition in opportunity capture' },
                    { type: 'perf', text: 'Sub-millisecond opportunity detection (800Œºs)' },
                    { type: 'perf', text: 'Graph-based path finding with Bellman-Ford' }
                ],
                perfMetrics: { latency: -85, accuracy: +15.8, throughput: +500, memory: +20 },
                perfEnhancement: 24.6,
                projectedHealth: 99,
                alphaImpact: '+1.8% from arbitrage capture',
                riskLevel: 'medium',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['networkx>=3.2.0', 'numba>=0.59.0'],
                testingStatus: { unit: 412, integration: 98, passed: '100%', coverage: '97.2%' },
                resourceDelta: { cpu: '+8%', memory: '+150MB', gpu: 'Required' }
            },
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // PHASE 3: RISK MANAGEMENT (#59-75)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            59: { // VaR Calculator
                name: 'Value at Risk Calculator',
                changes: [
                    { type: 'feature', text: 'Parametric, Historical, and Monte Carlo VaR engines' },
                    { type: 'feature', text: 'Stressed VaR with custom scenario definitions' },
                    { type: 'feature', text: 'Incremental and Component VaR decomposition' },
                    { type: 'fix', text: 'Fat-tailed distribution handling (Student-t, GEV)' },
                    { type: 'perf', text: 'GPU Monte Carlo: 10M simulations in 500ms' }
                ],
                perfMetrics: { latency: -68, accuracy: +12.5, throughput: +1800, memory: +25 },
                perfEnhancement: 18.5,
                projectedHealth: 98,
                alphaImpact: '+0.6% from improved risk-adjusted sizing',
                riskLevel: 'high',
                downtime: '< 90 sec',
                rollbackAvailable: true,
                dependencies: ['cuda-toolkit>=12.3', 'cupy>=13.0.0'],
                testingStatus: { unit: 389, integration: 92, passed: '100%', coverage: '96.8%' },
                resourceDelta: { cpu: '-10%', memory: '+200MB', gpu: 'Required (RTX 4080+)' }
            },
            60: { // Greeks Calculator
                name: 'Options Greeks Calculator',
                changes: [
                    { type: 'feature', text: 'Real-time Greeks for full options portfolio' },
                    { type: 'feature', text: 'Higher-order Greeks: Vanna, Volga, Charm, Veta' },
                    { type: 'feature', text: 'Implied volatility surface construction' },
                    { type: 'fix', text: 'American option early exercise handling' },
                    { type: 'perf', text: 'Vectorized Black-Scholes with NumPy' }
                ],
                perfMetrics: { latency: -55, accuracy: +8.8, throughput: +250, memory: -5 },
                perfEnhancement: 14.2,
                projectedHealth: 97,
                alphaImpact: '+0.5% from precise options hedging',
                riskLevel: 'medium',
                downtime: '< 45 sec',
                rollbackAvailable: true,
                dependencies: ['py-vollib>=1.0.3', 'scipy>=1.12.0'],
                testingStatus: { unit: 312, integration: 75, passed: '100%', coverage: '94.5%' },
                resourceDelta: { cpu: '+3%', memory: '-30MB', gpu: 'Optional' }
            },
            64: { // Agent Health Monitor
                name: 'Agent Health Monitor',
                changes: [
                    { type: 'feature', text: 'Predictive health scoring with ML anomaly detection' },
                    { type: 'feature', text: 'Recursive self-monitoring with redundancy checks' },
                    { type: 'feature', text: 'Auto-restart with exponential backoff' },
                    { type: 'fix', text: 'False positive alerts during maintenance windows' },
                    { type: 'perf', text: 'Monitoring overhead reduced by 25%' }
                ],
                perfMetrics: { latency: -25, accuracy: +6.5, throughput: +40, memory: -15 },
                perfEnhancement: 10.2,
                projectedHealth: 97,
                alphaImpact: '+0.3% from reduced system downtime',
                riskLevel: 'low',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['prometheus-client>=0.19.0', 'scikit-learn>=1.4.0'],
                testingStatus: { unit: 234, integration: 56, passed: '100%', coverage: '91.2%' },
                resourceDelta: { cpu: '-3%', memory: '-50MB', gpu: 'Not required' }
            }
        };
        
        // Default upgrade details generator for agents without specific info
        function getUpgradeDetails(agentId) {
            if (upgradeDetails[agentId]) {
                return upgradeDetails[agentId];
            }
            // Generate contextual default upgrade details based on agent phase
            const agent = allAgents.find(a => a.id === agentId);
            const phase = agent ? agent.phase : 'phase1';
            const basePerf = 5 + Math.random() * 8;
            
            const phaseDefaults = {
                'phase0': {
                    changes: [
                        { type: 'feature', text: 'Enhanced AI model integration with improved inference' },
                        { type: 'fix', text: 'Stability improvements and edge case handling' },
                        { type: 'perf', text: 'Optimized processing pipeline for lower latency' },
                        { type: 'security', text: 'Updated dependencies with security patches' }
                    ],
                    alphaImpact: `+${(0.3 + Math.random() * 0.5).toFixed(2)}% from improved signal quality`
                },
                'phase1': {
                    changes: [
                        { type: 'feature', text: 'Added new data source endpoints and fields' },
                        { type: 'fix', text: 'Fixed connection handling and retry logic' },
                        { type: 'perf', text: 'Reduced data ingestion latency by 25%' },
                        { type: 'security', text: 'API authentication security hardening' }
                    ],
                    alphaImpact: `+${(0.1 + Math.random() * 0.2).toFixed(2)}% from faster data access`
                },
                'phase2': {
                    changes: [
                        { type: 'feature', text: 'Enhanced execution algorithm with adaptive behavior' },
                        { type: 'fix', text: 'Order handling edge cases resolved' },
                        { type: 'perf', text: 'Execution latency reduced by 40%' },
                        { type: 'security', text: 'Order validation and fraud detection improvements' }
                    ],
                    alphaImpact: `+${(0.4 + Math.random() * 0.4).toFixed(2)}% from execution optimization`
                },
                'phase3': {
                    changes: [
                        { type: 'feature', text: 'New risk metrics and monitoring capabilities' },
                        { type: 'fix', text: 'Risk calculation accuracy improvements' },
                        { type: 'perf', text: 'Real-time risk assessment optimization' },
                        { type: 'security', text: 'Position limit enforcement hardening' }
                    ],
                    alphaImpact: `+${(0.2 + Math.random() * 0.3).toFixed(2)}% from reduced drawdowns`
                },
                'phase4': {
                    changes: [
                        { type: 'feature', text: 'Enhanced strategy parameter optimization' },
                        { type: 'fix', text: 'Backtesting accuracy improvements' },
                        { type: 'perf', text: 'Strategy evaluation speed improved 3x' },
                        { type: 'security', text: 'Strategy isolation and sandboxing' }
                    ],
                    alphaImpact: `+${(0.5 + Math.random() * 0.5).toFixed(2)}% from strategy improvements`
                },
                'phase5': {
                    changes: [
                        { type: 'feature', text: 'Infrastructure monitoring enhancements' },
                        { type: 'fix', text: 'System stability and reliability fixes' },
                        { type: 'perf', text: 'Resource utilization optimization' },
                        { type: 'security', text: 'Security audit findings addressed' }
                    ],
                    alphaImpact: `+${(0.1 + Math.random() * 0.15).toFixed(2)}% from uptime improvement`
                }
            };
            
            const defaults = phaseDefaults[phase] || phaseDefaults['phase1'];
            const projHealth = 90 + Math.floor(Math.random() * 8);
            
            return {
                name: agent ? agent.name : 'Agent',
                changes: defaults.changes,
                perfMetrics: { 
                    latency: -(15 + Math.floor(Math.random() * 35)), 
                    accuracy: +(2 + Math.random() * 6).toFixed(1), 
                    throughput: +(20 + Math.floor(Math.random() * 40)), 
                    memory: -(5 + Math.floor(Math.random() * 15)) 
                },
                perfEnhancement: parseFloat(basePerf.toFixed(1)),
                projectedHealth: projHealth,
                alphaImpact: defaults.alphaImpact,
                riskLevel: projHealth >= 95 ? 'low' : projHealth >= 90 ? 'medium' : 'high',
                downtime: '< 30 sec',
                rollbackAvailable: true,
                dependencies: ['core-lib>=2.0.0', 'utils>=1.5.0'],
                testingStatus: { 
                    unit: 100 + Math.floor(Math.random() * 200), 
                    integration: 20 + Math.floor(Math.random() * 50), 
                    passed: '100%', 
                    coverage: (85 + Math.random() * 10).toFixed(1) + '%' 
                },
                resourceDelta: { cpu: '+1%', memory: '-25MB', gpu: 'Not required' }
            };
        }
        
        function getChangeTypeIcon(type) {
            switch(type) {
                case 'feature': return '‚ú®';
                case 'fix': return 'üîß';
                case 'perf': return '‚ö°';
                case 'security': return 'üîí';
                default: return 'üìù';
            }
        }
        
        function getChangeTypeColor(type) {
            switch(type) {
                case 'feature': return '#A78BFA';
                case 'fix': return '#FBBF24';
                case 'perf': return '#22D3EE';
                case 'security': return '#F87171';
                default: return '#9CA3AF';
            }
        }
        
        function getRiskColor(risk) {
            switch(risk) {
                case 'low': return '#22C55E';
                case 'medium': return '#FBBF24';
                case 'high': return '#F97316';
                default: return '#9CA3AF';
            }
        }
        
        function getMetricColor(value) {
            if (typeof value === 'string') {
                value = parseFloat(value);
            }
            return value >= 0 ? '#22C55E' : '#F87171';
        }
        
        function formatMetric(value, suffix = '') {
            if (typeof value === 'string') return value;
            const sign = value >= 0 ? '+' : '';
            return sign + value + suffix;
        }
        
        let expandedUpgrades = {};
        let activeTab = {};
        
        function toggleUpgradeDetails(agentId) {
            expandedUpgrades[agentId] = !expandedUpgrades[agentId];
            if (!activeTab[agentId]) activeTab[agentId] = 'changelog';
            renderUpgradeRecommendations();
        }
        
        function setUpgradeTab(agentId, tab) {
            activeTab[agentId] = tab;
            renderUpgradeRecommendations();
        }
        
        function renderUpgradeRecommendations() {
            const needs = allAgents.filter(a => a.status === 'active' && a.version !== a.latestVersion).slice(0, 10);
            const container = document.getElementById('upgrade-recommendations');
            if (!container) return;
            
            if (needs.length === 0) { 
                container.innerHTML = `
                    <div style="text-align:center;padding:3rem;background:linear-gradient(135deg, rgba(34,197,94,0.1), rgba(34,197,94,0.05));border-radius:12px;border:1px solid rgba(34,197,94,0.3);">
                        <div style="font-size:4rem;margin-bottom:1rem;">‚úÖ</div>
                        <div style="font-size:1.3rem;font-weight:700;color:var(--green-400);margin-bottom:0.5rem;">All Agents Up To Date</div>
                        <div style="font-size:0.9rem;color:var(--gray-400);">No upgrades pending ‚Ä¢ System running optimally</div>
                    </div>`; 
                return; 
            }
            
            // Calculate aggregate stats
            const totalPerfGain = needs.reduce((sum, a) => sum + getUpgradeDetails(a.id).perfEnhancement, 0);
            const avgProjHealth = needs.reduce((sum, a) => sum + getUpgradeDetails(a.id).projectedHealth, 0) / needs.length;
            const totalAlpha = needs.reduce((sum, a) => {
                const impact = getUpgradeDetails(a.id).alphaImpact;
                const match = impact.match(/\+?([\d.]+)%/);
                return sum + (match ? parseFloat(match[1]) : 0);
            }, 0);
            const highRisk = needs.filter(a => getUpgradeDetails(a.id).riskLevel === 'high').length;
            
            let html = `
                <!-- Aggregate Stats Header -->
                <div style="background:linear-gradient(135deg, var(--navy-700), var(--navy-800));border-radius:12px;padding:1.25rem;margin-bottom:1.5rem;border:1px solid var(--navy-600);">
                    <div style="display:grid;grid-template-columns:repeat(6,1fr);gap:1rem;align-items:center;">
                        <div style="text-align:center;">
                            <div style="font-size:2rem;font-weight:700;color:var(--orange-400);">${needs.length}</div>
                            <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;">Available</div>
                        </div>
                        <div style="text-align:center;">
                            <div style="font-size:2rem;font-weight:700;color:var(--green-400);">+${totalPerfGain.toFixed(1)}%</div>
                            <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;">Perf Gain</div>
                        </div>
                        <div style="text-align:center;">
                            <div style="font-size:2rem;font-weight:700;color:var(--cyan-400);">${avgProjHealth.toFixed(0)}%</div>
                            <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;">Avg Health</div>
                        </div>
                        <div style="text-align:center;">
                            <div style="font-size:2rem;font-weight:700;color:var(--purple-400);">+${totalAlpha.toFixed(2)}%</div>
                            <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;">Alpha Impact</div>
                        </div>
                        <div style="text-align:center;">
                            <div style="font-size:2rem;font-weight:700;color:${highRisk > 0 ? 'var(--orange-400)' : 'var(--green-400)'}">${highRisk}</div>
                            <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;">High Risk</div>
                        </div>
                        <div style="text-align:center;">
                            <button class="control-btn success" style="padding:0.75rem 1.25rem;font-size:0.85rem;font-weight:600;" onclick="upgradeAllAgents()">
                                ‚¨ÜÔ∏è Upgrade All
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Upgrade Cards -->
                <div style="display:flex;flex-direction:column;gap:0.75rem;">
            `;
            
            needs.forEach(agent => {
                const details = getUpgradeDetails(agent.id);
                const isExpanded = expandedUpgrades[agent.id];
                const currentHealth = agent.healthScore;
                const healthDelta = details.projectedHealth - currentHealth;
                const currentTab = activeTab[agent.id] || 'changelog';
                
                html += `
                    <div style="background:var(--navy-700);border-radius:12px;overflow:hidden;border:1px solid ${isExpanded ? 'var(--maxam-blue)' : 'var(--navy-600)'};transition:all 0.2s ease;">
                        <!-- Card Header (always visible) -->
                        <div style="display:flex;align-items:center;padding:1rem 1.25rem;cursor:pointer;transition:background 0.2s;" onclick="toggleUpgradeDetails(${agent.id})" onmouseover="this.style.background='rgba(255,255,255,0.02)'" onmouseout="this.style.background='transparent'">
                            <div style="display:flex;align-items:center;gap:1rem;flex:1;">
                                <div style="font-size:2rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--navy-800);border-radius:10px;">${agent.icon}</div>
                                <div>
                                    <div style="font-weight:600;font-size:1rem;">${agent.name}</div>
                                    <div style="font-size:0.75rem;color:var(--gray-400);">${agent.agentId} ‚Ä¢ ${agent.function}</div>
                                </div>
                            </div>
                            <div style="display:flex;align-items:center;gap:2rem;">
                                <!-- Version -->
                                <div style="text-align:center;min-width:100px;">
                                    <div style="display:flex;align-items:center;gap:0.5rem;justify-content:center;">
                                        <span class="version-badge outdated" style="font-size:0.75rem;">${agent.version}</span>
                                        <span style="color:var(--gray-500);">‚Üí</span>
                                        <span class="version-badge current" style="font-size:0.75rem;">${agent.latestVersion}</span>
                                    </div>
                                    <div style="font-size:0.65rem;color:var(--gray-500);margin-top:0.25rem;">Version</div>
                                </div>
                                <!-- Performance -->
                                <div style="text-align:center;min-width:70px;">
                                    <div style="font-size:1.1rem;font-weight:700;color:var(--green-400);">+${details.perfEnhancement.toFixed(1)}%</div>
                                    <div style="font-size:0.65rem;color:var(--gray-500);">Performance</div>
                                </div>
                                <!-- Health Score -->
                                <div style="text-align:center;min-width:90px;">
                                    <div style="display:flex;align-items:center;gap:0.25rem;justify-content:center;">
                                        <span style="font-size:0.9rem;color:var(--gray-400);">${currentHealth}%</span>
                                        <span style="color:var(--green-400);font-size:0.8rem;">‚Üí</span>
                                        <span style="font-size:1.1rem;font-weight:700;color:var(--green-400);">${details.projectedHealth}%</span>
                                    </div>
                                    <div style="font-size:0.65rem;color:var(--gray-500);">Health Score</div>
                                </div>
                                <!-- Alpha Impact -->
                                <div style="text-align:center;min-width:80px;">
                                    <div style="font-size:1rem;font-weight:600;color:var(--purple-400);">${details.alphaImpact.split(' ')[0]}</div>
                                    <div style="font-size:0.65rem;color:var(--gray-500);">Alpha</div>
                                </div>
                                <!-- Risk Badge -->
                                <div style="text-align:center;min-width:60px;">
                                    <div style="display:inline-block;padding:0.25rem 0.5rem;border-radius:4px;font-size:0.7rem;font-weight:600;text-transform:uppercase;background:${getRiskColor(details.riskLevel)}22;color:${getRiskColor(details.riskLevel)};">${details.riskLevel}</div>
                                    <div style="font-size:0.65rem;color:var(--gray-500);margin-top:0.25rem;">Risk</div>
                                </div>
                                <!-- Expand Icon -->
                                <div style="min-width:30px;text-align:center;">
                                    <span style="font-size:1rem;transition:transform 0.3s;display:inline-block;transform:rotate(${isExpanded ? '180deg' : '0deg'});color:var(--gray-400);">‚ñº</span>
                                </div>
                            </div>
                        </div>
                        
                        ${isExpanded ? `
                        <!-- Expanded Details -->
                        <div style="border-top:1px solid var(--navy-600);background:rgba(0,0,0,0.25);">
                            <!-- Tab Navigation -->
                            <div style="display:flex;border-bottom:1px solid var(--navy-600);padding:0 1rem;">
                                <button onclick="event.stopPropagation();setUpgradeTab(${agent.id},'changelog')" style="padding:0.75rem 1.25rem;background:none;border:none;color:${currentTab === 'changelog' ? 'var(--maxam-blue)' : 'var(--gray-400)'};font-size:0.85rem;cursor:pointer;border-bottom:2px solid ${currentTab === 'changelog' ? 'var(--maxam-blue)' : 'transparent'};margin-bottom:-1px;font-weight:${currentTab === 'changelog' ? '600' : '400'};">üìã Changelog</button>
                                <button onclick="event.stopPropagation();setUpgradeTab(${agent.id},'metrics')" style="padding:0.75rem 1.25rem;background:none;border:none;color:${currentTab === 'metrics' ? 'var(--maxam-blue)' : 'var(--gray-400)'};font-size:0.85rem;cursor:pointer;border-bottom:2px solid ${currentTab === 'metrics' ? 'var(--maxam-blue)' : 'transparent'};margin-bottom:-1px;font-weight:${currentTab === 'metrics' ? '600' : '400'};">üìä Metrics</button>
                                <button onclick="event.stopPropagation();setUpgradeTab(${agent.id},'technical')" style="padding:0.75rem 1.25rem;background:none;border:none;color:${currentTab === 'technical' ? 'var(--maxam-blue)' : 'var(--gray-400)'};font-size:0.85rem;cursor:pointer;border-bottom:2px solid ${currentTab === 'technical' ? 'var(--maxam-blue)' : 'transparent'};margin-bottom:-1px;font-weight:${currentTab === 'technical' ? '600' : '400'};">üîß Technical</button>
                                <button onclick="event.stopPropagation();setUpgradeTab(${agent.id},'testing')" style="padding:0.75rem 1.25rem;background:none;border:none;color:${currentTab === 'testing' ? 'var(--maxam-blue)' : 'var(--gray-400)'};font-size:0.85rem;cursor:pointer;border-bottom:2px solid ${currentTab === 'testing' ? 'var(--maxam-blue)' : 'transparent'};margin-bottom:-1px;font-weight:${currentTab === 'testing' ? '600' : '400'};">‚úÖ Testing</button>
                            </div>
                            
                            <!-- Tab Content -->
                            <div style="padding:1.25rem;">
                                ${currentTab === 'changelog' ? `
                                <!-- Changelog Tab -->
                                <div style="display:grid;grid-template-columns:2fr 1fr;gap:1.5rem;">
                                    <div>
                                        <div style="font-size:0.8rem;font-weight:600;color:var(--gray-300);margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px;">What's New in ${agent.latestVersion}</div>
                                        <div style="display:flex;flex-direction:column;gap:0.6rem;">
                                            ${details.changes.map(c => `
                                                <div style="display:flex;align-items:flex-start;gap:0.75rem;padding:0.6rem 0.75rem;background:var(--navy-800);border-radius:8px;border-left:3px solid ${getChangeTypeColor(c.type)};">
                                                    <span style="font-size:1rem;">${getChangeTypeIcon(c.type)}</span>
                                                    <div style="flex:1;">
                                                        <span style="color:${getChangeTypeColor(c.type)};font-weight:600;font-size:0.7rem;text-transform:uppercase;letter-spacing:0.5px;">${c.type}</span>
                                                        <div style="color:var(--gray-200);font-size:0.85rem;margin-top:0.25rem;">${c.text}</div>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                    <div>
                                        <div style="font-size:0.8rem;font-weight:600;color:var(--gray-300);margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px;">Upgrade Summary</div>
                                        <div style="background:var(--navy-800);border-radius:10px;padding:1rem;">
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-600);">
                                                <span style="color:var(--gray-400);font-size:0.85rem;">Risk Level</span>
                                                <span style="color:${getRiskColor(details.riskLevel)};font-weight:600;font-size:0.85rem;">${details.riskLevel.toUpperCase()}</span>
                                            </div>
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-600);">
                                                <span style="color:var(--gray-400);font-size:0.85rem;">Est. Downtime</span>
                                                <span style="color:var(--cyan-400);font-size:0.85rem;">${details.downtime}</span>
                                            </div>
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-600);">
                                                <span style="color:var(--gray-400);font-size:0.85rem;">Rollback</span>
                                                <span style="color:${details.rollbackAvailable ? 'var(--green-400)' : 'var(--red-400)'};">${details.rollbackAvailable ? '‚úì Available' : '‚úó N/A'}</span>
                                            </div>
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;">
                                                <span style="color:var(--gray-400);font-size:0.85rem;">Health Delta</span>
                                                <span style="color:var(--green-400);font-weight:600;">+${healthDelta}%</span>
                                            </div>
                                        </div>
                                        <button class="control-btn" style="width:100%;margin-top:1rem;padding:0.75rem;font-weight:600;" onclick="event.stopPropagation();upgradeAgent(${agent.id})">
                                            ‚¨ÜÔ∏è Install Upgrade
                                        </button>
                                    </div>
                                </div>
                                ` : currentTab === 'metrics' ? `
                                <!-- Metrics Tab -->
                                <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;">
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Latency</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:${getMetricColor(details.perfMetrics.latency)};">${formatMetric(details.perfMetrics.latency, '%')}</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">Response Time</div>
                                    </div>
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Accuracy</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:${getMetricColor(details.perfMetrics.accuracy)};">+${details.perfMetrics.accuracy}%</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">Signal Quality</div>
                                    </div>
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Throughput</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:${getMetricColor(details.perfMetrics.throughput)};">+${details.perfMetrics.throughput}%</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">Data Processing</div>
                                    </div>
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Memory</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:${getMetricColor(details.perfMetrics.memory)};">${formatMetric(details.perfMetrics.memory, '%')}</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">RAM Usage</div>
                                    </div>
                                </div>
                                <div style="margin-top:1.5rem;display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;">
                                    <div style="background:linear-gradient(135deg, rgba(139,92,246,0.15), rgba(139,92,246,0.05));border-radius:10px;padding:1.25rem;border:1px solid rgba(139,92,246,0.3);">
                                        <div style="font-size:0.8rem;font-weight:600;color:var(--purple-400);margin-bottom:0.75rem;">üí∞ Alpha Impact</div>
                                        <div style="font-size:1.1rem;color:var(--gray-200);">${details.alphaImpact}</div>
                                    </div>
                                    <div style="background:linear-gradient(135deg, rgba(34,197,94,0.15), rgba(34,197,94,0.05));border-radius:10px;padding:1.25rem;border:1px solid rgba(34,197,94,0.3);">
                                        <div style="font-size:0.8rem;font-weight:600;color:var(--green-400);margin-bottom:0.75rem;">üìà Performance Gain</div>
                                        <div style="font-size:1.5rem;font-weight:700;color:var(--green-400);">+${details.perfEnhancement}%</div>
                                    </div>
                                </div>
                                ` : currentTab === 'technical' ? `
                                <!-- Technical Tab -->
                                <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;">
                                    <div>
                                        <div style="font-size:0.8rem;font-weight:600;color:var(--gray-300);margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px;">üì¶ Dependencies</div>
                                        <div style="background:var(--navy-800);border-radius:10px;padding:1rem;font-family:monospace;font-size:0.8rem;">
                                            ${details.dependencies.map(d => `<div style="padding:0.35rem 0;color:var(--cyan-400);border-bottom:1px solid var(--navy-600);">${d}</div>`).join('')}
                                        </div>
                                    </div>
                                    <div>
                                        <div style="font-size:0.8rem;font-weight:600;color:var(--gray-300);margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.5px;">üíª Resource Delta</div>
                                        <div style="background:var(--navy-800);border-radius:10px;padding:1rem;">
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-600);">
                                                <span style="color:var(--gray-400);">CPU Usage</span>
                                                <span style="color:${details.resourceDelta.cpu.includes('-') ? 'var(--green-400)' : details.resourceDelta.cpu === '0%' ? 'var(--gray-400)' : 'var(--yellow-400)'};">${details.resourceDelta.cpu}</span>
                                            </div>
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-600);">
                                                <span style="color:var(--gray-400);">Memory</span>
                                                <span style="color:${details.resourceDelta.memory.includes('-') ? 'var(--green-400)' : 'var(--yellow-400)'};">${details.resourceDelta.memory}</span>
                                            </div>
                                            <div style="display:flex;justify-content:space-between;padding:0.5rem 0;">
                                                <span style="color:var(--gray-400);">GPU</span>
                                                <span style="color:${details.resourceDelta.gpu.includes('Not') ? 'var(--gray-400)' : details.resourceDelta.gpu.includes('Optional') ? 'var(--cyan-400)' : 'var(--purple-400)'};">${details.resourceDelta.gpu}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                ` : `
                                <!-- Testing Tab -->
                                <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;">
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Unit Tests</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:var(--cyan-400);">${details.testingStatus.unit}</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">Test Cases</div>
                                    </div>
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Integration</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:var(--purple-400);">${details.testingStatus.integration}</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">Test Suites</div>
                                    </div>
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Pass Rate</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:var(--green-400);">${details.testingStatus.passed}</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">All Tests</div>
                                    </div>
                                    <div style="background:var(--navy-800);border-radius:10px;padding:1.25rem;text-align:center;">
                                        <div style="font-size:0.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;">Coverage</div>
                                        <div style="font-size:1.75rem;font-weight:700;color:var(--yellow-400);">${details.testingStatus.coverage}</div>
                                        <div style="font-size:0.75rem;color:var(--gray-500);margin-top:0.25rem;">Code Coverage</div>
                                    </div>
                                </div>
                                <div style="margin-top:1.25rem;background:linear-gradient(135deg, rgba(34,197,94,0.1), rgba(34,197,94,0.05));border-radius:10px;padding:1rem;border:1px solid rgba(34,197,94,0.2);display:flex;align-items:center;gap:1rem;">
                                    <span style="font-size:1.5rem;">‚úÖ</span>
                                    <div>
                                        <div style="font-weight:600;color:var(--green-400);">Ready for Production</div>
                                        <div style="font-size:0.85rem;color:var(--gray-400);">All tests passing ‚Ä¢ QA approved ‚Ä¢ Staging validated</div>
                                    </div>
                                </div>
                                `}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        function upgradeAllAgents() {
            const needs = allAgents.filter(a => a.status === 'active' && a.version !== a.latestVersion);
            if (needs.length === 0) return;
            
            const totalPerfGain = needs.reduce((sum, a) => sum + getUpgradeDetails(a.id).perfEnhancement, 0);
            const totalAlpha = needs.reduce((sum, a) => {
                const impact = getUpgradeDetails(a.id).alphaImpact;
                const match = impact.match(/\+?([\d.]+)%/);
                return sum + (match ? parseFloat(match[1]) : 0);
            }, 0);
            
            needs.forEach(a => {
                a.version = a.latestVersion;
                const details = getUpgradeDetails(a.id);
                a.healthScore = Math.min(100, details.projectedHealth);
            });
            expandedUpgrades = {};
            activeTab = {};
            renderUpgradeRecommendations();
            renderHealthScoreSummary();
            renderDashboardAgents();
            
            alert(`‚úÖ Successfully upgraded ${needs.length} agents!\n\nüìä Total Performance Gain: +${totalPerfGain.toFixed(1)}%\nüí∞ Projected Alpha Impact: +${totalAlpha.toFixed(2)}%\n\nAll agents now running latest versions.`);
        }
        
        function renderAgentRiskAlerts() {
            const container = document.getElementById('agent-risk-alerts');
            if (container) container.innerHTML = `
                <div class="alert-card warning"><span class="alert-icon">‚ö†Ô∏è</span><div class="alert-content"><div class="alert-title">Elevated latency detected</div><div class="alert-description">Smart Order Router +15ms delay</div></div><div class="alert-time">3 min ago</div></div>
                <div class="alert-card normal"><span class="alert-icon">üîÑ</span><div class="alert-content"><div class="alert-title">Auto-scaling triggered</div><div class="alert-description">Data cluster scaled to 8 nodes</div></div><div class="alert-time">15 min ago</div></div>
                <div class="alert-card normal"><span class="alert-icon">‚úÖ</span><div class="alert-content"><div class="alert-title">Health check passed</div><div class="alert-description">All 73 agents reporting nominal</div></div><div class="alert-time">1 hour ago</div></div>
            `;
        }
        
        function renderAssets() {
            const tbody = document.getElementById('assets-tbody');
            if (tbody) tbody.innerHTML = assets.map(a => `<tr><td><strong>${a.symbol}</strong> <span style="color:var(--gray-400);font-size:0.8rem;">${a.name}</span></td><td>${a.price >= 100 ? '$' + a.price.toLocaleString() : '$' + a.price.toFixed(2)}</td><td style="color:${a.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(a.change)}</td><td><span class="class-badge" style="background:var(--navy-600);">${a.class}</span></td><td>${a.allocation}%</td><td>${formatCurrency(a.value)}</td></tr>`).join('');
        }
        
        function renderTrades() {
            const container = document.getElementById('trade-list');
            const tradingList = document.getElementById('trading-trade-list');
            const html = trades.map(t => `<div class="trade-item"><span class="trade-symbol">${t.symbol}</span><span class="trade-side ${t.side.toLowerCase()}">${t.side}</span><span class="trade-value">${formatCurrency(t.value)}</span><span class="trade-pnl" style="color:${t.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(t.pnl)}</span><span class="trade-time">${t.time}</span></div>`).join('');
            if (container) container.innerHTML = html;
            if (tradingList) tradingList.innerHTML = html;
        }
        
        function renderAllocationLegend() {
            const container = document.getElementById('allocation-legend');
            if (container) container.innerHTML = allocationData.map(a => `<div class="legend-item"><div class="legend-color" style="background:${a.color};"></div><span class="legend-label">${a.name}</span><span class="legend-value">${a.value}%</span></div>`).join('');
        }
        
        function renderVenues() {
            const crypto = document.getElementById('crypto-venues-grid');
            const tradfi = document.getElementById('tradfi-venues-grid');
            const renderVenue = v => `<div class="stat-card"><div class="stat-header"><span class="stat-label">${v.name}</span><span class="stat-icon">${v.icon}</span></div><div class="stat-value small">${formatCurrency(v.volume * 1e9)}</div><div class="stat-change neutral">${v.trades.toLocaleString()} trades</div></div>`;
            if (crypto) crypto.innerHTML = cryptoVenues.map(renderVenue).join('');
            if (tradfi) tradfi.innerHTML = tradfiVenues.map(renderVenue).join('');
        }
        
        function renderRiskLimits() {
            const container = document.getElementById('risk-limits');
            if (container) container.innerHTML = riskLimits.map(l => {
                const pct = (l.current / l.limit) * 100;
                const color = pct > 90 ? '#EF4444' : pct > 70 ? '#F59E0B' : '#22C55E';
                return `<div style="background:var(--navy-700);padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;"><div style="display:flex;justify-content:space-between;margin-bottom:0.25rem;"><span style="color:var(--gray-400);">${l.name}</span><span>${l.current} / ${l.limit}</span></div><div style="height:6px;background:var(--navy-600);border-radius:3px;"><div style="height:100%;background:${color};border-radius:3px;width:${Math.min(pct, 100)}%;"></div></div></div>`;
            }).join('');
        }
        
        function renderExposureAnalysis() {
            const container = document.getElementById('exposure-analysis');
            if (container) container.innerHTML = allocationData.map(a => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>${a.name}</span><span style="font-weight:600;">${a.value}%</span></div>`).join('');
        }
        
        function renderRiskScoresTable() {
            const tbody = document.getElementById('risk-scores-body');
            if (tbody) {
                const riskData = assets.map(a => ({
                    symbol: a.symbol,
                    class: a.class,
                    riskScore: Math.floor(50 + Math.random() * 45),
                    var95: (Math.random() * 5 + 1).toFixed(2),
                    cvar95: (Math.random() * 7 + 2).toFixed(2),
                    vol: (Math.random() * 60 + 10).toFixed(1),
                    liquidity: Math.floor(70 + Math.random() * 30),
                    smartContract: a.class === 'Crypto' ? (Math.random() > 0.3 ? 'Low' : 'Medium') : 'N/A',
                    correlation: (Math.random() * 0.8 + 0.1).toFixed(2),
                    trend: Math.random() > 0.5 ? '‚Üë' : '‚Üì'
                }));
                tbody.innerHTML = riskData.map(r => `
                    <tr>
                        <td><strong>${r.symbol}</strong></td>
                        <td><span class="class-badge" style="background:var(--navy-600);">${r.class}</span></td>
                        <td><span style="color:${r.riskScore >= 70 ? 'var(--green-400)' : r.riskScore >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${r.riskScore}/100</span></td>
                        <td>-${r.var95}%</td>
                        <td>-${r.cvar95}%</td>
                        <td>${r.vol}%</td>
                        <td>${r.liquidity}/100</td>
                        <td><span style="color:${r.smartContract === 'Low' ? 'var(--green-400)' : r.smartContract === 'Medium' ? 'var(--yellow-400)' : 'var(--gray-400)'};">${r.smartContract}</span></td>
                        <td>${r.correlation}</td>
                        <td><span style="color:${r.trend === '‚Üë' ? 'var(--green-400)' : 'var(--red-400)'};">${r.trend}</span></td>
                        <td><span style="padding:0.25rem 0.5rem;background:rgba(34,197,94,0.2);color:var(--green-400);border-radius:4px;font-size:0.75rem;">Normal</span></td>
                    </tr>
                `).join('');
            }
        }
        
        function renderCorrelationMatrix() {
            const container = document.getElementById('correlation-matrix');
            if (container) {
                container.innerHTML = [
                    { pair: 'SOL / BTC', corr: 0.78, trend: '‚Üë' },
                    { pair: 'ETH / BTC', corr: 0.92, trend: '‚Üí' },
                    { pair: 'SPY / QQQ', corr: 0.96, trend: '‚Üí' },
                    { pair: 'GLD / SPY', corr: -0.12, trend: '‚Üì' },
                    { pair: 'BTC / GLD', corr: 0.24, trend: '‚Üë' }
                ].map(c => `
                    <div style="display:flex;justify-content:space-between;align-items:center;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;">
                        <span>${c.pair}</span>
                        <div style="display:flex;align-items:center;gap:0.5rem;">
                            <span style="font-weight:600;color:${Math.abs(c.corr) > 0.7 ? 'var(--yellow-400)' : 'var(--green-400)'};">${c.corr.toFixed(2)}</span>
                            <span style="color:${c.trend === '‚Üë' ? 'var(--green-400)' : c.trend === '‚Üì' ? 'var(--red-400)' : 'var(--gray-400)'};">${c.trend}</span>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        function renderStressTests() {
            const container = document.getElementById('stress-tests');
            if (container) {
                container.innerHTML = [
                    { scenario: '2020 COVID Crash', impact: -18.2, status: 'passed' },
                    { scenario: '2022 Crypto Winter', impact: -24.8, status: 'passed' },
                    { scenario: 'Flash Crash -20%', impact: -12.4, status: 'passed' },
                    { scenario: 'Interest Rate +200bp', impact: -8.6, status: 'passed' },
                    { scenario: 'Liquidity Crisis', impact: -15.2, status: 'warning' }
                ].map(s => `
                    <div style="display:flex;justify-content:space-between;align-items:center;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;">
                        <span>${s.scenario}</span>
                        <div style="display:flex;align-items:center;gap:0.75rem;">
                            <span style="font-weight:600;color:var(--red-400);">${s.impact}%</span>
                            <span style="padding:0.25rem 0.5rem;background:${s.status === 'passed' ? 'rgba(34,197,94,0.2)' : 'rgba(250,204,21,0.2)'};color:${s.status === 'passed' ? 'var(--green-400)' : 'var(--yellow-400)'};border-radius:4px;font-size:0.75rem;">${s.status === 'passed' ? '‚úì Passed' : '‚ö† Warning'}</span>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        function renderResearchUniverse() {
            const tbody = document.getElementById('research-universe-body');
            if (tbody) {
                const researchData = assets.slice(0, 10).map(a => ({
                    symbol: a.symbol,
                    price: a.price,
                    change: a.change,
                    sentiment: Math.floor(50 + Math.random() * 45),
                    technical: Math.floor(50 + Math.random() * 45),
                    fundamental: Math.floor(50 + Math.random() * 45),
                    social: Math.floor(40 + Math.random() * 55),
                    consensus: Math.random() > 0.6 ? 'BUY' : Math.random() > 0.3 ? 'HOLD' : 'SELL',
                    recommendation: Math.random() > 0.5 ? 'Accumulate' : Math.random() > 0.3 ? 'Hold' : 'Reduce',
                    confidence: Math.floor(60 + Math.random() * 35)
                }));
                tbody.innerHTML = researchData.map(r => `
                    <tr>
                        <td><strong>${r.symbol}</strong></td>
                        <td>$${r.price >= 100 ? r.price.toLocaleString() : r.price.toFixed(2)}</td>
                        <td style="color:${r.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${r.change >= 0 ? '+' : ''}${r.change.toFixed(2)}%</td>
                        <td><span style="color:${r.sentiment >= 70 ? 'var(--green-400)' : r.sentiment >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${r.sentiment}</span></td>
                        <td><span style="color:${r.technical >= 70 ? 'var(--green-400)' : r.technical >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${r.technical}</span></td>
                        <td><span style="color:${r.fundamental >= 70 ? 'var(--green-400)' : r.fundamental >= 50 ? 'var(--yellow-400)' : 'var(--red-400)'};">${r.fundamental}</span></td>
                        <td>${r.social}</td>
                        <td><span style="padding:0.25rem 0.5rem;background:${r.consensus === 'BUY' ? 'rgba(34,197,94,0.2)' : r.consensus === 'HOLD' ? 'rgba(250,204,21,0.2)' : 'rgba(239,68,68,0.2)'};color:${r.consensus === 'BUY' ? 'var(--green-400)' : r.consensus === 'HOLD' ? 'var(--yellow-400)' : 'var(--red-400)'};border-radius:4px;font-size:0.75rem;">${r.consensus}</span></td>
                        <td><strong style="color:${r.recommendation === 'Accumulate' ? 'var(--green-400)' : r.recommendation === 'Hold' ? 'var(--yellow-400)' : 'var(--red-400)'};">${r.recommendation}</strong></td>
                        <td>${r.confidence}%</td>
                        <td><button class="control-btn secondary" style="padding:0.25rem 0.5rem;font-size:0.75rem;" onclick="generateAssetReport()">Analyze</button></td>
                    </tr>
                `).join('');
            }
        }
        
        function renderRiskAlerts() {
            const container = document.getElementById('risk-alerts');
            if (container) container.innerHTML = `
                <div class="alert-card warning"><span class="alert-icon">‚ö†Ô∏è</span><div class="alert-content"><div class="alert-title">SOL position approaching limit</div><div class="alert-description">32.5% allocation (limit: 35%)</div></div><div class="alert-time">2 min ago</div></div>
                <div class="alert-card normal"><span class="alert-icon">‚úÖ</span><div class="alert-content"><div class="alert-title">VaR within normal range</div><div class="alert-description">0.9% (limit: 2.0%)</div></div><div class="alert-time">5 min ago</div></div>
            `;
        }
        
        function renderBenchmarks() {
            const tbody = document.getElementById('benchmark-comparison');
            if (tbody) tbody.innerHTML = benchmarks.map(b => `<tr class="${b.highlight ? 'highlight-row' : ''}"><td>${b.name}</td><td style="color:${b.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y1)}</td><td style="color:${b.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y3)}</td><td style="color:${b.y5 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(b.y5)}</td><td>${b.sharpe.toFixed(2)}</td><td style="color:var(--red-400);">${b.maxDD}%</td></tr>`).join('');
        }
        
        function renderInvestorComparison() {
            const tbody = document.getElementById('investor-comparison-table');
            if (tbody) tbody.innerHTML = investorComparisons.map(c => `<tr class="${c.highlight ? 'highlight-row' : ''}"><td>${c.name}</td><td style="color:${c.ytd >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.ytd)}</td><td style="color:${c.y1 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y1)}</td><td style="color:${c.y3 >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(c.y3)}</td><td>${c.vol.toFixed(1)}%</td><td>${c.sharpe.toFixed(2)}</td><td style="color:var(--red-400);">${c.maxDD}%</td></tr>`).join('');
        }
        
        function renderPositionsTable() {
            const tbody = document.getElementById('positions-table-body');
            if (tbody) tbody.innerHTML = assets.map(a => `<tr><td><strong>${a.symbol}</strong></td><td><span class="class-badge" style="background:var(--navy-600);">${a.class}</span></td><td>${a.price >= 100 ? '$' + a.price.toLocaleString() : '$' + a.price.toFixed(2)}</td><td>${(a.value / a.price).toLocaleString()}</td><td>${formatCurrency(a.value)}</td><td>${a.allocation}%</td><td style="color:${a.pnl >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatCurrency(a.pnl)}</td><td style="color:${a.change >= 0 ? 'var(--green-400)' : 'var(--red-400)'};">${formatPercent(a.change)}</td></tr>`).join('');
        }
        
        function renderAssetClassBreakdown() {
            const container = document.getElementById('asset-class-breakdown');
            if (container) container.innerHTML = allocationData.map(a => `<div style="display:flex;align-items:center;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><div style="display:flex;align-items:center;gap:0.5rem;"><div style="width:12px;height:12px;border-radius:3px;background:${a.color};"></div><span>${a.name}</span></div><span style="font-weight:600;">${a.value}%</span></div>`).join('');
        }
        
        function renderRebalancing() {
            const container = document.getElementById('rebalancing-recommendations');
            if (container) container.innerHTML = `
                <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>SOL</span><span style="color:var(--red-400);">-2.5%</span></div>
                <div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>TLT</span><span style="color:var(--green-400);">+1.5%</span></div>
                <div style="display:flex;justify-content:space-between;padding:0.5rem 0;"><span>GLD</span><span style="color:var(--green-400);">+1.0%</span></div>
                <button class="control-btn" style="margin-top:1rem;width:100%;">Execute Rebalance</button>
            `;
        }
        
        function renderQuarterlyReports() {
            const container = document.getElementById('quarterly-reports');
            if (container) container.innerHTML = ['Q3 2025', 'Q2 2025', 'Q1 2025', 'Q4 2024'].map(q => `<div style="display:flex;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><span>${q} Report</span><button class="control-btn secondary" style="padding:0.25rem 0.5rem;font-size:0.75rem;">üì• Download</button></div>`).join('');
        }
        
        function renderAutomatedReports() {
            const container = document.getElementById('automated-reports-list');
            if (container) container.innerHTML = [
                { time: '08:00 UTC', date: 'Today', sentiment: 'Bullish' },
                { time: '14:00 UTC', date: 'Today', sentiment: 'Bullish' },
                { time: '20:00 UTC', date: 'Yesterday', sentiment: 'Neutral' }
            ].map(r => `<div style="display:flex;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><div><strong>Market Analysis</strong><span style="color:var(--gray-400);margin-left:0.5rem;">${r.time} ‚Ä¢ ${r.date}</span></div><span style="color:var(--green-400);">Sentiment: ${r.sentiment}</span></div>`).join('');
        }
        
        function renderMonitoringAgents() {
            const container = document.getElementById('monitoring-agents-grid');
            if (container) container.innerHTML = phase3.map(renderAgentCard).join('');
        }
        
        function renderDevelopmentAgents() {
            const defi = document.getElementById('defi-agents-grid');
            const analytics = document.getElementById('analytics-agents-grid');
            const ops = document.getElementById('operations-agents-grid');
            const compliance = document.getElementById('compliance-agents-grid');
            if (defi) defi.innerHTML = phase4Defi.map(renderAgentCard).join('');
            if (analytics) analytics.innerHTML = phase4Analytics.map(renderAgentCard).join('');
            if (ops) ops.innerHTML = phase5Ops.map(renderAgentCard).join('');
            if (compliance) compliance.innerHTML = phase5Compliance.map(renderAgentCard).join('');
        }
        
        function renderThreatFeed() {
            const container = document.getElementById('threat-feed');
            if (container) container.innerHTML = [
                { time: '2 min', type: 'Blocked', desc: 'Suspicious IP blocked', icon: 'üö´', severity: 'low' },
                { time: '8 min', type: 'Detected', desc: 'Unusual API pattern', icon: '‚ö†Ô∏è', severity: 'medium' },
                { time: '15 min', type: 'Blocked', desc: 'Failed SSH attempt', icon: 'üö´', severity: 'low' }
            ].map(t => `<div class="alert-card ${t.severity === 'medium' ? 'warning' : 'normal'}"><span class="alert-icon">${t.icon}</span><div class="alert-content"><div class="alert-title">${t.type}</div><div class="alert-description">${t.desc}</div></div><div class="alert-time">${t.time} ago</div></div>`).join('');
        }
        
        function renderAnomalyDetection() {
            const container = document.getElementById('anomaly-detection');
            if (container) container.innerHTML = [
                { metric: 'Trade Volume', status: 'normal', dev: '+12%' },
                { metric: 'API Latency', status: 'normal', dev: '+3ms' },
                { metric: 'Withdrawal Requests', status: 'alert', dev: '+45%' }
            ].map(a => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>${a.metric}</span><span style="color:${a.status === 'alert' ? 'var(--yellow-400)' : 'var(--green-400)'};">${a.dev}</span></div>`).join('');
        }
        
        function renderAccessLog() {
            const container = document.getElementById('access-log');
            if (container) container.innerHTML = [
                { time: '2 min', user: 'Maxwell Chen', action: 'Login', ip: '192.168.1.1' },
                { time: '5 min', user: 'Emily Chang', action: 'Trade executed', ip: '192.168.1.2' },
                { time: '12 min', user: 'Kevin Patel', action: 'Settings change', ip: '192.168.1.3' }
            ].map(l => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><div><strong>${l.user}</strong><span style="color:var(--gray-400);margin-left:0.5rem;">${l.action}</span></div><span style="color:var(--gray-500);font-size:0.8rem;">${l.time} ago</span></div>`).join('');
        }
        
        function renderUsersTable() {
            const tbody = document.getElementById('users-table-body');
            const users = [
                { name: 'Maxwell Chen', email: 'maxwell@maxam.com', role: 'Owner', status: 'Active', twoFactor: true },
                { name: 'Sarah Williams', email: 'sarah@maxam.com', role: 'PM', status: 'Active', twoFactor: true },
                { name: 'David Rodriguez', email: 'david@maxam.com', role: 'Trader', status: 'Active', twoFactor: true }
            ];
            if (tbody) tbody.innerHTML = users.map(u => `<tr><td><strong>${u.name}</strong></td><td style="font-family:monospace;">${u.email}</td><td>${u.role}</td><td style="color:var(--green-400);">${u.status}</td><td>${u.twoFactor ? '‚úì' : '‚úó'}</td><td><button class="control-btn secondary" style="padding:0.25rem 0.5rem;font-size:0.75rem;">Edit</button></td></tr>`).join('');
        }
        
        function renderSystemHealth() {
            const container = document.getElementById('system-health');
            if (container) container.innerHTML = [
                { name: 'API Server', status: 'healthy', uptime: '99.99%' },
                { name: 'Database', status: 'healthy', uptime: '99.99%' },
                { name: 'Trading Engine', status: 'healthy', uptime: '99.99%' },
                { name: 'Risk Engine', status: 'healthy', uptime: '99.99%' }
            ].map(s => `<div style="display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--navy-700);"><span>${s.name}</span><span style="color:var(--green-400);">‚úì ${s.uptime}</span></div>`).join('');
        }
        
        function renderAuditSchedule() {
            const container = document.getElementById('audit-schedule');
            if (container) container.innerHTML = [
                { name: 'Daily Audit', time: '06:00 UTC', status: 'Active' },
                { name: 'Monthly Audit', time: '1st of month', status: 'Active' },
                { name: 'Quarterly Audit', time: 'Jan/Apr/Jul/Oct 1st', status: 'Active' }
            ].map(a => `<div style="background:var(--navy-700);padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;"><div style="display:flex;justify-content:space-between;"><span style="font-weight:600;">${a.name}</span><span style="color:var(--green-400);">${a.status}</span></div><div style="font-size:0.85rem;color:var(--gray-400);margin-top:0.25rem;">${a.time}</div></div>`).join('');
        }
        
        function renderAuditReports() {
            const container = document.getElementById('audit-reports-list');
            if (container) container.innerHTML = [
                { type: 'Daily', date: 'Dec 4, 2025', status: 'Passed' },
                { type: 'Daily', date: 'Dec 3, 2025', status: 'Passed' },
                { type: 'Monthly', date: 'Dec 1, 2025', status: 'Passed' }
            ].map(a => `<div style="display:flex;justify-content:space-between;padding:0.75rem;background:var(--navy-700);border-radius:8px;margin-bottom:0.5rem;"><div><strong>${a.type}</strong><span style="color:var(--gray-400);margin-left:0.5rem;">${a.date}</span></div><span style="color:var(--green-400);">‚úì ${a.status}</span></div>`).join('');
        }
        
        // ============================================
        // CHARTS
        // ============================================
        
        let performanceChart, allocationChart, portfolioAllocationChart, projectionsChart, roiComparisonChart, investorComparisonChart, monitoringTrendChart, alphaChart;
        
        function initCharts() {
            // Performance Chart
            const perfCtx = document.getElementById('performanceChart')?.getContext('2d');
            if (perfCtx) {
                performanceChart = new Chart(perfCtx, {
                    type: 'line',
                    data: { labels: Array.from({length: 30}, (_, i) => `Day ${i+1}`), datasets: [{ label: 'Portfolio Value ($B)', data: Array.from({length: 30}, () => 8.5 + Math.random() * 1), borderColor: '#1E40AF', backgroundColor: 'rgba(30, 64, 175, 0.1)', fill: true, tension: 0.4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', maxTicksLimit: 6 } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => '$' + v.toFixed(1) + 'B' } } } }
                });
            }
            
            // Allocation Chart
            const allocCtx = document.getElementById('allocationChart')?.getContext('2d');
            if (allocCtx) {
                allocationChart = new Chart(allocCtx, {
                    type: 'doughnut',
                    data: { labels: allocationData.map(d => d.name), datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '65%' }
                });
            }
            
            // Portfolio Allocation Chart
            const portCtx = document.getElementById('portfolioAllocationChart')?.getContext('2d');
            if (portCtx) {
                portfolioAllocationChart = new Chart(portCtx, {
                    type: 'doughnut',
                    data: { labels: allocationData.map(d => d.name), datasets: [{ data: allocationData.map(d => d.value), backgroundColor: allocationData.map(d => d.color), borderWidth: 0 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '60%' }
                });
            }
            
            // Projections Chart
            const projCtx = document.getElementById('projectionsChart')?.getContext('2d');
            if (projCtx) {
                const tenYearData = [82.15, 12.38, 14.82, 84.23, 118.45, 6.92, 17.65, 79.82, 105.38, 9.87];
                projectionsChart = new Chart(projCtx, {
                    type: 'bar',
                    data: { labels: ['2026', '2027', '2028', '2029', '2030', '2031', '2032', '2033', '2034', '2035'], datasets: [{ label: 'Annual Return (%)', data: tenYearData, backgroundColor: '#1E40AF', borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } } } }
                });
            }
            
            // ROI Comparison Chart
            const roiCtx = document.getElementById('roiComparisonChart')?.getContext('2d');
            if (roiCtx) {
                const roiData = [{ name: 'Maxam Capital', roi: 62.8, color: '#1E40AF' }, { name: 'BTC', roi: 28.5, color: '#F7931A' }, { name: 'ETH', roi: 24.2, color: '#627EEA' }, { name: 'SOL', roi: 45.8, color: '#9945FF' }, { name: 'S&P 500', roi: 12.4, color: '#22C55E' }, { name: 'Gold', roi: 6.8, color: '#EAB308' }];
                roiComparisonChart = new Chart(roiCtx, {
                    type: 'bar',
                    data: { labels: roiData.map(d => d.name), datasets: [{ label: 'Avg Annual ROI (%)', data: roiData.map(d => d.roi), backgroundColor: roiData.map(d => d.color), borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } }, y: { grid: { display: false }, ticks: { color: '#9CA3AF' } } } }
                });
            }
            
            // Investor Comparison Chart
            const invCtx = document.getElementById('investorComparisonChart')?.getContext('2d');
            if (invCtx) {
                investorComparisonChart = new Chart(invCtx, {
                    type: 'bar',
                    data: { labels: investorComparisons.map(d => d.name), datasets: [{ label: 'YTD Return', data: investorComparisons.map(d => d.ytd), backgroundColor: '#1E40AF', borderRadius: 4 }, { label: '1Y Return', data: investorComparisons.map(d => d.y1), backgroundColor: '#D97706', borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', labels: { color: '#9CA3AF' } } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } } } }
                });
            }
            
            // Monitoring Trend Chart
            const trendCtx = document.getElementById('monitoringTrendChart')?.getContext('2d');
            if (trendCtx) {
                monitoringTrendChart = new Chart(trendCtx, {
                    type: 'line',
                    data: { labels: ['6h', '5h', '4h', '3h', '2h', '1h', 'Now'], datasets: [{ label: 'Health Score', data: [91, 92, 90, 93, 94, 93, 94], borderColor: '#22C55E', backgroundColor: 'rgba(34,197,94,0.1)', fill: true, tension: 0.4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#9CA3AF' } } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } }, y: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF' } } } }
                });
            }
            
            // Alpha Chart
            const alphaCtx = document.getElementById('alphaChart')?.getContext('2d');
            if (alphaCtx) {
                alphaChart = new Chart(alphaCtx, {
                    type: 'bar',
                    data: { labels: ['Technical', 'Sentiment', 'Portfolio', 'Arbitrage', 'Master'], datasets: [{ label: 'Alpha (%)', data: [28.4, 22.1, 15.8, 12.3, 9.7], backgroundColor: ['#8B5CF6', '#06B6D4', '#F59E0B', '#14B8A6', '#7C3AED'], borderRadius: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false } }, scales: { x: { grid: { color: 'rgba(51,65,85,0.5)' }, ticks: { color: '#9CA3AF', callback: v => v + '%' } }, y: { grid: { display: false }, ticks: { color: '#9CA3AF' } } } }
                });
            }
        }
        
        // ============================================
        // NAVIGATION & MODALS
        // ============================================
        
        function switchPage(pageName) {
            document.querySelectorAll('.nav-link').forEach(l => l.classList.toggle('active', l.dataset.page === pageName));
            document.querySelectorAll('.page').forEach(p => p.classList.toggle('active', p.id === 'page-' + pageName));
            const titles = { 'dashboard': 'Dashboard', 'agents': 'AI Agents (96)', 'trading': 'Trading', 'risk': 'Risk Management', 'analytics': 'Analytics', 'portfolio': 'Portfolio Management', 'investor': 'Investor Portal', 'research': 'Research', 'agent-monitoring': 'Agent Monitoring', 'defi-protocols': 'DeFi Protocols', 'advanced-analytics': 'Advanced Analytics', 'operations': 'Operations', 'compliance-agents': 'Compliance Agents', 'auditing': 'Auditing', 'security': 'Security', 'admin': 'Admin Panel' };
            document.getElementById('page-title').textContent = titles[pageName] || pageName;
            closeMobileMenu();
        }
        
        function toggleMobileMenu() { document.getElementById('sidebar').classList.toggle('open'); document.getElementById('sidebar-overlay').classList.toggle('active'); }
        function closeMobileMenu() { document.getElementById('sidebar').classList.remove('open'); document.getElementById('sidebar-overlay').classList.remove('active'); }
        
        function openAgentModal(agentId) {
            const agent = allAgents.find(a => a.id === agentId);
            if (!agent) return;
            const gradeInfo = getGrade(agent.healthScore);
            const isDev = agent.status === 'development';
            document.getElementById('modal-agent-title').innerHTML = `${agent.icon} ${agent.name}`;
            document.getElementById('modal-agent-content').innerHTML = `
                <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem;">
                    <div style="background:var(--navy-700);padding:1rem;border-radius:8px;text-align:center;"><div style="font-size:2rem;font-weight:700;">${isDev ? '-' : agent.healthScore + '%'}</div><div style="font-size:0.8rem;color:var(--gray-400);">Health</div></div>
                    <div style="background:var(--navy-700);padding:1rem;border-radius:8px;text-align:center;"><div style="font-size:2rem;font-weight:700;">${isDev ? '-' : agent.latency + 'ms'}</div><div style="font-size:0.8rem;color:var(--gray-400);">Latency</div></div>
                    <div style="background:var(--navy-700);padding:1rem;border-radius:8px;text-align:center;"><div style="font-size:2rem;font-weight:700;">~${agent.lines.toLocaleString()}</div><div style="font-size:0.8rem;color:var(--gray-400);">Lines</div></div>
                </div>
                <div style="background:var(--navy-700);padding:1rem;border-radius:8px;margin-bottom:1rem;">
                    <div><strong>ID:</strong> ${agent.agentId}</div>
                    <div><strong>Function:</strong> ${agent.function}</div>
                    <div><strong>Status:</strong> ${isDev ? '<span style="color:var(--yellow-400);">In Development</span>' : '<span style="color:var(--green-400);">Active</span>'}</div>
                    <div><strong>Version:</strong> ${agent.version} ${!isDev && agent.version !== agent.latestVersion ? '‚¨ÜÔ∏è Update available' : ''}</div>
                </div>
                <div style="display:flex;gap:1rem;justify-content:flex-end;"><button class="control-btn secondary" onclick="closeAgentModal()">Close</button>${!isDev ? '<button class="control-btn">View Metrics</button>' : ''}</div>
            `;
            document.getElementById('agent-modal').classList.add('active');
        }
        
        function closeAgentModal() { document.getElementById('agent-modal').classList.remove('active'); }
        function openBulkUpgradeModal() { document.getElementById('bulk-upgrade-content').innerHTML = '<p style="margin-bottom:1rem;">Select phase and upgrade type...</p><button class="control-btn success" onclick="closeBulkUpgradeModal()">Execute</button>'; document.getElementById('bulk-upgrade-modal').classList.add('active'); }
        function closeBulkUpgradeModal() { document.getElementById('bulk-upgrade-modal').classList.remove('active'); }
        
        function upgradeAgent(id) { 
            const a = allAgents.find(x => x.id === id); 
            if (a) { 
                const details = getUpgradeDetails(a.id);
                const oldVersion = a.version;
                const oldHealth = a.healthScore;
                a.version = a.latestVersion; 
                a.healthScore = Math.min(100, details.projectedHealth);
                delete expandedUpgrades[id];
                renderUpgradeRecommendations();
                renderHealthScoreSummary();
                renderDashboardAgents();
                alert(`‚úÖ ${a.name} upgraded successfully!\n\nVersion: ${oldVersion} ‚Üí ${a.latestVersion}\nHealth Score: ${oldHealth}% ‚Üí ${a.healthScore}%\nPerformance Gain: +${details.perfEnhancement.toFixed(1)}%`); 
            } 
        }
        function refreshAllAgents() { allAgents.forEach(a => { if (a.status === 'active') a.healthScore = Math.max(60, Math.min(100, a.healthScore + (Math.random() - 0.3) * 3)); }); renderHealthScoreSummary(); }
        function refreshPositions() { alert('Positions refreshed'); }
        function generateAssetReport() { 
            const asset = document.getElementById('research-asset')?.value || 'SOL';
            const reportType = document.getElementById('research-type')?.value || 'full';
            document.getElementById('asset-report-content').innerHTML = `
                <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem;">
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">Technical Score</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--green-400);">87/100</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">Sentiment Score</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--green-400);">82/100</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">Fundamental Score</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--cyan-400);">78/100</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">Agent Consensus</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--green-400);">STRONG BUY</div>
                    </div>
                </div>
                <div style="padding:1.25rem;background:linear-gradient(135deg,rgba(34,197,94,0.1),rgba(34,197,94,0.05));border:1px solid rgba(34,197,94,0.3);border-radius:10px;margin-bottom:1rem;">
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                        <div>
                            <div style="font-weight:700;font-size:1.1rem;">${asset} - ${reportType.charAt(0).toUpperCase() + reportType.slice(1)} Analysis</div>
                            <div style="font-size:0.85rem;color:var(--gray-400);">Generated at ${new Date().toLocaleString()}</div>
                        </div>
                        <div style="text-align:right;">
                            <div style="font-size:0.85rem;color:var(--gray-400);">Overall Confidence</div>
                            <div style="font-size:1.5rem;font-weight:700;color:var(--green-400);">87%</div>
                        </div>
                    </div>
                </div>
                <div style="padding:1rem;background:var(--navy-700);border-radius:8px;">
                    <h4 style="margin-bottom:0.75rem;">Key Insights</h4>
                    <ul style="color:var(--gray-400);font-size:0.9rem;padding-left:1.5rem;">
                        <li>Strong momentum with price above 50-day and 200-day moving averages</li>
                        <li>Social sentiment trending positive (+42% volume in last 24h)</li>
                        <li>On-chain metrics show accumulation pattern from large wallets</li>
                        <li>Risk-adjusted return metrics exceed benchmark by 2.4 standard deviations</li>
                    </ul>
                </div>`;
        }
        
        // Risk Assessment Functions
        function generateRiskAssessment() {
            const asset = document.getElementById('risk-asset-select')?.value || 'SOL';
            const timeframe = document.getElementById('risk-timeframe')?.value || '1m';
            document.getElementById('risk-assessment-timestamp').textContent = `Generated: ${new Date().toLocaleString()}`;
            document.getElementById('risk-assessment-content').innerHTML = `
                <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem;">
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">VaR (95%)</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--yellow-400);">-4.2%</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">CVaR (95%)</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--orange-400);">-6.8%</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">Volatility</div>
                        <div style="font-size:1.5rem;font-weight:700;">42.8%</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;text-align:center;">
                        <div style="font-size:0.8rem;color:var(--gray-400);">Risk Score</div>
                        <div style="font-size:1.5rem;font-weight:700;color:var(--cyan-400);">72/100</div>
                    </div>
                </div>
                <div style="padding:1rem;background:var(--navy-700);border-radius:8px;">
                    <h4 style="margin-bottom:0.75rem;">${asset} Risk Assessment (${timeframe})</h4>
                    <div style="color:var(--gray-400);font-size:0.9rem;">
                        <p style="margin-bottom:0.5rem;">‚Ä¢ Beta to BTC: 1.24 | Beta to SPY: 0.68</p>
                        <p style="margin-bottom:0.5rem;">‚Ä¢ Maximum historical drawdown: -28.4%</p>
                        <p style="margin-bottom:0.5rem;">‚Ä¢ Liquidity score: 94/100 (Excellent)</p>
                        <p>‚Ä¢ Smart contract risk: Low (Audited by 3 firms)</p>
                    </div>
                </div>`;
        }
        function generateRiskReport() { alert('üìÑ Risk Report generated and ready for download'); }
        function refreshAllRiskScores() { alert('üîÑ All risk scores refreshed'); }
        function generateUniverseRiskReport() { alert('üìÑ Universe Risk Report generated for all 17 assets'); }
        function filterRiskAssets() { console.log('Filtering risk assets by class'); }
        
        // Audit Functions
        function generateAudit() { 
            const auditType = document.getElementById('audit-type')?.value || 'full';
            document.getElementById('audit-timestamp').textContent = `Generated: ${new Date().toLocaleString()}`;
            document.getElementById('audit-report-content').innerHTML = `
                <div style="padding:1rem;background:linear-gradient(135deg,rgba(34,197,94,0.1),rgba(34,197,94,0.05));border:1px solid rgba(34,197,94,0.3);border-radius:10px;margin-bottom:1rem;">
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                        <div>
                            <div style="font-weight:700;">${auditType.charAt(0).toUpperCase() + auditType.slice(1)} Audit Report</div>
                            <div style="font-size:0.85rem;color:var(--gray-400);">Maxam Capital ‚Ä¢ ${new Date().toLocaleDateString()}</div>
                        </div>
                        <span style="padding:0.5rem 1rem;background:rgba(34,197,94,0.2);color:var(--green-400);border-radius:6px;font-weight:600;">‚úì PASSED</span>
                    </div>
                </div>
                <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;">
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;">
                        <div style="font-size:0.85rem;color:var(--gray-400);">Positions Verified</div>
                        <div style="font-size:1.25rem;font-weight:700;color:var(--green-400);">17/17 ‚úì</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;">
                        <div style="font-size:0.85rem;color:var(--gray-400);">NAV Reconciled</div>
                        <div style="font-size:1.25rem;font-weight:700;color:var(--green-400);">$9.11B ‚úì</div>
                    </div>
                    <div style="padding:1rem;background:var(--navy-700);border-radius:8px;">
                        <div style="font-size:0.85rem;color:var(--gray-400);">Compliance Score</div>
                        <div style="font-size:1.25rem;font-weight:700;color:var(--green-400);">98.7%</div>
                    </div>
                </div>`;
            alert('üìã Audit generated successfully!');
        }
        function sendToShareholders() { alert('üìß Audit report sent to all 24 shareholders'); }
        function generateQuarterlyReport() { alert('üìä Q4 2025 Quarterly Report generated'); }
        function generateAnnualReport() { alert('üìà 2025 Annual Report generation started'); }
        function runFullBackup() { alert('üíæ Full database backup initiated - ETA: 15 minutes'); }
        function scheduleBackup() { alert('üìÖ Backup scheduled for 00:00 UTC daily'); }
        function exportTradingData() { alert('üì• Trading data export started (142,850 trades)'); }
        function exportAgentLogs() { alert('üì• Agent logs export started (8.2 GB)'); }
        
        // Portfolio Functions
        function toggleRebalanceMode() { 
            const toggle = document.getElementById('rebalance-mode-toggle');
            const label = document.getElementById('rebalance-mode-label');
            if (toggle && label) {
                label.textContent = toggle.checked ? 'Automated' : 'Manual';
                alert(`Rebalancing mode set to: ${toggle.checked ? 'Automated' : 'Manual'}`);
            }
        }
        function executeRebalance() { alert('üîÑ Portfolio rebalancing executed successfully'); }
        function updateAgentAllocation() {
            const slider = document.getElementById('agent-allocation-slider');
            const pct = document.getElementById('agent-allocation-pct');
            const humanSlider = document.getElementById('human-allocation-slider');
            const humanPct = document.getElementById('human-allocation-pct');
            if (slider && pct) {
                pct.textContent = slider.value + '%';
                if (humanSlider && humanPct) {
                    humanSlider.value = 100 - slider.value;
                    humanPct.textContent = (100 - slider.value) + '%';
                }
            }
        }
        function updateHumanAllocation() {
            const slider = document.getElementById('human-allocation-slider');
            const pct = document.getElementById('human-allocation-pct');
            const agentSlider = document.getElementById('agent-allocation-slider');
            const agentPct = document.getElementById('agent-allocation-pct');
            if (slider && pct) {
                pct.textContent = slider.value + '%';
                if (agentSlider && agentPct) {
                    agentSlider.value = 100 - slider.value;
                    agentPct.textContent = (100 - slider.value) + '%';
                }
            }
        }
        function saveCapitalAllocations() { alert('üíæ Capital allocations saved successfully'); }
        function addTraderAllocation() { alert('‚ûï Add new trader allocation dialog'); }
        function exportPositions() { alert('üì• Positions exported to CSV'); }
        
        // Agent Monitoring Functions
        function generateAgentHealthReport() { alert('üìÑ Agent Health Report generated for all 96 agents'); }
        function filterHealthByPhase() { console.log('Filtering health by phase'); }
        function refreshAgentHealth() { 
            allAgents.forEach(a => { if (a.status === 'active') a.healthScore = Math.max(60, Math.min(100, a.healthScore + (Math.random() - 0.3) * 3)); });
            renderHealthScoreSummary();
            alert('üîÑ Agent health scores refreshed');
        }
        function investigateAnomaly(agentId) { alert(`üîç Opening investigation panel for Agent #${agentId}`); }
        function viewAllUpgrades() { navigateTo('agents'); }
        
        // Security Functions
        function addWallet() { alert('‚ûï Add new wallet dialog'); }
        function refreshWallets() { alert('üîÑ Wallet balances refreshed'); }
        function rotateApiKeys() { alert('üîÑ API key rotation initiated - all keys will be regenerated'); }
        function exportAccessLog() { alert('üì• Access log exported'); }
        
        // Research Functions
        function refreshResearchData() { alert('üîÑ Research data refreshed'); }
        function exportResearchReport() { alert('üì• Research report exported as PDF'); }
        function shareReport() { alert('üì§ Share report dialog opened'); }
        function scheduleReport() { alert('üìÖ Daily report scheduled'); }
        
        // Admin Functions
        function openAddUserModal() { alert('‚ûï Add user modal opened'); }
        function editRole(role) { alert(`‚úèÔ∏è Editing permissions for: ${role}`); }
        function createCustomRole() { alert('‚ûï Create custom role dialog'); }
        function saveSystemSettings() { alert('üíæ System settings saved'); }
        function resetSystemSettings() { alert('‚Ü©Ô∏è System settings reset to defaults'); }
        function exportSettings() { alert('üì• Configuration exported'); }
        function runDbOptimization() { alert('üîß Database optimization started'); }
        function clearCache() { alert('üßπ Cache cleared (2.4 GB freed)'); }
        function cleanupLogs() { alert('üßπ Logs cleaned up (8.2 GB freed)'); }
        function scheduleRestart() { alert('‚ö†Ô∏è System restart scheduled for maintenance window'); }
        function generateApiKey() { alert('üîë New API key generated'); }
        function exportAuditTrail() { alert('üì• Admin audit trail exported'); }
        
        // Investor Portal Functions
        function updateInvestorChart() { console.log('Updating investor chart timeframe'); }
        function downloadReport(reportId) { alert(`üì• Downloading report: ${reportId}`); }
        function downloadAllStatements() { alert('üì• Downloading all quarterly statements'); }
        
        // ============================================
        // REAL-TIME UPDATES
        // ============================================
        
        function updateDateTime() { document.getElementById('datetime').textContent = new Date().toLocaleString(); }
        
        function simulateUpdates() {
            if (Math.random() > 0.6) {
                const symbols = ['SOL', 'BTC', 'ETH', 'XRP', 'SPY', 'GLD'];
                trades.unshift({ symbol: symbols[Math.floor(Math.random() * symbols.length)], side: Math.random() > 0.4 ? 'BUY' : 'SELL', value: Math.random() * 5000000 + 100000, pnl: (Math.random() - 0.3) * 5, time: new Date().toLocaleTimeString() });
                trades = trades.slice(0, 20);
                renderTrades();
            }
            const pnl = 42850000 + (Math.random() - 0.45) * 2000000;
            document.getElementById('stat-pnl').textContent = formatCurrency(pnl);
        }
        
        // ============================================
        // INITIALIZE
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            trades = generateTrades();
            
            // Render all components
            renderDashboardAgents();
            renderPhaseTabs();
            renderPhaseAgents('phase0');
            renderHealthScoreSummary();
            renderUpgradeRecommendations();
            renderAgentRiskAlerts();
            renderAssets();
            renderTrades();
            renderAllocationLegend();
            renderVenues();
            renderRiskLimits();
            renderExposureAnalysis();
            renderRiskScoresTable();
            renderCorrelationMatrix();
            renderStressTests();
            renderResearchUniverse();
            renderRiskAlerts();
            renderBenchmarks();
            renderInvestorComparison();
            renderPositionsTable();
            renderAssetClassBreakdown();
            renderRebalancing();
            renderQuarterlyReports();
            renderAutomatedReports();
            renderMonitoringAgents();
            renderDevelopmentAgents();
            renderThreatFeed();
            renderAnomalyDetection();
            renderAccessLog();
            renderUsersTable();
            renderSystemHealth();
            renderAuditSchedule();
            renderAuditReports();
            
            initCharts();
            updateDateTime();
            setInterval(updateDateTime, 1000);
            setInterval(simulateUpdates, 3000);
        });
    </script>
</body>
</html>
